import{S as h,i as x,s as ee,y as d,z as k,A as b,g as u,d as m,B as w,E as te,w as le,T as ne,a as T,c as v,b as p,V as fe,h as g,Y as H,F as K,G as M,H as O,I as P,v as j,f as B,q,r as A,u as C,e as I}from"./index.84a1bd3e.js";import{S as E,H as se,I as F}from"./Spinner.svelte_svelte_type_style_lang.4d5655d2.js";import{S as re}from"./Spacer.98ca708d.js";import"./paths.b27f9a22.js";import{s as ae,c as ie,n as y,o as L}from"./Track.c22c5dae.js";import{m as oe,T as ue,A as $e}from"./util.bbe77a4e.js";import{T as ce}from"./Player.4ea8494f.js";const me=r=>({}),V=r=>({slot:"action"});function Y(r){let t,f;return t=new $e({props:{href:r[6],round:r[2]==="artist",of:r[3]}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),f=!0},p(e,l){const n={};l&64&&(n.href=e[6]),l&4&&(n.round=e[2]==="artist"),l&8&&(n.of=e[3]),t.$set(n)},i(e){f||(u(t.$$.fragment,e),f=!0)},o(e){m(t.$$.fragment,e),f=!1},d(e){w(t,e)}}}function _e(r){var e;let t=((e=r[3])==null?void 0:e.title)+"",f;return{c(){f=q(t)},l(l){f=A(l,t)},m(l,n){p(l,f,n)},p(l,n){var s;n&8&&t!==(t=((s=l[3])==null?void 0:s.title)+"")&&C(f,t)},d(l){l&&g(f)}}}function pe(r){let t,f;return t=new y({props:{secondary:!0,loading:!r[3],indent:r[2]==="playlist",$$slots:{default:[de]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),f=!0},p(e,l){const n={};l&8&&(n.loading=!e[3]),l&4&&(n.indent=e[2]==="playlist"),l&32804&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){f||(u(t.$$.fragment,e),f=!0)},o(e){m(t.$$.fragment,e),f=!1},d(e){w(t,e)}}}function ge(r){let t,f,e,l,n,s;t=new y({props:{secondary:!0,indent:r[2]==="playlist",$$slots:{default:[ke]},$$scope:{ctx:r}}}),e=new y({props:{secondary:!0,indent:r[2]==="playlist",$$slots:{default:[be]},$$scope:{ctx:r}}});let i="remote"in r[3]&&r[3].remote&&J(r);return{c(){d(t.$$.fragment),f=T(),d(e.$$.fragment),l=T(),i&&i.c(),n=I()},l(a){k(t.$$.fragment,a),f=v(a),k(e.$$.fragment,a),l=v(a),i&&i.l(a),n=I()},m(a,o){b(t,a,o),p(a,f,o),b(e,a,o),p(a,l,o),i&&i.m(a,o),p(a,n,o),s=!0},p(a,o){const c={};o&4&&(c.indent=a[2]==="playlist"),o&32776&&(c.$$scope={dirty:o,ctx:a}),t.$set(c);const S={};o&4&&(S.indent=a[2]==="playlist"),o&32776&&(S.$$scope={dirty:o,ctx:a}),e.$set(S),"remote"in a[3]&&a[3].remote?i?(i.p(a,o),o&8&&u(i,1)):(i=J(a),i.c(),u(i,1),i.m(n.parentNode,n)):i&&(j(),m(i,1,1,()=>{i=null}),B())},i(a){s||(u(t.$$.fragment,a),u(e.$$.fragment,a),u(i),s=!0)},o(a){m(t.$$.fragment,a),m(e.$$.fragment,a),m(i),s=!1},d(a){w(t,a),a&&g(f),w(e,a),a&&g(l),i&&i.d(a),a&&g(n)}}}function D(r){let t,f;return t=new F({props:{name:"globe",sm:!0}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),f=!0},i(e){f||(u(t.$$.fragment,e),f=!0)},o(e){m(t.$$.fragment,e),f=!1},d(e){w(t,e)}}}function de(r){let t,f,e,l=r[2]==="artist"&&D();return{c(){l&&l.c(),t=T(),f=q(r[5])},l(n){l&&l.l(n),t=v(n),f=A(n,r[5])},m(n,s){l&&l.m(n,s),p(n,t,s),p(n,f,s),e=!0},p(n,s){n[2]==="artist"?l?s&4&&u(l,1):(l=D(),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(j(),m(l,1,1,()=>{l=null}),B()),(!e||s&32)&&C(f,n[5])},i(n){e||(u(l),e=!0)},o(n){m(l),e=!1},d(n){l&&l.d(n),n&&g(t),n&&g(f)}}}function ke(r){let t,f,e=r[3].collection.size+"",l,n;return t=new F({props:{name:"note",sm:!0}}),{c(){d(t.$$.fragment),f=T(),l=q(e)},l(s){k(t.$$.fragment,s),f=v(s),l=A(s,e)},m(s,i){b(t,s,i),p(s,f,i),p(s,l,i),n=!0},p(s,i){(!n||i&8)&&e!==(e=s[3].collection.size+"")&&C(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){w(t,s),s&&g(f),s&&g(l)}}}function be(r){let t,f,e=L(r[3].collection.duration)+"",l,n;return t=new F({props:{name:"clock",sm:!0}}),{c(){d(t.$$.fragment),f=T(),l=q(e)},l(s){k(t.$$.fragment,s),f=v(s),l=A(s,e)},m(s,i){b(t,s,i),p(s,f,i),p(s,l,i),n=!0},p(s,i){(!n||i&8)&&e!==(e=L(s[3].collection.duration)+"")&&C(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){w(t,s),s&&g(f),s&&g(l)}}}function J(r){let t,f,e,l;return t=new re({}),e=new y({props:{secondary:!0,$$slots:{default:[we]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment),f=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),f=v(n),k(e.$$.fragment,n)},m(n,s){b(t,n,s),p(n,f,s),b(e,n,s),l=!0},p(n,s){const i={};s&32776&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){w(t,n),n&&g(f),w(e,n)}}}function we(r){let t,f,e=r[3].remote+"",l,n;return t=new F({props:{name:"share",sm:!0}}),{c(){d(t.$$.fragment),f=T(),l=q(e)},l(s){k(t.$$.fragment,s),f=v(s),l=A(s,e)},m(s,i){b(t,s,i),p(s,f,i),p(s,l,i),n=!0},p(s,i){(!n||i&8)&&e!==(e=s[3].remote+"")&&C(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){w(t,s),s&&g(f),s&&g(l)}}}function Se(r){let t,f,e,l;const n=[ge,pe],s=[];function i(a,o){var c;return(c=a[3])!=null&&c.collection?0:1}return t=i(r),f=s[t]=n[t](r),{c(){f.c(),e=I()},l(a){f.l(a),e=I()},m(a,o){s[t].m(a,o),p(a,e,o),l=!0},p(a,o){let c=t;t=i(a),t===c?s[t].p(a,o):(j(),m(s[c],1,1,()=>{s[c]=null}),B(),f=s[t],f?f.p(a,o):(f=s[t]=n[t](a),f.c()),u(f,1),f.m(e.parentNode,e))},i(a){l||(u(f),l=!0)},o(a){m(f),l=!1},d(a){s[t].d(a),a&&g(e)}}}function Te(r){let t,f,e,l;return t=new se({props:{xl:r[2]==="playlist",indent:r[2]==="playlist",loading:!r[3],$$slots:{default:[_e]},$$scope:{ctx:r}}}),e=new E({props:{x:!0,gap:"lg",$$slots:{default:[Se]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment),f=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),f=v(n),k(e.$$.fragment,n)},m(n,s){b(t,n,s),p(n,f,s),b(e,n,s),l=!0},p(n,s){const i={};s&4&&(i.xl=n[2]==="playlist"),s&4&&(i.indent=n[2]==="playlist"),s&8&&(i.loading=!n[3]),s&32776&&(i.$$scope={dirty:s,ctx:n}),t.$set(i);const a={};s&32812&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){w(t,n),n&&g(f),w(e,n)}}}function ve(r){let t,f,e,l=r[2]!=="playlist"&&Y(r);return f=new E({props:{gap:!0,$$slots:{default:[Te]},$$scope:{ctx:r}}}),{c(){l&&l.c(),t=T(),d(f.$$.fragment)},l(n){l&&l.l(n),t=v(n),k(f.$$.fragment,n)},m(n,s){l&&l.m(n,s),p(n,t,s),b(f,n,s),e=!0},p(n,s){n[2]!=="playlist"?l?(l.p(n,s),s&4&&u(l,1)):(l=Y(n),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(j(),m(l,1,1,()=>{l=null}),B());const i={};s&32812&&(i.$$scope={dirty:s,ctx:n}),f.$set(i)},i(n){e||(u(l),u(f.$$.fragment,n),e=!0)},o(n){m(l),m(f.$$.fragment,n),e=!1},d(n){l&&l.d(n),n&&g(t),w(f,n)}}}function ze(r){let t,f;return t=new E({props:{gap:"lg",x:!0,center:!0,p:r[2]!=="playlist",$$slots:{default:[ve]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),f=!0},p(e,l){const n={};l&4&&(n.p=e[2]!=="playlist"),l&32876&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){f||(u(t.$$.fragment,e),f=!0)},o(e){m(t.$$.fragment,e),f=!1},d(e){w(t,e)}}}function Ne(r){let t;const f=r[9].default,e=K(f,r,r[15],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&M(e,f,l,l[15],t?P(f,l[15],n,null):O(l[15]),null)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function qe(r){let t;const f=r[9].action,e=K(f,r,r[15],V);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&M(e,f,l,l[15],t?P(f,l[15],n,me):O(l[15]),V)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function Ae(r){var a;let t,f,e,l,n;t=new ue({props:{title:((a=r[3])==null?void 0:a.title)||"",$$slots:{default:[ze]},$$scope:{ctx:r}}});function s(o){r[10](o)}let i={fixed:r[1]||(r[2]==="playlist"?!!r[4]:!0),tracks:r[7],$$slots:{action:[qe],default:[Ne]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.selected=r[0]),e=new ce({props:i}),le.push(()=>ne(e,"selected",s)),e.$on("edit",r[11]),e.$on("click",r[12]),e.$on("action",r[13]),e.$on("end",r[14]),{c(){d(t.$$.fragment),f=T(),d(e.$$.fragment)},l(o){k(t.$$.fragment,o),f=v(o),k(e.$$.fragment,o)},m(o,c){b(t,o,c),p(o,f,c),b(e,o,c),n=!0},p(o,c){var z;const S={};c&8&&(S.title=((z=o[3])==null?void 0:z.title)||""),c&32876&&(S.$$scope={dirty:c,ctx:o}),t.$set(S);const _={};c&22&&(_.fixed=o[1]||(o[2]==="playlist"?!!o[4]:!0)),c&128&&(_.tracks=o[7]),c&32768&&(_.$$scope={dirty:c,ctx:o}),!l&&c&1&&(l=!0,_.selected=o[0],fe(()=>l=!1)),e.$set(_)},i(o){n||(u(t.$$.fragment,o),u(e.$$.fragment,o),n=!0)},o(o){m(t.$$.fragment,o),m(e.$$.fragment,o),n=!1},d(o){w(t,o),o&&g(f),w(e,o)}}}function Ce(r){let t,f;return t=new E({props:{gap:r[2]==="playlist"?"lg":void 0,grow:!0,$$slots:{default:[Ae]},$$scope:{ctx:r}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),f=!0},p(e,[l]){const n={};l&4&&(n.gap=e[2]==="playlist"?"lg":void 0),l&33023&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){f||(u(t.$$.fragment,e),f=!0)},o(e){m(t.$$.fragment,e),f=!1},d(e){w(t,e)}}}function He(r,t,f){let e,l,n,s;te(r,ae,$=>f(4,s=$));let{$$slots:i={},$$scope:a}=t,{fixed:o=!1}=t,{style:c}=t,{selected:S=new Set}=t,{of:_=void 0}=t,{tracks:z=void 0}=t;const Q=$=>[...new Set($)];function R($){S=$,f(0,S)}function U($){H.call(this,r,$)}function W($){H.call(this,r,$)}function X($){H.call(this,r,$)}function Z($){H.call(this,r,$)}return r.$$set=$=>{"fixed"in $&&f(1,o=$.fixed),"style"in $&&f(2,c=$.style),"selected"in $&&f(0,S=$.selected),"of"in $&&f(3,_=$.of),"tracks"in $&&f(8,z=$.tracks),"$$scope"in $&&f(15,a=$.$$scope)},r.$$.update=()=>{var $,G;r.$$.dirty&280&&f(7,e=(G=z||(($=_==null?void 0:_.collection)==null?void 0:$.tracks))==null?void 0:G.filter(oe(s))),r.$$.dirty&12&&f(6,l=_!=null&&_.collection&&c!=="playlist"?`/explore/${c}#${_==null?void 0:_.id}`:void 0),r.$$.dirty&8&&f(5,n=_?Q("artists"in _?_.artists.map(N=>N.title):"sources"in _?_==null?void 0:_.sources.map(N=>ie(N.split("/")[0])).filter(N=>!!N):[]).join(", "):"Loading")},[S,o,c,_,s,n,l,e,z,i,R,U,W,X,Z,a]}class Le extends h{constructor(t){super(),x(this,t,He,Ce,ee,{fixed:1,style:2,selected:0,of:3,tracks:8})}}export{Le as C};
