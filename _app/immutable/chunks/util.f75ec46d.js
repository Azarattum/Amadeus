import{S as F,i as G,s as D,F as K,k as w,q as P,a as W,l as y,m as $,r as X,h as m,c as Y,n as I,M as v,b as k,D as E,L as S,U as Z,u as q,G as x,H as ee,I as te,g,d as p,$ as le,w as ne,e as A,O as se,a5 as ie,ae as V,p as C,v as M,f as Q,a6 as ae,y as N,z as T,A as U,B as z,Q as oe}from"./index.84a1bd3e.js";import{I as re}from"./Spinner.svelte_svelte_type_style_lang.68398dd0.js";import{m as fe,I as J}from"./Track.e3ca4152.js";import"./paths.5d1d0ced.js";function ue(a){let e,l,s,n,o,t,i,f,h;const b=a[6].default,c=K(b,a,a[5],null);return{c(){e=w("aside"),l=w("button"),s=w("h2"),n=P(a[1]),o=W(),t=w("div"),c&&c.c(),this.h()},l(u){e=y(u,"ASIDE",{class:!0});var r=$(e);l=y(r,"BUTTON",{tabindex:!0,class:!0});var d=$(l);s=y(d,"H2",{});var _=$(s);n=X(_,a[1]),_.forEach(m),d.forEach(m),r.forEach(m),o=Y(u),t=y(u,"DIV",{class:!0});var R=$(t);c&&c.l(R),R.forEach(m),this.h()},h(){I(l,"tabindex","-1"),I(l,"class","fixed z-50 flex h-11 w-full origin-top scale-y-0 transform-gpu touch-manipulation select-none items-center justify-center border-b border-highlight bg-gradient-to-t from-surface/70 to-surface font-semibold opacity-0 backdrop-blur-md transition-composite will-change-transform sm:bg-inherit svelte-awudgc"),v(l,"scale-y-100",a[0]),v(l,"opacity-100",a[0]),I(e,"class","absolute left-0 top-0"),I(t,"class","transition-composite"),v(t,"opacity-0",a[0])},m(u,r){k(u,e,r),E(e,l),E(l,s),E(s,n),k(u,o,r),k(u,t,r),c&&c.m(t,null),a[7](t),i=!0,f||(h=[S(l,"click",a[3]),Z(fe.call(null,t,.8)),S(t,"intersect",a[4])],f=!0)},p(u,[r]){(!i||r&2)&&q(n,u[1]),(!i||r&1)&&v(l,"scale-y-100",u[0]),(!i||r&1)&&v(l,"opacity-100",u[0]),c&&c.p&&(!i||r&32)&&x(c,b,u,u[5],i?te(b,u[5],r,null):ee(u[5]),null),(!i||r&1)&&v(t,"opacity-0",u[0])},i(u){i||(g(c,u),i=!0)},o(u){p(c,u),i=!1},d(u){u&&m(e),u&&m(o),u&&m(t),c&&c.d(u),a[7](null),f=!1,le(h)}}}function ce(a,e,l){let{$$slots:s={},$$scope:n}=e,{stuck:o=!1}=e,{title:t=""}=e,i;const f=()=>i==null?void 0:i.scrollIntoView({behavior:"smooth"});function h({detail:c}){const u=c.boundingClientRect,r=c.rootBounds;if(u.x<c.intersectionRect.x-1)return;const d=((r==null?void 0:r.x)||0)+((r==null?void 0:r.width)||0);u.x+u.width-d>5||l(0,o=c.intersectionRatio<.8)}function b(c){ne[c?"unshift":"push"](()=>{i=c,l(2,i)})}return a.$$set=c=>{"stuck"in c&&l(0,o=c.stuck),"title"in c&&l(1,t=c.title),"$$scope"in c&&l(5,n=c.$$scope)},[o,t,i,f,h,n,s,b]}class we extends F{constructor(e){super(),G(this,e,ce,ue,D,{stuck:0,title:1})}}function j(a,e,l){const s=a.slice();return s[3]=e[l].album.arts,s[4]=e[l].album.thumbnails,s}function he(a){var s,n;let e,l;return e=new J({props:{size:B,src:a[0]?((s=a[0].arts)==null?void 0:s[0])||"":void 0,thumbnail:a[0]?((n=a[0].thumbnails)==null?void 0:n[0])||"":void 0,$$slots:{default:[me]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,t){U(e,o,t),l=!0},p(o,t){var f,h;const i={};t&1&&(i.src=o[0]?((f=o[0].arts)==null?void 0:f[0])||"":void 0),t&1&&(i.thumbnail=o[0]?((h=o[0].thumbnails)==null?void 0:h[0])||"":void 0),t&129&&(i.$$scope={dirty:t,ctx:o}),e.$set(i)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){z(e,o)}}}function de(a){let e,l,s=a[0].collection.tracks.filter(O).slice(0,4),n=[];for(let t=0;t<s.length;t+=1)n[t]=H(j(a,s,t));const o=t=>p(n[t],1,1,()=>{n[t]=null});return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=A()},l(t){for(let i=0;i<n.length;i+=1)n[i].l(t);e=A()},m(t,i){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,i);k(t,e,i),l=!0},p(t,i){if(i&1){s=t[0].collection.tracks.filter(O).slice(0,4);let f;for(f=0;f<s.length;f+=1){const h=j(t,s,f);n[f]?(n[f].p(h,i),g(n[f],1)):(n[f]=H(h),n[f].c(),g(n[f],1),n[f].m(e.parentNode,e))}for(M(),f=s.length;f<n.length;f+=1)o(f);Q()}},i(t){if(!l){for(let i=0;i<s.length;i+=1)g(n[i]);l=!0}},o(t){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)p(n[i]);l=!1},d(t){oe(n,t),t&&m(e)}}}function me(a){var o;let e,l,s=`hue-rotate(${((o=a[0])==null?void 0:o.id)||0}deg)`,n;return l=new re({props:{name:a[0]&&"year"in a[0]?"disk":"person",xl:!0}}),{c(){e=w("div"),N(l.$$.fragment),this.h()},l(t){e=y(t,"DIV",{class:!0});var i=$(e);T(l.$$.fragment,i),i.forEach(m),this.h()},h(){I(e,"class","flex h-full w-full items-center justify-center bg-gradient-to-r from-rose-400 to-red-400 text-white"),C(e,"filter",s)},m(t,i){k(t,e,i),U(l,e,null),n=!0},p(t,i){var h;const f={};i&1&&(f.name=t[0]&&"year"in t[0]?"disk":"person"),l.$set(f),i&1&&s!==(s=`hue-rotate(${((h=t[0])==null?void 0:h.id)||0}deg)`)&&C(e,"filter",s)},i(t){n||(g(l.$$.fragment,t),n=!0)},o(t){p(l.$$.fragment,t),n=!1},d(t){t&&m(e),z(l)}}}function H(a){var s,n;let e,l;return e=new J({props:{src:((s=a[3])==null?void 0:s[0])||"",thumbnail:((n=a[4])==null?void 0:n[0])||""}}),{c(){N(e.$$.fragment)},l(o){T(e.$$.fragment,o)},m(o,t){U(e,o,t),l=!0},p(o,t){var f,h;const i={};t&1&&(i.src=((f=o[3])==null?void 0:f[0])||""),t&1&&(i.thumbnail=((h=o[4])==null?void 0:h[0])||""),e.$set(i)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){z(e,o)}}}function L(a){let e,l,s,n,o=`${B}px`,t=`${B}px`,i;const f=[de,he],h=[];function b(r,d){var _;return(_=r[0])!=null&&_.collection&&!r[0].arts?0:1}l=b(a),s=h[l]=f[l](a);let c=[{href:a[2]},{class:n="grid shrink-0 grid-cols-2 gap-2 overflow-hidden shadow-lg contain-paint "+(a[1]?"rounded-full":"rounded-2xl")+" "+(a[2]?"outline outline-0 outline-highlight transition-[outline_transform] active:scale-95 hover:outline-8":"")}],u={};for(let r=0;r<c.length;r+=1)u=ie(u,c[r]);return{c(){e=w(a[2]?"a":"div"),s.c(),this.h()},l(r){e=y(r,((a[2]?"a":"div")||"null").toUpperCase(),{href:!0,class:!0});var d=$(e);s.l(d),d.forEach(m),this.h()},h(){V(a[2]?"a":"div")(e,u),v(e,"bg-highlight",Array.isArray(a[0])&&!a[0].length),C(e,"width",o),C(e,"height",t)},m(r,d){k(r,e,d),h[l].m(e,null),i=!0},p(r,d){let _=l;l=b(r),l===_?h[l].p(r,d):(M(),p(h[_],1,1,()=>{h[_]=null}),Q(),s=h[l],s?s.p(r,d):(s=h[l]=f[l](r),s.c()),g(s,1),s.m(e,null)),V(r[2]?"a":"div")(e,u=ae(c,[(!i||d&4)&&{href:r[2]},(!i||d&6&&n!==(n="grid shrink-0 grid-cols-2 gap-2 overflow-hidden shadow-lg contain-paint "+(r[1]?"rounded-full":"rounded-2xl")+" "+(r[2]?"outline outline-0 outline-highlight transition-[outline_transform] active:scale-95 hover:outline-8":"")))&&{class:n}])),v(e,"bg-highlight",Array.isArray(r[0])&&!r[0].length)},i(r){i||(g(s),i=!0)},o(r){p(s),i=!1},d(r){r&&m(e),h[l].d()}}}function _e(a){let e=a[2]?"a":"div",l,s=(a[2]?"a":"div")&&L(a);return{c(){s&&s.c(),l=A()},l(n){s&&s.l(n),l=A()},m(n,o){s&&s.m(n,o),k(n,l,o)},p(n,[o]){n[2],e?D(e,n[2]?"a":"div")?(s.d(1),s=L(n),e=n[2]?"a":"div",s.c(),s.m(l.parentNode,l)):s.p(n,o):(s=L(n),e=n[2]?"a":"div",s.c(),s.m(l.parentNode,l))},i:se,o(n){p(s)},d(n){n&&m(l),s&&s.d(n)}}}const B=104,O=a=>{var e;return(e=a.album.arts)==null?void 0:e.length};function ge(a,e,l){let{of:s=void 0}=e,{round:n=!1}=e,{href:o=void 0}=e;return a.$$set=t=>{"of"in t&&l(0,s=t.of),"round"in t&&l(1,n=t.round),"href"in t&&l(2,o=t.href)},[s,n,o]}class ye extends F{constructor(e){super(),G(this,e,ge,_e,D,{of:0,round:1,href:2})}}function $e(a){return a=a.toLowerCase(),e=>{var l,s,n,o;return a?e?!!((l=e.title)!=null&&l.toLowerCase().includes(a))||!!((s=e.artists)!=null&&s.find(t=>{var i;return(i=t.title)==null?void 0:i.toLowerCase().includes(a)}))||!!((o=(n=e.album)==null?void 0:n.title)!=null&&o.toLowerCase().includes(a)):!1:!0}}export{ye as A,we as T,$e as m};
