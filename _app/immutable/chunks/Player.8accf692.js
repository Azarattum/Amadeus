import{s as te,f as D,g as V,j as m,i as y,G as Y,d as h,A as lt,w as ae,a as B,h as S,c as H,k as Z,E as O,u as T,C as A,x as oe,y as fe,z as ue,T as ce,H as Ye,W as Ee,J as $e,Y as Ne,l as Q,m as X,D as Le,n as me,Z as it,U as ke,L as at,o as ot,p as de,_ as ze,$ as Se,K as he,M as _e,e as le,a0 as Me,v as Pe,t as ft}from"./scheduler.c5d52407.js";import{S as ne,i as re,a as p,g as x,t as g,c as ee,h as ie,f as pe,b as C,d as N,m as L,e as z,r as ut}from"./index.0fc8bad8.js";import{i as ct,S as Qe,B as Ie,I as we,H as ge,t as dt}from"./Spinner.svelte_svelte_type_style_lang.44f1e953.js";import{n as Xe,w as Ae,I as _t,r as mt,q as ht,V as pt,W as xe,P as et,x as gt,k as K,T as Te,y as $t,z as bt}from"./Track.e3d02d5e.js";import"./paths.a52d509b.js";function vt(r){let e,t;return{c(){e=D("hr"),this.h()},l(n){e=V(n,"HR",{class:!0,"aria-hidden":!0}),this.h()},h(){m(e,"class",t="border-highlight "+(r[0]?"h-full w-0 border-r":"w-full")),m(e,"aria-hidden","true")},m(n,s){y(n,e,s)},p(n,[s]){s&1&&t!==(t="border-highlight "+(n[0]?"h-full w-0 border-r":"w-full"))&&m(e,"class",t)},i:Y,o:Y,d(n){n&&h(e)}}}function kt(r,e,t){let{vertical:n=lt("stack")==="x"}=e;return r.$$set=s=>{"vertical"in s&&t(0,n=s.vertical)},[n]}class tt extends ne{constructor(e){super(),re(this,e,kt,vt,te,{vertical:0})}}const wt=r=>({}),Be=r=>({}),yt=r=>({}),He=r=>({});function Fe(r){let e,t,n,s;const l=r[6].before,a=ae(l,r,r[5],He);return{c(){e=D("div"),a&&a.c(),this.h()},l(o){e=V(o,"DIV",{class:!0,style:!0});var i=S(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),Z(e,"scroll-snap-align","none"),O(e,"text-white",r[0][0])},m(o,i){y(o,e,i),a&&a.m(e,null),t=!0,n||(s=[$e(Xe.call(null,e,.5)),A(e,"intersect",r[3](0))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&oe(a,l,o,o[5],t?ue(l,o[5],i,yt):fe(o[5]),He),(!t||i&1)&&O(e,"text-white",o[0][0])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,ce(s)}}}function je(r){let e,t,n,s;const l=r[6].after,a=ae(l,r,r[5],Be);return{c(){e=D("div"),a&&a.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var i=S(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),O(e,"text-white",r[0][1])},m(o,i){y(o,e,i),a&&a.m(e,null),t=!0,n||(s=[$e(Xe.call(null,e,.5)),A(e,"intersect",r[3](1))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&oe(a,l,o,o[5],t?ue(l,o[5],i,wt):fe(o[5]),Be),(!t||i&1)&&O(e,"text-white",o[0][1])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,ce(s)}}}function Et(r){let e,t,n,s,l,a,o,i=r[4].before&&Fe(r);const f=r[6].default,c=ae(f,r,r[5],null);let d=r[4].after&&je(r);return{c(){e=D("div"),i&&i.c(),t=B(),n=D("div"),c&&c.c(),s=B(),d&&d.c(),this.h()},l(u){e=V(u,"DIV",{class:!0,style:!0});var _=S(e);i&&i.l(_),t=H(_),n=V(_,"DIV",{class:!0});var I=S(n);c&&c.l(I),I.forEach(h),s=H(_),d&&d.l(_),_.forEach(h),this.h()},h(){m(n,"class","snap-center snap-always"),m(e,"class","grid w-full snap-x snap-mandatory overflow-y-hidden overflow-x-scroll rounded-lg transition-colors duration-300 ease-linear will-change-transform svelte-1f243wm"),Z(e,"grid","auto / auto-flow "+(r[4].before?"1fr ":"")+"100%"+(r[4].after?" 1fr":"")),O(e,"bg-primary-600",r[0][0]||r[0][1])},m(u,_){y(u,e,_),i&&i.m(e,null),T(e,t),T(e,n),c&&c.m(n,null),T(e,s),d&&d.m(e,null),l=!0,a||(o=[A(e,"wheel",r[7],{passive:!0}),A(e,"touchend",r[2],{passive:!0})],a=!0)},p(u,[_]){u[4].before?i?(i.p(u,_),_&16&&p(i,1)):(i=Fe(u),i.c(),p(i,1),i.m(e,t)):i&&(x(),g(i,1,1,()=>{i=null}),ee()),c&&c.p&&(!l||_&32)&&oe(c,f,u,u[5],l?ue(f,u[5],_,null):fe(u[5]),null),u[4].after?d?(d.p(u,_),_&16&&p(d,1)):(d=je(u),d.c(),p(d,1),d.m(e,null)):d&&(x(),g(d,1,1,()=>{d=null}),ee()),(!l||_&16)&&Z(e,"grid","auto / auto-flow "+(u[4].before?"1fr ":"")+"100%"+(u[4].after?" 1fr":"")),(!l||_&1)&&O(e,"bg-primary-600",u[0][0]||u[0][1])},i(u){l||(p(i),p(c,u),p(d),l=!0)},o(u){g(i),g(c,u),g(d),l=!1},d(u){u&&h(e),i&&i.d(),c&&c.d(u),d&&d.d(),a=!1,ce(o)}}}function It(r,e,t){let{$$slots:n={},$$scope:s}=e;const l=Ye(n),a=[!1,!1],o=Ee();let i=0;function f(){a[0]&&o("before"),a[1]&&o("after")}function c(u){return({detail:_})=>{a[u]&&(!u&&i<0||u&&i>0)&&f(),t(0,a[u]=_.isIntersecting,a)}}const d=({deltaX:u})=>t(1,i=u);return r.$$set=u=>{"$$scope"in u&&t(5,s=u.$$scope)},[a,i,f,c,l,s,n,d]}class Tt extends ne{constructor(e){super(),re(this,e,It,Et,te,{})}}function qe(r){let e,t,n=r[1](r[0])+"",s,l,a,o='<svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345L4.92804 0.176684C5.18188 -0.0588945 5.59343 -0.0588946 5.84728 0.176684C6.10112 0.412262 6.10112 0.794209 5.84728 1.02979L1.10966 5.42655C0.855821 5.66213 0.444263 5.66213 0.190422 5.42655Z"></path><path d="M0.190422 4.57345C0.444263 4.33787 0.855738 4.33787 1.10958 4.57345L5.84719 8.97021C6.10103 9.20579 6.10103 9.58774 5.84719 9.82332C5.59335 10.0589 5.18179 10.0589 4.92795 9.82332L0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345Z"></path></svg> <div class="h-[1.3px] flex-grow rounded bg-content-200"></div>',i,f,c=r[1](r[6]-r[0])+"",d,u,_,I='<div class="h-[1.3px] flex-grow rounded bg-content-200"></div> <svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345L2.07196 0.176684C1.81812 -0.0588945 1.40657 -0.0588946 1.15272 0.176684C0.898884 0.412262 0.898884 0.794209 1.15272 1.02979L5.89034 5.42655C6.14418 5.66213 6.55574 5.66213 6.80958 5.42655Z"></path><path d="M6.80958 4.57345C6.55574 4.33787 6.14426 4.33787 5.89042 4.57345L1.15281 8.97021C0.898969 9.20579 0.898969 9.58774 1.15281 9.82332C1.40665 10.0589 1.81821 10.0589 2.07205 9.82332L6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345Z"></path></svg>',F,R;return{c(){e=D("div"),t=D("button"),s=Q(n),l=B(),a=D("div"),a.innerHTML=o,i=B(),f=D("button"),d=Q(c),u=B(),_=D("div"),_.innerHTML=I,this.h()},l(k){e=V(k,"DIV",{class:!0});var w=S(e);t=V(w,"BUTTON",{class:!0});var j=S(t);s=X(j,n),l=H(j),a=V(j,"DIV",{class:!0,"data-svelte-h":!0}),Le(a)!=="svelte-ivt2iy"&&(a.innerHTML=o),j.forEach(h),i=H(w),f=V(w,"BUTTON",{class:!0});var b=S(f);d=X(b,c),u=H(b),_=V(b,"DIV",{class:!0,"data-svelte-h":!0}),Le(_)!=="svelte-1drb34i"&&(_.innerHTML=I),b.forEach(h),w.forEach(h),this.h()},h(){m(a,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(t,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(_,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(f,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(e,"class","flex w-full justify-between text-sm"),O(e,"pointer-events-none",!r[2])},m(k,w){y(k,e,w),T(e,t),T(t,s),T(t,l),T(t,a),T(e,i),T(e,f),T(f,d),T(f,u),T(f,_),F||(R=[$e(Ae.call(null,t,{mouse:!0})),A(t,"hold",r[11]),A(t,"click",r[12]),$e(Ae.call(null,f,{mouse:!0})),A(f,"hold",r[13]),A(f,"click",r[14])],F=!0)},p(k,w){w&3&&n!==(n=k[1](k[0])+"")&&me(s,n),w&67&&c!==(c=k[1](k[6]-k[0])+"")&&me(d,c),w&4&&O(e,"pointer-events-none",!k[2])},d(k){k&&h(e),F=!1,ce(R)}}}function Dt(r){let e,t,n,s,l,a,o,i=r[3]&&qe(r);return{c(){e=D("div"),t=D("div"),n=D("input"),s=B(),i&&i.c(),this.h()},l(f){e=V(f,"DIV",{class:!0});var c=S(e);t=V(c,"DIV",{class:!0});var d=S(t);n=V(d,"INPUT",{class:!0,style:!0,type:!0,min:!0,max:!0}),d.forEach(h),s=H(c),i&&i.l(c),c.forEach(h),this.h()},h(){m(n,"class","relative w-full cursor-pointer appearance-none rounded bg-transparent outline-2 outline-offset-2 outline-primary-600 focus-visible:outline svelte-sruga5"),Z(n,"--progress",(r[0]-r[7])/(r[6]-r[7])*100+"%"),m(n,"type","range"),m(n,"min",r[7]),m(n,"max",r[6]),m(t,"class","px-2"),m(e,"class",l=r[4]?"px-4 pt-8":"")},m(f,c){y(f,e,c),T(e,t),T(t,n),Ne(n,r[0]),T(e,s),i&&i.m(e,null),a||(o=[A(n,"change",r[10]),A(n,"input",r[10])],a=!0)},p(f,[c]){c&193&&Z(n,"--progress",(f[0]-f[7])/(f[6]-f[7])*100+"%"),c&128&&m(n,"min",f[7]),c&64&&m(n,"max",f[6]),c&1&&Ne(n,f[0]),f[3]?i?i.p(f,c):(i=qe(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),c&16&&l!==(l=f[4]?"px-4 pt-8":"")&&m(e,"class",l)},i:Y,o:Y,d(f){f&&h(e),i&&i.d(),a=!1,ce(o)}}}function Vt(r,e,t){const n=Ee();let{format:s=w=>w.toString()}=e,{controls:l=!1}=e,{hints:a=!1}=e,{p:o=!1}=e,{value:i=0}=e,{skip:f=10}=e,{max:c=100}=e,{min:d=0}=e,u=!1;function _(){i=it(this.value),t(0,i)}const I=()=>(t(8,u=!0),n("rewind")),F=()=>u?(t(8,u=!1),n("reset")):t(0,i=Math.max(i-f,d)),R=()=>(t(8,u=!0),n("forward")),k=()=>u?(t(8,u=!1),n("reset")):t(0,i=Math.min(i+f,c));return r.$$set=w=>{"format"in w&&t(1,s=w.format),"controls"in w&&t(2,l=w.controls),"hints"in w&&t(3,a=w.hints),"p"in w&&t(4,o=w.p),"value"in w&&t(0,i=w.value),"skip"in w&&t(5,f=w.skip),"max"in w&&t(6,c=w.max),"min"in w&&t(7,d=w.min)},[i,s,l,a,o,f,c,d,u,n,_,I,F,R,k]}class Ct extends ne{constructor(e){super(),re(this,e,Vt,Dt,te,{format:1,controls:2,hints:3,p:4,value:0,skip:5,max:6,min:7})}}function nt(r){const e=r-1;return e*e*e+1}function Re(r,{delay:e=0,duration:t=400,easing:n=nt,axis:s="y"}={}){const l=getComputedStyle(r),a=+l.opacity,o=s==="y"?"height":"width",i=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],c=f.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),d=parseFloat(l[`padding${c[0]}`]),u=parseFloat(l[`padding${c[1]}`]),_=parseFloat(l[`margin${c[0]}`]),I=parseFloat(l[`margin${c[1]}`]),F=parseFloat(l[`border${c[0]}Width`]),R=parseFloat(l[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*a};${o}: ${k*i}px;padding-${f[0]}: ${k*d}px;padding-${f[1]}: ${k*u}px;margin-${f[0]}: ${k*_}px;margin-${f[1]}: ${k*I}px;border-${f[0]}-width: ${k*F}px;border-${f[1]}-width: ${k*R}px;`}}function be(r,{delay:e=0,duration:t=400,easing:n=nt,start:s=0,opacity:l=0}={}){const a=getComputedStyle(r),o=+a.opacity,i=a.transform==="none"?"":a.transform,f=1-s,c=o*(1-l);return{delay:e,duration:t,easing:n,css:(d,u)=>`
			transform: ${i} scale(${1-f*u});
			opacity: ${o-c*u}
		`}}function Nt(r){let e,t,n;const s=r[2].default,l=ae(s,r,r[1],null);return{c(){e=D("aside"),l&&l.c(),this.h()},l(a){e=V(a,"ASIDE",{class:!0});var o=S(e);l&&l.l(o),o.forEach(h),this.h()},h(){m(e,"class","-z-20 mx-2 mb-2 flex min-h-[1px] w-[calc(100%-1rem)] max-w-xl flex-wrap rounded-lg bg-surface-200 ring-1 ring-highlight backdrop-blur-md will-change-transform svelte-120gl9d")},m(a,o){y(a,e,o),l&&l.m(e,null),r[3](e),n=!0},p(a,[o]){l&&l.p&&(!n||o&2)&&oe(l,s,a,a[1],n?ue(s,a[1],o,null):fe(a[1]),null)},i(a){n||(p(l,a),a&&ke(()=>{n&&(t||(t=ie(e,Re,{},!0)),t.run(1))}),n=!0)},o(a){g(l,a),a&&(t||(t=ie(e,Re,{},!1)),t.run(0)),n=!1},d(a){a&&h(e),l&&l.d(a),r[3](null),a&&t&&t.end()}}}const Lt=8;function zt(r,e,t){let{$$slots:n={},$$scope:s}=e;at("panel",!0);let l;async function a(){const i=((visualViewport==null?void 0:visualViewport.height)||innerHeight)-innerHeight,f=l==null?void 0:l.contains(document.activeElement),c=(l==null?void 0:l.getAnimations())||[];if(!i||!f)return c.forEach(_=>{_.reverse(),_.addEventListener("finish",()=>_.cancel(),{once:!0})});c.forEach(_=>_.cancel()),await new Promise(_=>requestAnimationFrame(_));const d=(l==null?void 0:l.getBoundingClientRect().bottom)||0,u=i-d+innerHeight-Lt;l==null||l.animate([{transform:"translate3d(0,0,0)"},{transform:`translate3d(0,${u}px,0)`}],{delay:1,duration:150,fill:"forwards",composite:"replace",easing:"ease-in-out"})}ot(()=>{if(ct())return visualViewport==null||visualViewport.addEventListener("resize",a),()=>visualViewport==null?void 0:visualViewport.removeEventListener("resize",a)});function o(i){de[i?"unshift":"push"](()=>{l=i,t(0,l)})}return r.$$set=i=>{"$$scope"in i&&t(1,s=i.$$scope)},[l,s,n,o]}class St extends ne{constructor(e){super(),re(this,e,zt,Nt,te,{})}}function Mt(r){let e,t,n,s,l,a,o=`${r[3]}ms`,i,f,c;return{c(){e=ze("svg"),t=ze("circle"),this.h()},l(d){e=Se(d,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0,role:!0});var u=S(e);t=Se(u,"circle",{class:!0,fill:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-width":!0,"stroke-linecap":!0,cx:!0,cy:!0,r:!0}),S(t).forEach(h),u.forEach(h),this.h()},h(){m(t,"class","animate-[dash-wiggle_var(--duration)_ease-in-out_infinite]"),m(t,"fill","none"),m(t,"stroke",r[5]),m(t,"stroke-dasharray",r[6]),m(t,"stroke-dashoffset",n=r[6]*r[1]),m(t,"stroke-width",r[4]),m(t,"stroke-linecap","round"),m(t,"cx",s=r[0]/2),m(t,"cy",l=r[0]/2),m(t,"r",a=r[0]/2-r[4]/2),Z(t,"--back",r[6]*(r[1]-r[2])),Z(t,"--forth",r[6]*(r[1]+r[2])),Z(t,"--duration",o),m(e,"class","inline-block animate-spin"),m(e,"width",i=r[0]+"px"),m(e,"height",f=r[0]+"px"),m(e,"viewBox",c="0 0 "+r[0]+" "+r[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"role","status")},m(d,u){y(d,e,u),T(e,t)},p(d,[u]){u&32&&m(t,"stroke",d[5]),u&64&&m(t,"stroke-dasharray",d[6]),u&66&&n!==(n=d[6]*d[1])&&m(t,"stroke-dashoffset",n),u&16&&m(t,"stroke-width",d[4]),u&1&&s!==(s=d[0]/2)&&m(t,"cx",s),u&1&&l!==(l=d[0]/2)&&m(t,"cy",l),u&17&&a!==(a=d[0]/2-d[4]/2)&&m(t,"r",a),u&70&&Z(t,"--back",d[6]*(d[1]-d[2])),u&70&&Z(t,"--forth",d[6]*(d[1]+d[2])),u&8&&o!==(o=`${d[3]}ms`)&&Z(t,"--duration",o),u&1&&i!==(i=d[0]+"px")&&m(e,"width",i),u&1&&f!==(f=d[0]+"px")&&m(e,"height",f),u&1&&c!==(c="0 0 "+d[0]+" "+d[0])&&m(e,"viewBox",c)},i:Y,o:Y,d(d){d&&h(e)}}}function Pt(r,e,t){let n,{size:s=64}=e,{cutoff:l=.3}=e,{wiggle:a=.15}=e,{duration:o=2e3}=e,{thickness:i=Math.sqrt(s)}=e,{color:f="hsl(var(--color-highlight))"}=e;return r.$$set=c=>{"size"in c&&t(0,s=c.size),"cutoff"in c&&t(1,l=c.cutoff),"wiggle"in c&&t(2,a=c.wiggle),"duration"in c&&t(3,o=c.duration),"thickness"in c&&t(4,i=c.thickness),"color"in c&&t(5,f=c.color)},r.$$.update=()=>{r.$$.dirty&17&&t(6,n=Math.PI*(s-i))},[s,l,a,o,i,f,n]}class At extends ne{constructor(e){super(),re(this,e,Pt,Mt,te,{size:0,cutoff:1,wiggle:2,duration:3,thickness:4,color:5})}}function Bt(r){var n;let e=(((n=r[2])==null?void 0:n.title)||"Not Playing")+"",t;return{c(){t=Q(e)},l(s){t=X(s,e)},m(s,l){y(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.title)||"Not Playing")+"")&&me(t,e)},d(s){s&&h(t)}}}function Ht(r){var n;let e=(((n=r[2])==null?void 0:n.artists.map(Ue).join(", "))||" ")+"",t;return{c(){t=Q(e)},l(s){t=X(s,e)},m(s,l){y(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.artists.map(Ue).join(", "))||" ")+"")&&me(t,e)},d(s){s&&h(t)}}}function Ft(r){var l;let e,t,n,s;return e=new ht({props:{accent:!0,$$slots:{default:[Bt]},$$scope:{ctx:r}}}),n=new Ie({props:{air:!0,primary:!0,slim:!0,disabled:!r[2],href:((l=r[2])==null?void 0:l.artists.length)===1?`/explore/artist#${r[2].artists[0].id}`:void 0,$$slots:{default:[Ht]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=B(),C(n.$$.fragment)},l(a){N(e.$$.fragment,a),t=H(a),N(n.$$.fragment,a)},m(a,o){L(e,a,o),y(a,t,o),L(n,a,o),s=!0},p(a,o){var c;const i={};o&516&&(i.$$scope={dirty:o,ctx:a}),e.$set(i);const f={};o&4&&(f.disabled=!a[2]),o&4&&(f.href=((c=a[2])==null?void 0:c.artists.length)===1?`/explore/artist#${a[2].artists[0].id}`:void 0),o&516&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){s||(p(e.$$.fragment,a),p(n.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),s=!1},d(a){a&&h(t),z(e,a),z(n,a)}}}function jt(r){var l;let e,t,n=`hue-rotate(${((l=r[2])==null?void 0:l.id)||0}deg)`,s;return t=new we({props:{name:"note"}}),{c(){e=D("div"),C(t.$$.fragment),this.h()},l(a){e=V(a,"DIV",{class:!0});var o=S(e);N(t.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"class","flex h-full w-full items-center justify-center bg-gradient-to-r from-rose-400 to-red-400 text-white"),Z(e,"filter",n)},m(a,o){y(a,e,o),L(t,e,null),s=!0},p(a,o){var i;o&4&&n!==(n=`hue-rotate(${((i=a[2])==null?void 0:i.id)||0}deg)`)&&Z(e,"filter",n)},i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){g(t.$$.fragment,a),s=!1},d(a){a&&h(e),z(t)}}}function qt(r){let e,t,n;return{c(){e=D("div"),this.h()},l(s){e=V(s,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){m(e,"class","pause absolute svelte-1rg0k1m")},m(s,l){y(s,e,l),n=!0},i(s){n||(s&&ke(()=>{n&&(t||(t=ie(e,be,{},!0)),t.run(1))}),n=!0)},o(s){s&&(t||(t=ie(e,be,{},!1)),t.run(0)),n=!1},d(s){s&&h(e),s&&t&&t.end()}}}function Rt(r){let e,t,n,s;return t=new At({props:{color:"hsl(var(--color-content))"}}),{c(){e=D("div"),C(t.$$.fragment),this.h()},l(l){e=V(l,"DIV",{class:!0});var a=S(e);N(t.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"class","absolute")},m(l,a){y(l,e,a),L(t,e,null),s=!0},i(l){s||(p(t.$$.fragment,l),l&&ke(()=>{s&&(n||(n=ie(e,be,{},!0)),n.run(1))}),s=!0)},o(l){g(t.$$.fragment,l),l&&(n||(n=ie(e,be,{},!1)),n.run(0)),s=!1},d(l){l&&h(e),z(t),l&&n&&n.end()}}}function Ut(r){var G,$,U;let e,t,n,s,l,a,o,i,f,c,d,u,_,I,F,R,k;e=new Qe({props:{p:!0,gap:"sm",center:!0,$$slots:{default:[Ft]},$$scope:{ctx:r}}}),o=new _t({props:{src:($=(G=r[2])==null?void 0:G.album.arts)==null?void 0:$[0],size:324,$$slots:{default:[jt]},$$scope:{ctx:r}}});const w=[Rt,qt],j=[];function b(v,M){return v[3]?0:1}c=b(r),d=j[c]=w[c](r);function P(v){r[5](v)}let q={format:mt,max:((U=r[2])==null?void 0:U.duration)||0,controls:!0,hints:!0,p:!0};return r[0]!==void 0&&(q.value=r[0]),_=new Ct({props:q}),de.push(()=>pe(_,"value",P)),_.$on("forward",r[6]),_.$on("rewind",r[7]),_.$on("reset",r[8]),{c(){C(e.$$.fragment),t=B(),n=D("div"),s=D("label"),l=D("input"),a=B(),C(o.$$.fragment),i=B(),f=D("div"),d.c(),u=B(),C(_.$$.fragment),this.h()},l(v){N(e.$$.fragment,v),t=H(v),n=V(v,"DIV",{class:!0});var M=S(n);s=V(M,"LABEL",{class:!0});var W=S(s);l=V(W,"INPUT",{type:!0,class:!0}),a=H(W),N(o.$$.fragment,W),i=H(W),f=V(W,"DIV",{class:!0});var J=S(f);d.l(J),J.forEach(h),W.forEach(h),M.forEach(h),u=H(v),N(_.$$.fragment,v),this.h()},h(){m(l,"type","checkbox"),m(l,"class","peer absolute inset-0 appearance-none rounded-2xl outline-2 outline-offset-8 outline-primary-600 focus-visible:outline svelte-1rg0k1m"),m(f,"class","absolute -inset-[1px] flex items-center justify-center rounded-2xl bg-surface-200 opacity-0 backdrop-blur transition-[opacity] duration-300 peer-checked:opacity-100 svelte-1rg0k1m"),O(f,"opacity-100",r[3]),m(s,"class","relative block cursor-pointer rounded-2xl shadow-xl"),m(n,"class","px-11")},m(v,M){L(e,v,M),y(v,t,M),y(v,n,M),T(n,s),T(s,l),l.checked=r[1],T(s,a),L(o,s,null),T(s,i),T(s,f),j[c].m(f,null),y(v,u,M),L(_,v,M),F=!0,R||(k=A(l,"change",r[4]),R=!0)},p(v,[M]){var De,Ve,Ce;const W={};M&516&&(W.$$scope={dirty:M,ctx:v}),e.$set(W),M&2&&(l.checked=v[1]);const J={};M&4&&(J.src=(Ve=(De=v[2])==null?void 0:De.album.arts)==null?void 0:Ve[0]),M&516&&(J.$$scope={dirty:M,ctx:v}),o.$set(J);let E=c;c=b(v),c!==E&&(x(),g(j[E],1,1,()=>{j[E]=null}),ee(),d=j[c],d||(d=j[c]=w[c](v),d.c()),p(d,1),d.m(f,null)),(!F||M&8)&&O(f,"opacity-100",v[3]);const se={};M&4&&(se.max=((Ce=v[2])==null?void 0:Ce.duration)||0),!I&&M&1&&(I=!0,se.value=v[0],he(()=>I=!1)),_.$set(se)},i(v){F||(p(e.$$.fragment,v),p(o.$$.fragment,v),p(d),p(_.$$.fragment,v),F=!0)},o(v){g(e.$$.fragment,v),g(o.$$.fragment,v),g(d),g(_.$$.fragment,v),F=!1},d(v){v&&(h(t),h(n),h(u)),z(e,v),z(o),j[c].d(),z(_,v),R=!1,k()}}}const Ue=r=>r.title;function Ot(r,e,t){let{track:n=void 0}=e,{currentTime:s=0}=e,{loading:l=!1}=e,{paused:a=!0}=e;function o(){a=this.checked,t(1,a)}function i(u){s=u,t(0,s)}function f(u){_e.call(this,r,u)}function c(u){_e.call(this,r,u)}function d(u){_e.call(this,r,u)}return r.$$set=u=>{"track"in u&&t(2,n=u.track),"currentTime"in u&&t(0,s=u.currentTime),"loading"in u&&t(3,l=u.loading),"paused"in u&&t(1,a=u.paused)},[s,a,n,l,o,i,f,c,d]}class Wt extends ne{constructor(e){super(),re(this,e,Ot,Ut,te,{track:2,currentTime:0,loading:3,paused:1})}}const Zt=r=>({}),Oe=r=>({slot:"before"});function We(r){let e,t;return e=new xe({props:{lg:!0,$$slots:{default:[Yt]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&524296&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Gt(r){let e;return{c(){e=Q("Title")},l(t){e=X(t,"Title")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Jt(r){let e;return{c(){e=Q("Artist")},l(t){e=X(t,"Artist")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Kt(r){let e;return{c(){e=Q("Album")},l(t){e=X(t,"Album")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Yt(r){let e,t,n,s,l,a,o;return t=new ge({props:{sm:!0,$$slots:{default:[Gt]},$$scope:{ctx:r}}}),s=new ge({props:{sm:!0,$$slots:{default:[Jt]},$$scope:{ctx:r}}}),a=new ge({props:{sm:!0,$$slots:{default:[Kt]},$$scope:{ctx:r}}}),{c(){e=D("div"),C(t.$$.fragment),n=B(),C(s.$$.fragment),l=B(),C(a.$$.fragment),this.h()},l(i){e=V(i,"DIV",{class:!0});var f=S(e);N(t.$$.fragment,f),n=H(f),N(s.$$.fragment,f),l=H(f),N(a.$$.fragment,f),f.forEach(h),this.h()},h(){m(e,"class","sticky top-11 z-10 grid auto-cols-fr grid-flow-col border-b border-b-highlight bg-surface/70 pl-20 pr-10 backdrop-blur-md"),O(e,"pl-24",r[3])},m(i,f){y(i,e,f),L(t,e,null),T(e,n),L(s,e,null),T(e,l),L(a,e,null),o=!0},p(i,f){const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),t.$set(c);const d={};f&524288&&(d.$$scope={dirty:f,ctx:i}),s.$set(d);const u={};f&524288&&(u.$$scope={dirty:f,ctx:i}),a.$set(u),(!o||f&8)&&O(e,"pl-24",i[3])},i(i){o||(p(t.$$.fragment,i),p(s.$$.fragment,i),p(a.$$.fragment,i),o=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),g(a.$$.fragment,i),o=!1},d(i){i&&h(e),z(t),z(s),z(a)}}}function Ze(r){let e,t=typeof r[21]=="string"&&Ge();return{c(){e=D("div"),t&&t.c(),this.h()},l(n){e=V(n,"DIV",{class:!0});var s=S(e);t&&t.l(s),s.forEach(h),this.h()},h(){m(e,"class","visible ml-4 flex h-14 w-0.5 items-center justify-center bg-highlight-100"),O(e,"opacity-0",Number.isNaN(r[22]))},m(n,s){y(n,e,s),t&&t.m(e,null)},p(n,s){typeof n[21]=="string"?t||(t=Ge(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&4194304&&O(e,"opacity-0",Number.isNaN(n[22]))},d(n){n&&h(e),t&&t.d()}}}function Ge(r){let e;return{c(){e=D("div"),this.h()},l(t){e=V(t,"DIV",{class:!0}),S(e).forEach(h),this.h()},h(){m(e,"class","absolute mt-4 h-2 w-2 rounded-full bg-content")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Qt(r){let e,t;return e=new Te({props:{sm:r[1]}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.sm=n[1]),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Xt(r){let e,t,n,s;const l=[tn,en],a=[];function o(i,f){return i[9].default||i[9].action?0:1}return e=o(r),t=a[e]=l[e](r),{c(){t.c(),n=le()},l(i){t.l(i),n=le()},m(i,f){a[e].m(i,f),y(i,n,f),s=!0},p(i,f){let c=e;e=o(i),e===c?a[e].p(i,f):(x(),g(a[c],1,1,()=>{a[c]=null}),ee(),t=a[e],t?t.p(i,f):(t=a[e]=l[e](i),t.c()),p(t,1),t.m(n.parentNode,n))},i(i){s||(p(t),s=!0)},o(i){g(t),s=!1},d(i){i&&h(n),a[e].d(i)}}}function xt(r){let e,t=r[21]+"",n;return{c(){e=D("h2"),n=Q(t),this.h()},l(s){e=V(s,"H2",{draggable:!0,class:!0});var l=S(e);n=X(l,t),l.forEach(h),this.h()},h(){m(e,"draggable","false"),m(e,"class","relative top-2 flex h-14 items-center indent-4 text-lg [*:has(>div>&)]:pointer-events-none")},m(s,l){y(s,e,l),T(e,n)},p(s,l){l&2097152&&t!==(t=s[21]+"")&&me(n,t)},i:Y,o:Y,d(s){s&&h(e)}}}function en(r){let e,t;function n(){return r[16](r[21])}return e=new Te({props:{sm:r[1],track:r[21],selected:ve(r[21],r[0])}}),e.$on("click",n),{c(){C(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,l){L(e,s,l),t=!0},p(s,l){r=s;const a={};l&2&&(a.sm=r[1]),l&2097152&&(a.track=r[21]),l&2097153&&(a.selected=ve(r[21],r[0])),e.$set(a)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){z(e,s)}}}function tn(r){let e,t;function n(){return r[14](r[21])}function s(){return r[15](r[21])}return e=new Tt({props:{$$slots:{after:[sn],before:[rn],default:[nn]},$$scope:{ctx:r}}}),e.$on("before",n),e.$on("after",s),{c(){C(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){L(e,l,a),t=!0},p(l,a){r=l;const o={};a&2621443&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function nn(r){let e,t;function n(){return r[12](r[21])}function s(...l){return r[13](r[21],...l)}return e=new Te({props:{sm:r[1],track:r[21],selected:ve(r[21],r[0])}}),e.$on("click",n),e.$on("contextmenu",s),{c(){C(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){L(e,l,a),t=!0},p(l,a){r=l;const o={};a&2&&(o.sm=r[1]),a&2097152&&(o.track=r[21]),a&2097153&&(o.selected=ve(r[21],r[0])),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function rn(r){let e;const t=r[11].action,n=ae(t,r,r[19],Oe);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&524288)&&oe(n,t,s,s[19],e?ue(t,s[19],l,Zt):fe(s[19]),Oe)},i(s){e||(p(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function sn(r){let e,t;return e=new we({props:{name:"list",slot:"after"}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:Y,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ln(r){let e,t,n,s,l,a=r[3]&&Ze(r);const o=[xt,Xt,Qt],i=[];function f(c,d){return typeof c[21]=="string"?0:c[21]?1:2}return n=f(r),s=i[n]=o[n](r),{c(){e=D("div"),a&&a.c(),t=B(),s.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var d=S(e);a&&a.l(d),t=H(d),s.l(d),d.forEach(h),this.h()},h(){m(e,"class","relative flex [&_hr]:!opacity-100 [*:has(>&):last-of-type_hr]:!opacity-0")},m(c,d){y(c,e,d),a&&a.m(e,null),T(e,t),i[n].m(e,null),l=!0},p(c,d){c[3]?a?a.p(c,d):(a=Ze(c),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let u=n;n=f(c),n===u?i[n].p(c,d):(x(),g(i[u],1,1,()=>{i[u]=null}),ee(),s=i[n],s?s.p(c,d):(s=i[n]=o[n](c),s.c()),p(s,1),s.m(e,null))},i(c){l||(p(s),l=!0)},o(c){g(s),l=!1},d(c){c&&h(e),a&&a.d(),i[n].d()}}}function Je(r){let e,t;return e=new et({props:{to:"bottom",$$slots:{default:[un]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&524289&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Ke(r){let e,t;return e=new St({props:{$$slots:{default:[fn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&524288&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function an(r){let e,t;return e=new we({props:{name:"close"}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:Y,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function on(r){let e,t,n,s,l;const a=r[11].default,o=ae(a,r,r[19],null);return t=new tt({}),s=new Ie({props:{air:!0,square:!0,$$slots:{default:[an]},$$scope:{ctx:r}}}),s.$on("click",r[7]),{c(){o&&o.c(),e=B(),C(t.$$.fragment),n=B(),C(s.$$.fragment)},l(i){o&&o.l(i),e=H(i),N(t.$$.fragment,i),n=H(i),N(s.$$.fragment,i)},m(i,f){o&&o.m(i,f),y(i,e,f),L(t,i,f),y(i,n,f),L(s,i,f),l=!0},p(i,f){o&&o.p&&(!l||f&524288)&&oe(o,a,i,i[19],l?ue(a,i[19],f,null):fe(i[19]),null);const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){l||(p(o,i),p(t.$$.fragment,i),p(s.$$.fragment,i),l=!0)},o(i){g(o,i),g(t.$$.fragment,i),g(s.$$.fragment,i),l=!1},d(i){i&&(h(e),h(n)),o&&o.d(i),z(t,i),z(s,i)}}}function fn(r){let e,t;return e=new Qe({props:{x:!0,grow:!0,$$slots:{default:[on]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&524288&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function un(r){let e,t,n=r[0].size&&Ke(r);return{c(){n&&n.c(),e=le()},l(s){n&&n.l(s),e=le()},m(s,l){n&&n.m(s,l),y(s,e,l),t=!0},p(s,l){s[0].size?n?(n.p(s,l),l&1&&p(n,1)):(n=Ke(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(x(),g(n,1,1,()=>{n=null}),ee())},i(s){t||(p(n),t=!0)},o(s){g(n),t=!1},d(s){s&&h(e),n&&n.d(s)}}}function cn(r){let e,t,n,s,l,a,o=!r[1]&&We(r);n=new pt({props:{key:dn,sortable:"tracks",prerender:rt,fixed:r[2],items:r[4],animate:!0,$$slots:{default:[ln,({item:f,index:c})=>({21:f,22:c}),({item:f,index:c})=>(f?2097152:0)|(c?4194304:0)]},$$scope:{ctx:r}}}),n.$on("edit",r[17]),n.$on("end",r[18]);let i=(r[9].default||r[9].action)&&Je(r);return{c(){e=D("div"),o&&o.c(),t=B(),C(n.$$.fragment),s=B(),i&&i.c(),l=le()},l(f){e=V(f,"DIV",{});var c=S(e);o&&o.l(c),t=H(c),N(n.$$.fragment,c),c.forEach(h),s=H(f),i&&i.l(f),l=le()},m(f,c){y(f,e,c),o&&o.m(e,null),T(e,t),L(n,e,null),y(f,s,c),i&&i.m(f,c),y(f,l,c),a=!0},p(f,[c]){f[1]?o&&(x(),g(o,1,1,()=>{o=null}),ee()):o?(o.p(f,c),c&2&&p(o,1)):(o=We(f),o.c(),p(o,1),o.m(e,t));const d={};c&4&&(d.fixed=f[2]),c&16&&(d.items=f[4]),c&6816267&&(d.$$scope={dirty:c,ctx:f}),n.$set(d),f[9].default||f[9].action?i?(i.p(f,c),c&512&&p(i,1)):(i=Je(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(x(),g(i,1,1,()=>{i=null}),ee())},i(f){a||(p(o),p(n.$$.fragment,f),p(i),a=!0)},o(f){g(o),g(n.$$.fragment,f),g(i),a=!1},d(f){f&&(h(e),h(s),h(l)),o&&o.d(),z(n),i&&i.d(f)}}}const rt=10;function ve(r,e){return e.size?e.has(r)?!0:"passive":!1}const dn=r=>typeof r=="string"?r:(r==null?void 0:r.entry)||(r==null?void 0:r.id);function _n(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const a=Ye(s),o=Ee();let{sm:i=!1}=e,{fixed:f=!1}=e,{timeline:c=!1}=e,{selected:d=new Set}=e,{tracks:u=void 0}=e;function _($){if(!$)return Array.from({length:rt});if(!c)return $;const U=[];let v="";for(const M of $){if(!M||!("date"in M)||typeof M.date!="number")continue;const W=new Date(M.date*1e3),J=gt(W);J!==v&&(U.push(J),v=J),U.push(M)}return U}function I($){d.has($)?d.delete($):d.add($),t(0,d)}function F(){d.clear(),t(0,d)}async function R($){if(!o("click",$,{cancelable:!0}))return;const U=u==null?void 0:u.indexOf($);!u||!u[0]||U==null||U===-1||(K.clear(),K.push(u.slice(U)),await K.push(u.slice(0,U),"first"),st())}const k=$=>d.size?I($):R($),w=($,U)=>(U.preventDefault(),I($)),j=$=>o("action",$),b=$=>I($),P=$=>R($);function q($){_e.call(this,r,$)}function G($){_e.call(this,r,$)}return r.$$set=$=>{"sm"in $&&t(1,i=$.sm),"fixed"in $&&t(2,f=$.fixed),"timeline"in $&&t(3,c=$.timeline),"selected"in $&&t(0,d=$.selected),"tracks"in $&&t(10,u=$.tracks),"$$scope"in $&&t(19,l=$.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&t(4,n=_(u)),r.$$.dirty&1024&&(u!=null&&u.length||F())},[d,i,f,c,n,o,I,F,R,a,u,s,k,w,j,b,P,q,G,l]}class mn extends ne{constructor(e){super(),re(this,e,_n,cn,te,{sm:1,fixed:2,timeline:3,selected:0,tracks:10})}}function hn(r){let e;return{c(){e=Q("Playing Next")},l(t){e=X(t,"Playing Next")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function pn(r){let e,t;return e=new we({props:{name:"trash"}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:Y,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function gn(r){let e,t;return e=new Ie({props:{air:!0,stretch:!0,$$slots:{default:[pn]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&134217728&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function $n(r){let e,t,n,s,l,a,o,i,f,c,d,u,_,I;function F(b){r[18](b)}function R(b){r[19](b)}let k={track:r[0],loading:r[3]<=2&&!!r[6]};r[1]!==void 0&&(k.currentTime=r[1]),r[4]!==void 0&&(k.paused=r[4]),n=new Wt({props:k}),de.push(()=>pe(n,"currentTime",F)),de.push(()=>pe(n,"paused",R)),n.$on("forward",r[20]),n.$on("rewind",r[21]),n.$on("reset",r[22]),o=new ge({props:{indent:!0,sm:!0,$$slots:{default:[hn]},$$scope:{ctx:r}}}),f=new tt({});function w(b){r[23](b)}let j={tracks:r[8],sm:!0,$$slots:{default:[gn]},$$scope:{ctx:r}};return r[7]!==void 0&&(j.selected=r[7]),u=new mn({props:j}),de.push(()=>pe(u,"selected",w)),u.$on("click",r[24]),{c(){e=D("div"),t=D("div"),C(n.$$.fragment),a=B(),C(o.$$.fragment),i=B(),C(f.$$.fragment),c=B(),d=D("div"),C(u.$$.fragment),this.h()},l(b){e=V(b,"DIV",{class:!0});var P=S(e);t=V(P,"DIV",{});var q=S(t);N(n.$$.fragment,q),a=H(q),N(o.$$.fragment,q),i=H(q),N(f.$$.fragment,q),q.forEach(h),c=H(P),d=V(P,"DIV",{class:!0});var G=S(d);N(u.$$.fragment,G),G.forEach(h),P.forEach(h),this.h()},h(){m(d,"class","grow overflow-y-scroll contain-strict"),m(e,"class","flex h-screen flex-col border-l border-highlight")},m(b,P){y(b,e,P),T(e,t),L(n,t,null),T(t,a),L(o,t,null),T(t,i),L(f,t,null),T(e,c),T(e,d),L(u,d,null),I=!0},p(b,P){const q={};P&1&&(q.track=b[0]),P&72&&(q.loading=b[3]<=2&&!!b[6]),!s&&P&2&&(s=!0,q.currentTime=b[1],he(()=>s=!1)),!l&&P&16&&(l=!0,q.paused=b[4],he(()=>l=!1)),n.$set(q);const G={};P&134217728&&(G.$$scope={dirty:P,ctx:b}),o.$set(G);const $={};P&256&&($.tracks=b[8]),P&134217728&&($.$$scope={dirty:P,ctx:b}),!_&&P&128&&(_=!0,$.selected=b[7],he(()=>_=!1)),u.$set($)},i(b){I||(p(n.$$.fragment,b),p(o.$$.fragment,b),p(f.$$.fragment,b),p(u.$$.fragment,b),I=!0)},o(b){g(n.$$.fragment,b),g(o.$$.fragment,b),g(f.$$.fragment,b),g(u.$$.fragment,b),I=!1},d(b){b&&h(e),z(n),z(o),z(f),z(u)}}}function bn(r){let e,t;return e=new xe({props:{lg:!0,$$slots:{default:[$n]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const l={};s&134218207&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function vn(r){let e,t,n=!0,s=!1,l,a,o,i,f,c;function d(){cancelAnimationFrame(l),e.paused||(l=ut(d),s=!0),r[15].call(e)}return o=new et({props:{to:"right",$$slots:{default:[bn]},$$scope:{ctx:r}}}),{c(){e=D("audio"),a=B(),C(o.$$.fragment),this.h()},l(u){e=V(u,"AUDIO",{src:!0,preload:!0}),S(e).forEach(h),a=H(u),N(o.$$.fragment,u),this.h()},h(){Me(e.src,t=r[6])||m(e,"src",t),m(e,"preload","auto"),r[3]===void 0&&ke(()=>r[14].call(e))},m(u,_){y(u,e,_),isNaN(r[2])||(e.playbackRate=r[2]),y(u,a,_),L(o,u,_),i=!0,f||(c=[A(e,"play",r[13]),A(e,"pause",r[13]),A(e,"loadedmetadata",r[14]),A(e,"loadeddata",r[14]),A(e,"canplay",r[14]),A(e,"canplaythrough",r[14]),A(e,"playing",r[14]),A(e,"waiting",r[14]),A(e,"emptied",r[14]),A(e,"timeupdate",d),A(e,"ratechange",r[16]),A(e,"ended",r[17])],f=!0)},p(u,[_]){(!i||_&64&&!Me(e.src,t=u[6]))&&m(e,"src",t),_&16&&n!==(n=u[4])&&e[n?"pause":"play"](),!s&&_&2&&!isNaN(u[1])&&(e.currentTime=u[1]),s=!1,_&4&&!isNaN(u[2])&&(e.playbackRate=u[2]);const I={};_&134218207&&(I.$$scope={dirty:_,ctx:u}),o.$set(I)},i(u){i||(p(o.$$.fragment,u),i=!0)},o(u){g(o.$$.fragment,u),i=!1},d(u){u&&(h(e),h(a)),z(o,u),f=!1,ce(c)}}}let ye=!1;function st(){ye=!0}function kn(r,e,t){let n,s,l;Pe(r,K,E=>t(12,s=E)),Pe(r,$t,E=>t(8,l=E));const a=dt(async()=>{if(!o)return;const E=f/o.duration;E<1&&K.sync(E)},3e3);let o,i=1,f=0,c=0,d=!0,u=!1,_="",I=new Set;async function F(E){if((E==null?void 0:E.id)===(o==null?void 0:o.id))return;if(t(0,o=E),!o)return t(4,d=!0),t(1,f=0);t(3,c=0);const se=await bt.query(o);se!==_&&(t(6,_=se),ye&&(ye=!1,t(4,d=!0),await ft(),t(4,d=!1)))}function R(){K.purge([...I].map(E=>E.entry).filter(E=>!!E)),I.clear(),t(7,I)}async function k(E){E!=null&&E.entry&&K.rearrange(E.entry,o==null?void 0:o.entry),(n==null?void 0:n.repeat)===1?(K.repeat("none"),K.sync(1),await K.repeat("single")):await K.sync(1),st()}function w(){d=this.paused,t(4,d)}function j(){c=this.readyState,t(3,c)}function b(){f=this.currentTime,t(1,f),t(11,n),t(0,o),t(12,s)}function P(){i=this.playbackRate,t(2,i)}const q=()=>u||(K.sync(1),t(5,u=!0));function G(E){f=E,t(1,f),t(11,n),t(0,o),t(12,s)}function $(E){d=E,t(4,d)}const U=()=>t(2,i=5),v=()=>t(2,i=-5),M=()=>t(2,i=1);function W(E){I=E,t(7,I)}const J=E=>(E.preventDefault(),k(E.detail));return r.$$.update=()=>{r.$$.dirty&4096&&t(11,n=s.find(E=>E.local)),r.$$.dirty&2048&&F(n==null?void 0:n.track),r.$$.dirty&2051&&n&&o&&!f&&t(1,f=n.progress*o.duration),r.$$.dirty&2&&(a(),t(5,u=!1))},[o,f,i,c,d,u,_,I,l,R,k,n,s,w,j,b,P,q,G,$,U,v,M,W,J]}class Dn extends ne{constructor(e){super(),re(this,e,kn,vn,te,{})}}export{Dn as P,tt as S,mn as T,St as a};
