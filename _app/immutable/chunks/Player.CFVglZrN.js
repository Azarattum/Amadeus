import{s as te,e as T,c as D,r as m,i as E,n as X,f as h,G as it,y as ae,a as F,b as z,g as H,K as W,D as U,h as I,F as B,z as oe,A as fe,B as ue,T as ce,ab as Qe,H as Ie,S as be,E as Se,t as Q,d as Y,X as Le,j as me,ac as at,U as we,W as ot,q as ft,v as de,ad as ze,ae as Me,w as pe,x as _e,C as le,af as Pe,k as Be,N as ut}from"./scheduler.DDeJziXz.js";import{S as ne,i as re,t as p,g as x,b as g,e as ee,h as ie,f as ge,c as C,a as V,m as N,d as S,r as ct}from"./index.Ck-5ZlV-.js";import{i as dt,S as Ye,B as Te,I as ye,H as $e,t as _t}from"./Spinner.svelte_svelte_type_style_lang.DX3z9vL0.js";import{v as Ae,I as mt,j as ht,i as pt,V as gt,W as xe,P as et,w as $t,p as G,T as De,x as bt,y as vt}from"./Track.CSbULkgm.js";import"./entry.DmughxFL.js";const he=new Map,kt=r=>r.forEach(e=>{var t,n;(t=e.target)==null||t.dispatchEvent(new CustomEvent("intersect",{detail:e})),(n=e.target)==null||n.dispatchEvent(new CustomEvent(e.isIntersecting?"viewenter":"viewleave",{detail:e}))});function tt(r,e){const t=(e==null?void 0:e.toString())||"",n=he.get(t)||[new IntersectionObserver(kt,{threshold:e}),0];return he.has(t)||he.set(t,n),n[0].observe(r),n[1]+=1,{destroy(){n[0].unobserve(r),n[1]-=1,n[1]<=0&&(n[0].disconnect(),he.delete(t))}}}function wt(r){let e,t;return{c(){e=T("hr"),this.h()},l(n){e=D(n,"HR",{class:!0,"aria-hidden":!0}),this.h()},h(){m(e,"class",t="border-highlight "+(r[0]?"h-full w-0 border-r":"w-full")),m(e,"aria-hidden","true")},m(n,s){E(n,e,s)},p(n,[s]){s&1&&t!==(t="border-highlight "+(n[0]?"h-full w-0 border-r":"w-full"))&&m(e,"class",t)},i:X,o:X,d(n){n&&h(e)}}}function yt(r,e,t){let{vertical:n=it("stack")==="x"}=e;return r.$$set=s=>{"vertical"in s&&t(0,n=s.vertical)},[n]}class nt extends ne{constructor(e){super(),re(this,e,yt,wt,te,{vertical:0})}}const Et=r=>({}),Fe=r=>({}),It=r=>({}),He=r=>({});function je(r){let e,t,n,s;const l=r[6].before,a=ae(l,r,r[5],He);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0});var i=z(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),W(e,"scroll-snap-align","none"),U(e,"text-white",r[0][0])},m(o,i){E(o,e,i),a&&a.m(e,null),t=!0,n||(s=[be(tt.call(null,e,.5)),B(e,"intersect",r[3](0))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&oe(a,l,o,o[5],t?ue(l,o[5],i,It):fe(o[5]),He),(!t||i&1)&&U(e,"text-white",o[0][0])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,ce(s)}}}function qe(r){let e,t,n,s;const l=r[6].after,a=ae(l,r,r[5],Fe);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var i=z(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),U(e,"text-white",r[0][1])},m(o,i){E(o,e,i),a&&a.m(e,null),t=!0,n||(s=[be(tt.call(null,e,.5)),B(e,"intersect",r[3](1))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&oe(a,l,o,o[5],t?ue(l,o[5],i,Et):fe(o[5]),Fe),(!t||i&1)&&U(e,"text-white",o[0][1])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,ce(s)}}}function Tt(r){let e,t,n,s,l,a,o,i=r[4].before&&je(r);const f=r[6].default,u=ae(f,r,r[5],null);let d=r[4].after&&qe(r);return{c(){e=T("div"),i&&i.c(),t=F(),n=T("div"),u&&u.c(),s=F(),d&&d.c(),this.h()},l(c){e=D(c,"DIV",{class:!0,style:!0});var _=z(e);i&&i.l(_),t=H(_),n=D(_,"DIV",{class:!0});var L=z(n);u&&u.l(L),L.forEach(h),s=H(_),d&&d.l(_),_.forEach(h),this.h()},h(){m(n,"class","snap-center snap-always"),m(e,"class","grid w-full snap-x snap-mandatory overflow-y-hidden overflow-x-scroll rounded-lg transition-colors duration-300 ease-linear will-change-transform svelte-qtbr7a"),W(e,"grid","auto / auto-flow "+(r[4].before?"1fr ":"")+"100%"+(r[4].after?" 1fr":"")),U(e,"bg-primary-600",r[0][0]||r[0][1])},m(c,_){E(c,e,_),i&&i.m(e,null),I(e,t),I(e,n),u&&u.m(n,null),I(e,s),d&&d.m(e,null),l=!0,a||(o=[B(e,"wheel",r[7],{passive:!0}),B(e,"touchend",r[2],{passive:!0})],a=!0)},p(c,[_]){c[4].before?i?(i.p(c,_),_&16&&p(i,1)):(i=je(c),i.c(),p(i,1),i.m(e,t)):i&&(x(),g(i,1,1,()=>{i=null}),ee()),u&&u.p&&(!l||_&32)&&oe(u,f,c,c[5],l?ue(f,c[5],_,null):fe(c[5]),null),c[4].after?d?(d.p(c,_),_&16&&p(d,1)):(d=qe(c),d.c(),p(d,1),d.m(e,null)):d&&(x(),g(d,1,1,()=>{d=null}),ee()),(!l||_&16)&&W(e,"grid","auto / auto-flow "+(c[4].before?"1fr ":"")+"100%"+(c[4].after?" 1fr":"")),(!l||_&1)&&U(e,"bg-primary-600",c[0][0]||c[0][1])},i(c){l||(p(i),p(u,c),p(d),l=!0)},o(c){g(i),g(u,c),g(d),l=!1},d(c){c&&h(e),i&&i.d(),u&&u.d(c),d&&d.d(),a=!1,ce(o)}}}function Dt(r,e,t){let{$$slots:n={},$$scope:s}=e;const l=Qe(n),a=[!1,!1],o=Ie();let i=0;function f(){a[0]&&o("before"),a[1]&&o("after")}function u(c){return({detail:_})=>{a[c]&&(!c&&i<0||c&&i>0)&&f(),t(0,a[c]=_.isIntersecting,a)}}const d=({deltaX:c})=>t(1,i=c);return r.$$set=c=>{"$$scope"in c&&t(5,s=c.$$scope)},[a,i,f,u,l,s,n,d]}class Ct extends ne{constructor(e){super(),re(this,e,Dt,Tt,te,{})}}function Oe(r){let e,t,n=r[1](r[0])+"",s,l,a,o='<svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345L4.92804 0.176684C5.18188 -0.0588945 5.59343 -0.0588946 5.84728 0.176684C6.10112 0.412262 6.10112 0.794209 5.84728 1.02979L1.10966 5.42655C0.855821 5.66213 0.444263 5.66213 0.190422 5.42655Z"></path><path d="M0.190422 4.57345C0.444263 4.33787 0.855738 4.33787 1.10958 4.57345L5.84719 8.97021C6.10103 9.20579 6.10103 9.58774 5.84719 9.82332C5.59335 10.0589 5.18179 10.0589 4.92795 9.82332L0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345Z"></path></svg> <div class="h-[1.3px] flex-grow rounded bg-content-200"></div>',i,f,u=r[1](r[6]-r[0])+"",d,c,_,L='<div class="h-[1.3px] flex-grow rounded bg-content-200"></div> <svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345L2.07196 0.176684C1.81812 -0.0588945 1.40657 -0.0588946 1.15272 0.176684C0.898884 0.412262 0.898884 0.794209 1.15272 1.02979L5.89034 5.42655C6.14418 5.66213 6.55574 5.66213 6.80958 5.42655Z"></path><path d="M6.80958 4.57345C6.55574 4.33787 6.14426 4.33787 5.89042 4.57345L1.15281 8.97021C0.898969 9.20579 0.898969 9.58774 1.15281 9.82332C1.40665 10.0589 1.81821 10.0589 2.07205 9.82332L6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345Z"></path></svg>',A,O;return{c(){e=T("div"),t=T("button"),s=Q(n),l=F(),a=T("div"),a.innerHTML=o,i=F(),f=T("button"),d=Q(u),c=F(),_=T("div"),_.innerHTML=L,this.h()},l(k){e=D(k,"DIV",{class:!0});var y=z(e);t=D(y,"BUTTON",{class:!0});var j=z(t);s=Y(j,n),l=H(j),a=D(j,"DIV",{class:!0,"data-svelte-h":!0}),Le(a)!=="svelte-ivt2iy"&&(a.innerHTML=o),j.forEach(h),i=H(y),f=D(y,"BUTTON",{class:!0});var v=z(f);d=Y(v,u),c=H(v),_=D(v,"DIV",{class:!0,"data-svelte-h":!0}),Le(_)!=="svelte-1drb34i"&&(_.innerHTML=L),v.forEach(h),y.forEach(h),this.h()},h(){m(a,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(t,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(_,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(f,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(e,"class","flex w-full justify-between text-sm"),U(e,"pointer-events-none",!r[2])},m(k,y){E(k,e,y),I(e,t),I(t,s),I(t,l),I(t,a),I(e,i),I(e,f),I(f,d),I(f,c),I(f,_),A||(O=[be(Ae.call(null,t,{mouse:!0})),B(t,"hold",r[11]),B(t,"click",r[12]),be(Ae.call(null,f,{mouse:!0})),B(f,"hold",r[13]),B(f,"click",r[14])],A=!0)},p(k,y){y&3&&n!==(n=k[1](k[0])+"")&&me(s,n),y&67&&u!==(u=k[1](k[6]-k[0])+"")&&me(d,u),y&4&&U(e,"pointer-events-none",!k[2])},d(k){k&&h(e),A=!1,ce(O)}}}function Vt(r){let e,t,n,s,l,a,o,i=r[3]&&Oe(r);return{c(){e=T("div"),t=T("div"),n=T("input"),s=F(),i&&i.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var u=z(e);t=D(u,"DIV",{class:!0});var d=z(t);n=D(d,"INPUT",{class:!0,style:!0,type:!0,min:!0,max:!0}),d.forEach(h),s=H(u),i&&i.l(u),u.forEach(h),this.h()},h(){m(n,"class","relative w-full cursor-pointer appearance-none rounded bg-transparent outline-2 outline-offset-2 outline-primary-600 focus-visible:outline svelte-sruga5"),W(n,"--progress",(r[0]-r[7])/(r[6]-r[7])*100+"%"),m(n,"type","range"),m(n,"min",r[7]),m(n,"max",r[6]),m(t,"class","px-2"),m(e,"class",l=r[4]?"px-4 pt-8":"")},m(f,u){E(f,e,u),I(e,t),I(t,n),Se(n,r[0]),I(e,s),i&&i.m(e,null),a||(o=[B(n,"change",r[10]),B(n,"input",r[10])],a=!0)},p(f,[u]){u&193&&W(n,"--progress",(f[0]-f[7])/(f[6]-f[7])*100+"%"),u&128&&m(n,"min",f[7]),u&64&&m(n,"max",f[6]),u&1&&Se(n,f[0]),f[3]?i?i.p(f,u):(i=Oe(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&16&&l!==(l=f[4]?"px-4 pt-8":"")&&m(e,"class",l)},i:X,o:X,d(f){f&&h(e),i&&i.d(),a=!1,ce(o)}}}function Nt(r,e,t){const n=Ie();let{format:s=y=>y.toString()}=e,{controls:l=!1}=e,{hints:a=!1}=e,{p:o=!1}=e,{value:i=0}=e,{skip:f=10}=e,{max:u=100}=e,{min:d=0}=e,c=!1;function _(){i=at(this.value),t(0,i)}const L=()=>(t(8,c=!0),n("rewind")),A=()=>c?(t(8,c=!1),n("reset")):t(0,i=Math.max(i-f,d)),O=()=>(t(8,c=!0),n("forward")),k=()=>c?(t(8,c=!1),n("reset")):t(0,i=Math.min(i+f,u));return r.$$set=y=>{"format"in y&&t(1,s=y.format),"controls"in y&&t(2,l=y.controls),"hints"in y&&t(3,a=y.hints),"p"in y&&t(4,o=y.p),"value"in y&&t(0,i=y.value),"skip"in y&&t(5,f=y.skip),"max"in y&&t(6,u=y.max),"min"in y&&t(7,d=y.min)},[i,s,l,a,o,f,u,d,c,n,_,L,A,O,k]}class St extends ne{constructor(e){super(),re(this,e,Nt,Vt,te,{format:1,controls:2,hints:3,p:4,value:0,skip:5,max:6,min:7})}}function rt(r){const e=r-1;return e*e*e+1}function Re(r,{delay:e=0,duration:t=400,easing:n=rt,axis:s="y"}={}){const l=getComputedStyle(r),a=+l.opacity,o=s==="y"?"height":"width",i=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],u=f.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),d=parseFloat(l[`padding${u[0]}`]),c=parseFloat(l[`padding${u[1]}`]),_=parseFloat(l[`margin${u[0]}`]),L=parseFloat(l[`margin${u[1]}`]),A=parseFloat(l[`border${u[0]}Width`]),O=parseFloat(l[`border${u[1]}Width`]);return{delay:e,duration:t,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*a};${o}: ${k*i}px;padding-${f[0]}: ${k*d}px;padding-${f[1]}: ${k*c}px;margin-${f[0]}: ${k*_}px;margin-${f[1]}: ${k*L}px;border-${f[0]}-width: ${k*A}px;border-${f[1]}-width: ${k*O}px;`}}function ve(r,{delay:e=0,duration:t=400,easing:n=rt,start:s=0,opacity:l=0}={}){const a=getComputedStyle(r),o=+a.opacity,i=a.transform==="none"?"":a.transform,f=1-s,u=o*(1-l);return{delay:e,duration:t,easing:n,css:(d,c)=>`
			transform: ${i} scale(${1-f*c});
			opacity: ${o-u*c}
		`}}function Lt(r){let e,t,n;const s=r[2].default,l=ae(s,r,r[1],null);return{c(){e=T("aside"),l&&l.c(),this.h()},l(a){e=D(a,"ASIDE",{class:!0});var o=z(e);l&&l.l(o),o.forEach(h),this.h()},h(){m(e,"class","-z-20 mx-2 mb-2 flex min-h-[1px] w-[calc(100%-1rem)] max-w-xl flex-wrap rounded-lg bg-surface-200 ring-1 ring-highlight backdrop-blur-md will-change-transform svelte-1x44efv")},m(a,o){E(a,e,o),l&&l.m(e,null),r[3](e),n=!0},p(a,[o]){l&&l.p&&(!n||o&2)&&oe(l,s,a,a[1],n?ue(s,a[1],o,null):fe(a[1]),null)},i(a){n||(p(l,a),a&&we(()=>{n&&(t||(t=ie(e,Re,{},!0)),t.run(1))}),n=!0)},o(a){g(l,a),a&&(t||(t=ie(e,Re,{},!1)),t.run(0)),n=!1},d(a){a&&h(e),l&&l.d(a),r[3](null),a&&t&&t.end()}}}const zt=8;function Mt(r,e,t){let{$$slots:n={},$$scope:s}=e;ot("panel",!0);let l;async function a(){const i=((visualViewport==null?void 0:visualViewport.height)||innerHeight)-innerHeight,f=l==null?void 0:l.contains(document.activeElement),u=(l==null?void 0:l.getAnimations())||[];if(!i||!f)return u.forEach(_=>{_.reverse(),_.addEventListener("finish",()=>_.cancel(),{once:!0})});u.forEach(_=>_.cancel()),await new Promise(_=>requestAnimationFrame(_));const d=(l==null?void 0:l.getBoundingClientRect().bottom)||0,c=i-d+innerHeight-zt;l==null||l.animate([{transform:"translate3d(0,0,0)"},{transform:`translate3d(0,${c}px,0)`}],{delay:1,duration:150,fill:"forwards",composite:"replace",easing:"ease-in-out"})}ft(()=>{if(dt())return visualViewport==null||visualViewport.addEventListener("resize",a),()=>visualViewport==null?void 0:visualViewport.removeEventListener("resize",a)});function o(i){de[i?"unshift":"push"](()=>{l=i,t(0,l)})}return r.$$set=i=>{"$$scope"in i&&t(1,s=i.$$scope)},[l,s,n,o]}class Pt extends ne{constructor(e){super(),re(this,e,Mt,Lt,te,{})}}function Bt(r){let e,t,n,s,l,a,o=`${r[3]}ms`,i,f,u;return{c(){e=ze("svg"),t=ze("circle"),this.h()},l(d){e=Me(d,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0,role:!0});var c=z(e);t=Me(c,"circle",{class:!0,fill:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-width":!0,"stroke-linecap":!0,cx:!0,cy:!0,r:!0}),z(t).forEach(h),c.forEach(h),this.h()},h(){m(t,"class","animate-[dash-wiggle_var(--duration)_ease-in-out_infinite]"),m(t,"fill","none"),m(t,"stroke",r[5]),m(t,"stroke-dasharray",r[6]),m(t,"stroke-dashoffset",n=r[6]*r[1]),m(t,"stroke-width",r[4]),m(t,"stroke-linecap","round"),m(t,"cx",s=r[0]/2),m(t,"cy",l=r[0]/2),m(t,"r",a=r[0]/2-r[4]/2),W(t,"--back",r[6]*(r[1]-r[2])),W(t,"--forth",r[6]*(r[1]+r[2])),W(t,"--duration",o),m(e,"class","inline-block animate-spin"),m(e,"width",i=r[0]+"px"),m(e,"height",f=r[0]+"px"),m(e,"viewBox",u="0 0 "+r[0]+" "+r[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"role","status")},m(d,c){E(d,e,c),I(e,t)},p(d,[c]){c&32&&m(t,"stroke",d[5]),c&64&&m(t,"stroke-dasharray",d[6]),c&66&&n!==(n=d[6]*d[1])&&m(t,"stroke-dashoffset",n),c&16&&m(t,"stroke-width",d[4]),c&1&&s!==(s=d[0]/2)&&m(t,"cx",s),c&1&&l!==(l=d[0]/2)&&m(t,"cy",l),c&17&&a!==(a=d[0]/2-d[4]/2)&&m(t,"r",a),c&70&&W(t,"--back",d[6]*(d[1]-d[2])),c&70&&W(t,"--forth",d[6]*(d[1]+d[2])),c&8&&o!==(o=`${d[3]}ms`)&&W(t,"--duration",o),c&1&&i!==(i=d[0]+"px")&&m(e,"width",i),c&1&&f!==(f=d[0]+"px")&&m(e,"height",f),c&1&&u!==(u="0 0 "+d[0]+" "+d[0])&&m(e,"viewBox",u)},i:X,o:X,d(d){d&&h(e)}}}function At(r,e,t){let n,{size:s=64}=e,{cutoff:l=.3}=e,{wiggle:a=.15}=e,{duration:o=2e3}=e,{thickness:i=Math.sqrt(s)}=e,{color:f="hsl(var(--color-highlight))"}=e;return r.$$set=u=>{"size"in u&&t(0,s=u.size),"cutoff"in u&&t(1,l=u.cutoff),"wiggle"in u&&t(2,a=u.wiggle),"duration"in u&&t(3,o=u.duration),"thickness"in u&&t(4,i=u.thickness),"color"in u&&t(5,f=u.color)},r.$$.update=()=>{r.$$.dirty&17&&t(6,n=Math.PI*(s-i))},[s,l,a,o,i,f,n]}class Ft extends ne{constructor(e){super(),re(this,e,At,Bt,te,{size:0,cutoff:1,wiggle:2,duration:3,thickness:4,color:5})}}function Ht(r){var n;let e=(((n=r[2])==null?void 0:n.title)||"Not Playing")+"",t;return{c(){t=Q(e)},l(s){t=Y(s,e)},m(s,l){E(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.title)||"Not Playing")+"")&&me(t,e)},d(s){s&&h(t)}}}function jt(r){var n;let e=(((n=r[2])==null?void 0:n.artists.map(Ue).join(", "))||" ")+"",t;return{c(){t=Q(e)},l(s){t=Y(s,e)},m(s,l){E(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.artists.map(Ue).join(", "))||" ")+"")&&me(t,e)},d(s){s&&h(t)}}}function qt(r){var l;let e,t,n,s;return e=new pt({props:{accent:!0,$$slots:{default:[Ht]},$$scope:{ctx:r}}}),n=new Te({props:{air:!0,primary:!0,slim:!0,disabled:!r[2],href:((l=r[2])==null?void 0:l.artists.length)===1?`/explore/artist#${r[2].artists[0].id}`:void 0,$$slots:{default:[jt]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=F(),C(n.$$.fragment)},l(a){V(e.$$.fragment,a),t=H(a),V(n.$$.fragment,a)},m(a,o){N(e,a,o),E(a,t,o),N(n,a,o),s=!0},p(a,o){var u;const i={};o&516&&(i.$$scope={dirty:o,ctx:a}),e.$set(i);const f={};o&4&&(f.disabled=!a[2]),o&4&&(f.href=((u=a[2])==null?void 0:u.artists.length)===1?`/explore/artist#${a[2].artists[0].id}`:void 0),o&516&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){s||(p(e.$$.fragment,a),p(n.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),s=!1},d(a){a&&h(t),S(e,a),S(n,a)}}}function Ot(r){var l;let e,t,n=`hue-rotate(${((l=r[2])==null?void 0:l.id)||0}deg)`,s;return t=new ye({props:{name:"note"}}),{c(){e=T("div"),C(t.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var o=z(e);V(t.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"class","flex h-full w-full items-center justify-center bg-gradient-to-r from-rose-400 to-red-400 text-white"),W(e,"filter",n)},m(a,o){E(a,e,o),N(t,e,null),s=!0},p(a,o){var i;o&4&&n!==(n=`hue-rotate(${((i=a[2])==null?void 0:i.id)||0}deg)`)&&W(e,"filter",n)},i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){g(t.$$.fragment,a),s=!1},d(a){a&&h(e),S(t)}}}function Rt(r){let e,t,n;return{c(){e=T("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),z(e).forEach(h),this.h()},h(){m(e,"class","pause absolute svelte-1jkcbkw")},m(s,l){E(s,e,l),n=!0},i(s){n||(s&&we(()=>{n&&(t||(t=ie(e,ve,{},!0)),t.run(1))}),n=!0)},o(s){s&&(t||(t=ie(e,ve,{},!1)),t.run(0)),n=!1},d(s){s&&h(e),s&&t&&t.end()}}}function Ut(r){let e,t,n,s;return t=new Ft({props:{color:"hsl(var(--color-content))"}}),{c(){e=T("div"),C(t.$$.fragment),this.h()},l(l){e=D(l,"DIV",{class:!0});var a=z(e);V(t.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"class","absolute")},m(l,a){E(l,e,a),N(t,e,null),s=!0},i(l){s||(p(t.$$.fragment,l),l&&we(()=>{s&&(n||(n=ie(e,ve,{},!0)),n.run(1))}),s=!0)},o(l){g(t.$$.fragment,l),l&&(n||(n=ie(e,ve,{},!1)),n.run(0)),s=!1},d(l){l&&h(e),S(t),l&&n&&n.end()}}}function Wt(r){var Z,K,b;let e,t,n,s,l,a,o,i,f,u,d,c,_,L,A,O,k;e=new Ye({props:{class:"place-items-center gap-1 p-4",$$slots:{default:[qt]},$$scope:{ctx:r}}}),o=new mt({props:{src:(K=(Z=r[2])==null?void 0:Z.album.arts)==null?void 0:K[0],size:324,$$slots:{default:[Ot]},$$scope:{ctx:r}}});const y=[Ut,Rt],j=[];function v($,M){return $[3]?0:1}u=v(r),d=j[u]=y[u](r);function P($){r[5]($)}let q={format:ht,max:((b=r[2])==null?void 0:b.duration)||0,controls:!0,hints:!0,p:!0};return r[0]!==void 0&&(q.value=r[0]),_=new St({props:q}),de.push(()=>ge(_,"value",P)),_.$on("forward",r[6]),_.$on("rewind",r[7]),_.$on("reset",r[8]),{c(){C(e.$$.fragment),t=F(),n=T("div"),s=T("label"),l=T("input"),a=F(),C(o.$$.fragment),i=F(),f=T("div"),d.c(),c=F(),C(_.$$.fragment),this.h()},l($){V(e.$$.fragment,$),t=H($),n=D($,"DIV",{class:!0});var M=z(n);s=D(M,"LABEL",{class:!0});var R=z(s);l=D(R,"INPUT",{type:!0,class:!0}),a=H(R),V(o.$$.fragment,R),i=H(R),f=D(R,"DIV",{class:!0});var J=z(f);d.l(J),J.forEach(h),R.forEach(h),M.forEach(h),c=H($),V(_.$$.fragment,$),this.h()},h(){m(l,"type","checkbox"),m(l,"class","peer absolute inset-0 appearance-none rounded-2xl outline-2 outline-offset-8 outline-primary-600 focus-visible:outline svelte-1jkcbkw"),m(f,"class","absolute -inset-[1px] flex items-center justify-center rounded-2xl bg-surface-200 opacity-0 backdrop-blur transition-[opacity] duration-300 peer-checked:opacity-100 svelte-1jkcbkw"),U(f,"opacity-100",r[3]),m(s,"class","relative block cursor-pointer rounded-2xl shadow-xl"),m(n,"class","px-11")},m($,M){N(e,$,M),E($,t,M),E($,n,M),I(n,s),I(s,l),l.checked=r[1],I(s,a),N(o,s,null),I(s,i),I(s,f),j[u].m(f,null),E($,c,M),N(_,$,M),A=!0,O||(k=B(l,"change",r[4]),O=!0)},p($,[M]){var Ce,Ve,Ne;const R={};M&516&&(R.$$scope={dirty:M,ctx:$}),e.$set(R),M&2&&(l.checked=$[1]);const J={};M&4&&(J.src=(Ve=(Ce=$[2])==null?void 0:Ce.album.arts)==null?void 0:Ve[0]),M&516&&(J.$$scope={dirty:M,ctx:$}),o.$set(J);let w=u;u=v($),u!==w&&(x(),g(j[w],1,1,()=>{j[w]=null}),ee(),d=j[u],d||(d=j[u]=y[u]($),d.c()),p(d,1),d.m(f,null)),(!A||M&8)&&U(f,"opacity-100",$[3]);const se={};M&4&&(se.max=((Ne=$[2])==null?void 0:Ne.duration)||0),!L&&M&1&&(L=!0,se.value=$[0],pe(()=>L=!1)),_.$set(se)},i($){A||(p(e.$$.fragment,$),p(o.$$.fragment,$),p(d),p(_.$$.fragment,$),A=!0)},o($){g(e.$$.fragment,$),g(o.$$.fragment,$),g(d),g(_.$$.fragment,$),A=!1},d($){$&&(h(t),h(n),h(c)),S(e,$),S(o),j[u].d(),S(_,$),O=!1,k()}}}const Ue=r=>r.title;function Zt(r,e,t){let{track:n=void 0}=e,{currentTime:s=0}=e,{loading:l=!1}=e,{paused:a=!0}=e;function o(){a=this.checked,t(1,a)}function i(c){s=c,t(0,s)}function f(c){_e.call(this,r,c)}function u(c){_e.call(this,r,c)}function d(c){_e.call(this,r,c)}return r.$$set=c=>{"track"in c&&t(2,n=c.track),"currentTime"in c&&t(0,s=c.currentTime),"loading"in c&&t(3,l=c.loading),"paused"in c&&t(1,a=c.paused)},[s,a,n,l,o,i,f,u,d]}class Gt extends ne{constructor(e){super(),re(this,e,Zt,Wt,te,{track:2,currentTime:0,loading:3,paused:1})}}const Kt=r=>({}),We=r=>({slot:"before"});function Ze(r){let e,t;return e=new xe({props:{lg:!0,$$slots:{default:[Yt]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048592&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xt(r){let e;return{c(){e=Q("Title")},l(t){e=Y(t,"Title")},m(t,n){E(t,e,n)},d(t){t&&h(e)}}}function Jt(r){let e;return{c(){e=Q("Artist")},l(t){e=Y(t,"Artist")},m(t,n){E(t,e,n)},d(t){t&&h(e)}}}function Qt(r){let e;return{c(){e=Q("Album")},l(t){e=Y(t,"Album")},m(t,n){E(t,e,n)},d(t){t&&h(e)}}}function Yt(r){let e,t,n,s,l,a,o;return t=new $e({props:{sm:!0,$$slots:{default:[Xt]},$$scope:{ctx:r}}}),s=new $e({props:{sm:!0,$$slots:{default:[Jt]},$$scope:{ctx:r}}}),a=new $e({props:{sm:!0,$$slots:{default:[Qt]},$$scope:{ctx:r}}}),{c(){e=T("div"),C(t.$$.fragment),n=F(),C(s.$$.fragment),l=F(),C(a.$$.fragment),this.h()},l(i){e=D(i,"DIV",{class:!0});var f=z(e);V(t.$$.fragment,f),n=H(f),V(s.$$.fragment,f),l=H(f),V(a.$$.fragment,f),f.forEach(h),this.h()},h(){m(e,"class","sticky top-11 z-10 grid auto-cols-fr grid-flow-col border-b border-b-highlight bg-surface/70 pl-20 pr-10 backdrop-blur-md"),U(e,"pl-24",r[4])},m(i,f){E(i,e,f),N(t,e,null),I(e,n),N(s,e,null),I(e,l),N(a,e,null),o=!0},p(i,f){const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),t.$set(u);const d={};f&1048576&&(d.$$scope={dirty:f,ctx:i}),s.$set(d);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),a.$set(c),(!o||f&16)&&U(e,"pl-24",i[4])},i(i){o||(p(t.$$.fragment,i),p(s.$$.fragment,i),p(a.$$.fragment,i),o=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),g(a.$$.fragment,i),o=!1},d(i){i&&h(e),S(t),S(s),S(a)}}}function Ge(r){let e,t=typeof r[22]=="string"&&Ke();return{c(){e=T("div"),t&&t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=z(e);t&&t.l(s),s.forEach(h),this.h()},h(){m(e,"class","visible ml-4 flex h-14 w-0.5 items-center justify-center bg-highlight-100"),U(e,"opacity-0",Number.isNaN(r[23]))},m(n,s){E(n,e,s),t&&t.m(e,null)},p(n,s){typeof n[22]=="string"?t||(t=Ke(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&8388608&&U(e,"opacity-0",Number.isNaN(n[23]))},d(n){n&&h(e),t&&t.d()}}}function Ke(r){let e;return{c(){e=T("div"),this.h()},l(t){e=D(t,"DIV",{class:!0}),z(e).forEach(h),this.h()},h(){m(e,"class","absolute mt-4 h-2 w-2 rounded-full bg-content")},m(t,n){E(t,e,n)},d(t){t&&h(e)}}}function xt(r){let e,t;return e=new De({props:{sm:r[2]}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.sm=n[2]),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function en(r){let e,t,n,s;const l=[rn,nn],a=[];function o(i,f){return i[10].default||i[10].action?0:1}return e=o(r),t=a[e]=l[e](r),{c(){t.c(),n=le()},l(i){t.l(i),n=le()},m(i,f){a[e].m(i,f),E(i,n,f),s=!0},p(i,f){let u=e;e=o(i),e===u?a[e].p(i,f):(x(),g(a[u],1,1,()=>{a[u]=null}),ee(),t=a[e],t?t.p(i,f):(t=a[e]=l[e](i),t.c()),p(t,1),t.m(n.parentNode,n))},i(i){s||(p(t),s=!0)},o(i){g(t),s=!1},d(i){i&&h(n),a[e].d(i)}}}function tn(r){let e,t=r[22]+"",n;return{c(){e=T("h2"),n=Q(t),this.h()},l(s){e=D(s,"H2",{draggable:!0,class:!0});var l=z(e);n=Y(l,t),l.forEach(h),this.h()},h(){m(e,"draggable","false"),m(e,"class","relative top-2 flex h-14 items-center indent-4 text-lg [*:has(>div>&)]:pointer-events-none")},m(s,l){E(s,e,l),I(e,n)},p(s,l){l&4194304&&t!==(t=s[22]+"")&&me(n,t)},i:X,o:X,d(s){s&&h(e)}}}function nn(r){let e,t;function n(){return r[17](r[22])}return e=new De({props:{sm:r[2],track:r[22],selected:ke(r[22],r[0])}}),e.$on("click",n),{c(){C(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,l){N(e,s,l),t=!0},p(s,l){r=s;const a={};l&4&&(a.sm=r[2]),l&4194304&&(a.track=r[22]),l&4194305&&(a.selected=ke(r[22],r[0])),e.$set(a)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function rn(r){let e,t;function n(){return r[15](r[22])}function s(){return r[16](r[22])}return e=new Ct({props:{$$slots:{after:[an],before:[ln],default:[sn]},$$scope:{ctx:r}}}),e.$on("before",n),e.$on("after",s),{c(){C(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,a){N(e,l,a),t=!0},p(l,a){r=l;const o={};a&5242885&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function sn(r){let e,t;function n(){return r[13](r[22])}function s(...l){return r[14](r[22],...l)}return e=new De({props:{sm:r[2],track:r[22],selected:ke(r[22],r[0])}}),e.$on("click",n),e.$on("contextmenu",s),{c(){C(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,a){N(e,l,a),t=!0},p(l,a){r=l;const o={};a&4&&(o.sm=r[2]),a&4194304&&(o.track=r[22]),a&4194305&&(o.selected=ke(r[22],r[0])),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function ln(r){let e;const t=r[12].action,n=ae(t,r,r[20],We);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&1048576)&&oe(n,t,s,s[20],e?ue(t,s[20],l,Kt):fe(s[20]),We)},i(s){e||(p(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function an(r){let e,t;return e=new ye({props:{name:"list",slot:"after"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function on(r){let e,t,n,s,l,a=r[4]&&Ge(r);const o=[tn,en,xt],i=[];function f(u,d){return typeof u[22]=="string"?0:u[22]?1:2}return n=f(r),s=i[n]=o[n](r),{c(){e=T("div"),a&&a.c(),t=F(),s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=z(e);a&&a.l(d),t=H(d),s.l(d),d.forEach(h),this.h()},h(){m(e,"class","relative flex [&_hr]:!opacity-100 [*:has(>&):last-of-type_hr]:!opacity-0")},m(u,d){E(u,e,d),a&&a.m(e,null),I(e,t),i[n].m(e,null),l=!0},p(u,d){u[4]?a?a.p(u,d):(a=Ge(u),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let c=n;n=f(u),n===c?i[n].p(u,d):(x(),g(i[c],1,1,()=>{i[c]=null}),ee(),s=i[n],s?s.p(u,d):(s=i[n]=o[n](u),s.c()),p(s,1),s.m(e,null))},i(u){l||(p(s),l=!0)},o(u){g(s),l=!1},d(u){u&&h(e),a&&a.d(),i[n].d()}}}function Xe(r){let e,t;return e=new et({props:{to:"bottom",$$slots:{default:[dn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048577&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Je(r){let e,t;return e=new Pt({props:{$$slots:{default:[cn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048576&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fn(r){let e,t;return e=new ye({props:{name:"close"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function un(r){let e,t,n,s,l;const a=r[12].default,o=ae(a,r,r[20],null);return t=new nt({}),s=new Te({props:{air:!0,square:!0,$$slots:{default:[fn]},$$scope:{ctx:r}}}),s.$on("click",r[8]),{c(){o&&o.c(),e=F(),C(t.$$.fragment),n=F(),C(s.$$.fragment)},l(i){o&&o.l(i),e=H(i),V(t.$$.fragment,i),n=H(i),V(s.$$.fragment,i)},m(i,f){o&&o.m(i,f),E(i,e,f),N(t,i,f),E(i,n,f),N(s,i,f),l=!0},p(i,f){o&&o.p&&(!l||f&1048576)&&oe(o,a,i,i[20],l?ue(a,i[20],f,null):fe(i[20]),null);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){l||(p(o,i),p(t.$$.fragment,i),p(s.$$.fragment,i),l=!0)},o(i){g(o,i),g(t.$$.fragment,i),g(s.$$.fragment,i),l=!1},d(i){i&&(h(e),h(n)),o&&o.d(i),S(t,i),S(s,i)}}}function cn(r){let e,t;return e=new Ye({props:{x:!0,$$slots:{default:[un]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048576&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dn(r){let e,t,n=r[0].size&&Je(r);return{c(){n&&n.c(),e=le()},l(s){n&&n.l(s),e=le()},m(s,l){n&&n.m(s,l),E(s,e,l),t=!0},p(s,l){s[0].size?n?(n.p(s,l),l&1&&p(n,1)):(n=Je(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(x(),g(n,1,1,()=>{n=null}),ee())},i(s){t||(p(n),t=!0)},o(s){g(n),t=!1},d(s){s&&h(e),n&&n.d(s)}}}function _n(r){let e,t,n,s,l,a,o=!r[2]&&Ze(r);n=new gt({props:{key:mn,sortable:"tracks",prerender:st,fixed:r[3],items:r[5],animate:!0,$$slots:{default:[on,({item:f,index:u})=>({22:f,23:u}),({item:f,index:u})=>(f?4194304:0)|(u?8388608:0)]},$$scope:{ctx:r}}}),n.$on("edit",r[18]),n.$on("end",r[19]);let i=(r[10].default||r[10].action)&&Xe(r);return{c(){e=T("div"),o&&o.c(),t=F(),C(n.$$.fragment),s=F(),i&&i.c(),l=le(),this.h()},l(f){e=D(f,"DIV",{class:!0});var u=z(e);o&&o.l(u),t=H(u),V(n.$$.fragment,u),u.forEach(h),s=H(f),i&&i.l(f),l=le(),this.h()},h(){m(e,"class",r[1])},m(f,u){E(f,e,u),o&&o.m(e,null),I(e,t),N(n,e,null),E(f,s,u),i&&i.m(f,u),E(f,l,u),a=!0},p(f,[u]){f[2]?o&&(x(),g(o,1,1,()=>{o=null}),ee()):o?(o.p(f,u),u&4&&p(o,1)):(o=Ze(f),o.c(),p(o,1),o.m(e,t));const d={};u&8&&(d.fixed=f[3]),u&32&&(d.items=f[5]),u&13632533&&(d.$$scope={dirty:u,ctx:f}),n.$set(d),(!a||u&2)&&m(e,"class",f[1]),f[10].default||f[10].action?i?(i.p(f,u),u&1024&&p(i,1)):(i=Xe(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(x(),g(i,1,1,()=>{i=null}),ee())},i(f){a||(p(o),p(n.$$.fragment,f),p(i),a=!0)},o(f){g(o),g(n.$$.fragment,f),g(i),a=!1},d(f){f&&(h(e),h(s),h(l)),o&&o.d(),S(n),i&&i.d(f)}}}const st=10;function ke(r,e){return e.size?e.has(r)?!0:"passive":!1}const mn=r=>typeof r=="string"?r:(r==null?void 0:r.entry)||(r==null?void 0:r.id);function hn(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const a=Qe(s),o=Ie();let{class:i=""}=e,{sm:f=!1}=e,{fixed:u=!1}=e,{timeline:d=!1}=e,{selected:c=new Set}=e,{tracks:_=void 0}=e;function L(b){if(!b)return Array.from({length:st});if(!d)return b;const $=[];let M="";for(const R of b){if(!R||!("date"in R)||typeof R.date!="number")continue;const J=new Date(R.date*1e3),w=$t(J);w!==M&&($.push(w),M=w),$.push(R)}return $}function A(b){c.has(b)?c.delete(b):c.add(b),t(0,c)}function O(){c.clear(),t(0,c)}async function k(b){if(!o("click",b,{cancelable:!0}))return;const $=_==null?void 0:_.indexOf(b);!_||!_[0]||$==null||$===-1||(G.clear(),G.push(_.slice($)),await G.push(_.slice(0,$),"first"),lt())}const y=b=>c.size?A(b):k(b),j=(b,$)=>($.preventDefault(),A(b)),v=b=>o("action",b),P=b=>A(b),q=b=>k(b);function Z(b){_e.call(this,r,b)}function K(b){_e.call(this,r,b)}return r.$$set=b=>{"class"in b&&t(1,i=b.class),"sm"in b&&t(2,f=b.sm),"fixed"in b&&t(3,u=b.fixed),"timeline"in b&&t(4,d=b.timeline),"selected"in b&&t(0,c=b.selected),"tracks"in b&&t(11,_=b.tracks),"$$scope"in b&&t(20,l=b.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&t(5,n=L(_)),r.$$.dirty&2048&&(_!=null&&_.length||O())},[c,i,f,u,d,n,o,A,O,k,a,_,s,y,j,v,P,q,Z,K,l]}class pn extends ne{constructor(e){super(),re(this,e,hn,_n,te,{class:1,sm:2,fixed:3,timeline:4,selected:0,tracks:11})}}function gn(r){let e;return{c(){e=Q("Playing Next")},l(t){e=Y(t,"Playing Next")},m(t,n){E(t,e,n)},d(t){t&&h(e)}}}function $n(r){let e,t;return e=new ye({props:{name:"trash"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:X,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bn(r){let e,t;return e=new Te({props:{air:!0,stretch:!0,$$slots:{default:[$n]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&134217728&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vn(r){let e,t,n,s,l,a,o,i,f,u,d,c,_,L;function A(v){r[18](v)}function O(v){r[19](v)}let k={track:r[0],loading:r[3]<=2&&!!r[6]};r[1]!==void 0&&(k.currentTime=r[1]),r[4]!==void 0&&(k.paused=r[4]),n=new Gt({props:k}),de.push(()=>ge(n,"currentTime",A)),de.push(()=>ge(n,"paused",O)),n.$on("forward",r[20]),n.$on("rewind",r[21]),n.$on("reset",r[22]),o=new $e({props:{indent:!0,sm:!0,$$slots:{default:[gn]},$$scope:{ctx:r}}}),f=new nt({});function y(v){r[23](v)}let j={tracks:r[8],sm:!0,$$slots:{default:[bn]},$$scope:{ctx:r}};return r[7]!==void 0&&(j.selected=r[7]),c=new pn({props:j}),de.push(()=>ge(c,"selected",y)),c.$on("click",r[24]),{c(){e=T("div"),t=T("div"),C(n.$$.fragment),a=F(),C(o.$$.fragment),i=F(),C(f.$$.fragment),u=F(),d=T("div"),C(c.$$.fragment),this.h()},l(v){e=D(v,"DIV",{class:!0});var P=z(e);t=D(P,"DIV",{});var q=z(t);V(n.$$.fragment,q),a=H(q),V(o.$$.fragment,q),i=H(q),V(f.$$.fragment,q),q.forEach(h),u=H(P),d=D(P,"DIV",{class:!0});var Z=z(d);V(c.$$.fragment,Z),Z.forEach(h),P.forEach(h),this.h()},h(){m(d,"class","grow overflow-y-scroll contain-strict"),m(e,"class","flex h-screen flex-col border-l border-highlight")},m(v,P){E(v,e,P),I(e,t),N(n,t,null),I(t,a),N(o,t,null),I(t,i),N(f,t,null),I(e,u),I(e,d),N(c,d,null),L=!0},p(v,P){const q={};P&1&&(q.track=v[0]),P&72&&(q.loading=v[3]<=2&&!!v[6]),!s&&P&2&&(s=!0,q.currentTime=v[1],pe(()=>s=!1)),!l&&P&16&&(l=!0,q.paused=v[4],pe(()=>l=!1)),n.$set(q);const Z={};P&134217728&&(Z.$$scope={dirty:P,ctx:v}),o.$set(Z);const K={};P&256&&(K.tracks=v[8]),P&134217728&&(K.$$scope={dirty:P,ctx:v}),!_&&P&128&&(_=!0,K.selected=v[7],pe(()=>_=!1)),c.$set(K)},i(v){L||(p(n.$$.fragment,v),p(o.$$.fragment,v),p(f.$$.fragment,v),p(c.$$.fragment,v),L=!0)},o(v){g(n.$$.fragment,v),g(o.$$.fragment,v),g(f.$$.fragment,v),g(c.$$.fragment,v),L=!1},d(v){v&&h(e),S(n),S(o),S(f),S(c)}}}function kn(r){let e,t;return e=new xe({props:{lg:!0,$$slots:{default:[vn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&134218207&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wn(r){let e,t,n=!0,s=!1,l,a,o,i,f,u;function d(){cancelAnimationFrame(l),e.paused||(l=ct(d),s=!0),r[15].call(e)}return o=new et({props:{to:"right",$$slots:{default:[kn]},$$scope:{ctx:r}}}),{c(){e=T("audio"),a=F(),C(o.$$.fragment),this.h()},l(c){e=D(c,"AUDIO",{src:!0,preload:!0}),z(e).forEach(h),a=H(c),V(o.$$.fragment,c),this.h()},h(){Pe(e.src,t=r[6])||m(e,"src",t),m(e,"preload","auto"),r[3]===void 0&&we(()=>r[14].call(e))},m(c,_){E(c,e,_),isNaN(r[2])||(e.playbackRate=r[2]),E(c,a,_),N(o,c,_),i=!0,f||(u=[B(e,"play",r[13]),B(e,"pause",r[13]),B(e,"loadedmetadata",r[14]),B(e,"loadeddata",r[14]),B(e,"canplay",r[14]),B(e,"canplaythrough",r[14]),B(e,"playing",r[14]),B(e,"waiting",r[14]),B(e,"emptied",r[14]),B(e,"timeupdate",d),B(e,"ratechange",r[16]),B(e,"ended",r[17])],f=!0)},p(c,[_]){(!i||_&64&&!Pe(e.src,t=c[6]))&&m(e,"src",t),_&16&&n!==(n=c[4])&&e[n?"pause":"play"](),!s&&_&2&&!isNaN(c[1])&&(e.currentTime=c[1]),s=!1,_&4&&!isNaN(c[2])&&(e.playbackRate=c[2]);const L={};_&134218207&&(L.$$scope={dirty:_,ctx:c}),o.$set(L)},i(c){i||(p(o.$$.fragment,c),i=!0)},o(c){g(o.$$.fragment,c),i=!1},d(c){c&&(h(e),h(a)),S(o,c),f=!1,ce(u)}}}let Ee=!1;function lt(){Ee=!0}function yn(r,e,t){let n,s,l;Be(r,G,w=>t(12,s=w)),Be(r,bt,w=>t(8,l=w));const a=_t(async()=>{if(!o)return;const w=f/o.duration;w<1&&G.sync(w)},3e3);let o,i=1,f=0,u=0,d=!0,c=!1,_="",L=new Set;async function A(w){if((w==null?void 0:w.id)===(o==null?void 0:o.id))return;if(t(0,o=w),!o)return t(4,d=!0),t(1,f=0);t(3,u=0);const se=await vt.query(o);se!==_&&(t(6,_=se),Ee&&(Ee=!1,t(4,d=!0),await ut(),t(4,d=!1)))}function O(){G.purge([...L].map(w=>w.entry).filter(w=>!!w)),L.clear(),t(7,L)}async function k(w){w!=null&&w.entry&&G.rearrange(w.entry,o==null?void 0:o.entry),(n==null?void 0:n.repeat)===1?(G.repeat("none"),G.sync(1),await G.repeat("single")):await G.sync(1),lt()}function y(){d=this.paused,t(4,d)}function j(){u=this.readyState,t(3,u)}function v(){f=this.currentTime,t(1,f),t(11,n),t(0,o),t(12,s)}function P(){i=this.playbackRate,t(2,i)}const q=()=>c||(G.sync(1),t(5,c=!0));function Z(w){f=w,t(1,f),t(11,n),t(0,o),t(12,s)}function K(w){d=w,t(4,d)}const b=()=>t(2,i=5),$=()=>t(2,i=-5),M=()=>t(2,i=1);function R(w){L=w,t(7,L)}const J=w=>(w.preventDefault(),k(w.detail));return r.$$.update=()=>{r.$$.dirty&4096&&t(11,n=s.find(w=>w.local)),r.$$.dirty&2048&&A(n==null?void 0:n.track),r.$$.dirty&2051&&n&&o&&!f&&t(1,f=n.progress*o.duration),r.$$.dirty&2&&(a(),t(5,c=!1))},[o,f,i,u,d,c,_,L,l,O,k,n,s,y,j,v,P,q,Z,K,b,$,M,R,J]}class Vn extends ne{constructor(e){super(),re(this,e,yn,wn,te,{})}}export{Pt as P,nt as S,pn as T,Vn as a,tt as i};
