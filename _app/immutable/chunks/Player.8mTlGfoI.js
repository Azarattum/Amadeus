import{s as ee,f as T,g as D,j as m,i as y,G as J,d as h,A as rt,w as le,a as H,h as M,c as F,k as W,E as U,u as I,C as A,x as ie,y as ae,z as oe,T as fe,H as Je,W as Ee,J as ge,Y as Ce,l as K,m as Y,D as Ve,n as de,Z as st,U as ve,L as lt,o as it,p as ue,_ as Ne,$ as Le,K as me,M as ce,e as re,a0 as Se,v as ze,t as at}from"./scheduler.yhBzS9E6.js";import{S as te,i as ne,a as p,g as X,t as g,c as x,h as se,f as he,b as C,d as V,m as N,e as L,r as ot}from"./index.f7836kWu.js";import{i as ft,S as Ke,B as Ie,I as ke,H as pe,t as ut}from"./Spinner.svelte_svelte_type_style_lang.Fuk1BDPo.js";import{v as Me,I as ct,q as dt,n as _t,V as mt,W as Ye,P as Qe,w as ht,k as Z,T as Te,x as pt,y as gt}from"./Track.gn00RVS1.js";import"./paths.a9wi_hIB.js";const _e=new Map,$t=r=>r.forEach(e=>{e.target?.dispatchEvent(new CustomEvent("intersect",{detail:e})),e.target?.dispatchEvent(new CustomEvent(e.isIntersecting?"viewenter":"viewleave",{detail:e}))});function Xe(r,e){const t=e?.toString()||"",n=_e.get(t)||[new IntersectionObserver($t,{threshold:e}),0];return _e.has(t)||_e.set(t,n),n[0].observe(r),n[1]+=1,{destroy(){n[0].unobserve(r),n[1]-=1,n[1]<=0&&(n[0].disconnect(),_e.delete(t))}}}function bt(r){let e,t;return{c(){e=T("hr"),this.h()},l(n){e=D(n,"HR",{class:!0,"aria-hidden":!0}),this.h()},h(){m(e,"class",t="border-highlight "+(r[0]?"h-full w-0 border-r":"w-full")),m(e,"aria-hidden","true")},m(n,s){y(n,e,s)},p(n,[s]){s&1&&t!==(t="border-highlight "+(n[0]?"h-full w-0 border-r":"w-full"))&&m(e,"class",t)},i:J,o:J,d(n){n&&h(e)}}}function vt(r,e,t){let{vertical:n=rt("stack")==="x"}=e;return r.$$set=s=>{"vertical"in s&&t(0,n=s.vertical)},[n]}class xe extends te{constructor(e){super(),ne(this,e,vt,bt,ee,{vertical:0})}}const kt=r=>({}),Pe=r=>({}),wt=r=>({}),Ae=r=>({});function Be(r){let e,t,n,s;const l=r[6].before,a=le(l,r,r[5],Ae);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0,style:!0});var i=M(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),W(e,"scroll-snap-align","none"),U(e,"text-white",r[0][0])},m(o,i){y(o,e,i),a&&a.m(e,null),t=!0,n||(s=[ge(Xe.call(null,e,.5)),A(e,"intersect",r[3](0))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&ie(a,l,o,o[5],t?oe(l,o[5],i,wt):ae(o[5]),Ae),(!t||i&1)&&U(e,"text-white",o[0][0])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,fe(s)}}}function He(r){let e,t,n,s;const l=r[6].after,a=le(l,r,r[5],Pe);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var i=M(e);a&&a.l(i),i.forEach(h),this.h()},h(){m(e,"class","flex items-center px-4 text-content-200 transition-colors"),U(e,"text-white",r[0][1])},m(o,i){y(o,e,i),a&&a.m(e,null),t=!0,n||(s=[ge(Xe.call(null,e,.5)),A(e,"intersect",r[3](1))],n=!0)},p(o,i){a&&a.p&&(!t||i&32)&&ie(a,l,o,o[5],t?oe(l,o[5],i,kt):ae(o[5]),Pe),(!t||i&1)&&U(e,"text-white",o[0][1])},i(o){t||(p(a,o),t=!0)},o(o){g(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),n=!1,fe(s)}}}function yt(r){let e,t,n,s,l,a,o,i=r[4].before&&Be(r);const f=r[6].default,u=le(f,r,r[5],null);let d=r[4].after&&He(r);return{c(){e=T("div"),i&&i.c(),t=H(),n=T("div"),u&&u.c(),s=H(),d&&d.c(),this.h()},l(c){e=D(c,"DIV",{class:!0,style:!0});var _=M(e);i&&i.l(_),t=F(_),n=D(_,"DIV",{class:!0});var S=M(n);u&&u.l(S),S.forEach(h),s=F(_),d&&d.l(_),_.forEach(h),this.h()},h(){m(n,"class","snap-center snap-always"),m(e,"class","grid w-full snap-x snap-mandatory overflow-y-hidden overflow-x-scroll rounded-lg transition-colors duration-300 ease-linear will-change-transform svelte-qtbr7a"),W(e,"grid","auto / auto-flow "+(r[4].before?"1fr ":"")+"100%"+(r[4].after?" 1fr":"")),U(e,"bg-primary-600",r[0][0]||r[0][1])},m(c,_){y(c,e,_),i&&i.m(e,null),I(e,t),I(e,n),u&&u.m(n,null),I(e,s),d&&d.m(e,null),l=!0,a||(o=[A(e,"wheel",r[7],{passive:!0}),A(e,"touchend",r[2],{passive:!0})],a=!0)},p(c,[_]){c[4].before?i?(i.p(c,_),_&16&&p(i,1)):(i=Be(c),i.c(),p(i,1),i.m(e,t)):i&&(X(),g(i,1,1,()=>{i=null}),x()),u&&u.p&&(!l||_&32)&&ie(u,f,c,c[5],l?oe(f,c[5],_,null):ae(c[5]),null),c[4].after?d?(d.p(c,_),_&16&&p(d,1)):(d=He(c),d.c(),p(d,1),d.m(e,null)):d&&(X(),g(d,1,1,()=>{d=null}),x()),(!l||_&16)&&W(e,"grid","auto / auto-flow "+(c[4].before?"1fr ":"")+"100%"+(c[4].after?" 1fr":"")),(!l||_&1)&&U(e,"bg-primary-600",c[0][0]||c[0][1])},i(c){l||(p(i),p(u,c),p(d),l=!0)},o(c){g(i),g(u,c),g(d),l=!1},d(c){c&&h(e),i&&i.d(),u&&u.d(c),d&&d.d(),a=!1,fe(o)}}}function Et(r,e,t){let{$$slots:n={},$$scope:s}=e;const l=Je(n),a=[!1,!1],o=Ee();let i=0;function f(){a[0]&&o("before"),a[1]&&o("after")}function u(c){return({detail:_})=>{a[c]&&(!c&&i<0||c&&i>0)&&f(),t(0,a[c]=_.isIntersecting,a)}}const d=({deltaX:c})=>t(1,i=c);return r.$$set=c=>{"$$scope"in c&&t(5,s=c.$$scope)},[a,i,f,u,l,s,n,d]}class It extends te{constructor(e){super(),ne(this,e,Et,yt,ee,{})}}function Fe(r){let e,t,n=r[1](r[0])+"",s,l,a,o='<svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345L4.92804 0.176684C5.18188 -0.0588945 5.59343 -0.0588946 5.84728 0.176684C6.10112 0.412262 6.10112 0.794209 5.84728 1.02979L1.10966 5.42655C0.855821 5.66213 0.444263 5.66213 0.190422 5.42655Z"></path><path d="M0.190422 4.57345C0.444263 4.33787 0.855738 4.33787 1.10958 4.57345L5.84719 8.97021C6.10103 9.20579 6.10103 9.58774 5.84719 9.82332C5.59335 10.0589 5.18179 10.0589 4.92795 9.82332L0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345Z"></path></svg> <div class="h-[1.3px] flex-grow rounded bg-content-200"></div>',i,f,u=r[1](r[6]-r[0])+"",d,c,_,S='<div class="h-[1.3px] flex-grow rounded bg-content-200"></div> <svg width="7" height="10" viewBox="0 0 7 10" fill="hsl(var(--color-content-200)" xmlns="http://www.w3.org/2000/svg"><path d="M6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345L2.07196 0.176684C1.81812 -0.0588945 1.40657 -0.0588946 1.15272 0.176684C0.898884 0.412262 0.898884 0.794209 1.15272 1.02979L5.89034 5.42655C6.14418 5.66213 6.55574 5.66213 6.80958 5.42655Z"></path><path d="M6.80958 4.57345C6.55574 4.33787 6.14426 4.33787 5.89042 4.57345L1.15281 8.97021C0.898969 9.20579 0.898969 9.58774 1.15281 9.82332C1.40665 10.0589 1.81821 10.0589 2.07205 9.82332L6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345Z"></path></svg>',B,R;return{c(){e=T("div"),t=T("button"),s=K(n),l=H(),a=T("div"),a.innerHTML=o,i=H(),f=T("button"),d=K(u),c=H(),_=T("div"),_.innerHTML=S,this.h()},l(k){e=D(k,"DIV",{class:!0});var w=M(e);t=D(w,"BUTTON",{class:!0});var j=M(t);s=Y(j,n),l=F(j),a=D(j,"DIV",{class:!0,"data-svelte-h":!0}),Ve(a)!=="svelte-ivt2iy"&&(a.innerHTML=o),j.forEach(h),i=F(w),f=D(w,"BUTTON",{class:!0});var v=M(f);d=Y(v,u),c=F(v),_=D(v,"DIV",{class:!0,"data-svelte-h":!0}),Ve(_)!=="svelte-1drb34i"&&(_.innerHTML=S),v.forEach(h),w.forEach(h),this.h()},h(){m(a,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(t,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(_,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),m(f,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),m(e,"class","flex w-full justify-between text-sm"),U(e,"pointer-events-none",!r[2])},m(k,w){y(k,e,w),I(e,t),I(t,s),I(t,l),I(t,a),I(e,i),I(e,f),I(f,d),I(f,c),I(f,_),B||(R=[ge(Me.call(null,t,{mouse:!0})),A(t,"hold",r[11]),A(t,"click",r[12]),ge(Me.call(null,f,{mouse:!0})),A(f,"hold",r[13]),A(f,"click",r[14])],B=!0)},p(k,w){w&3&&n!==(n=k[1](k[0])+"")&&de(s,n),w&67&&u!==(u=k[1](k[6]-k[0])+"")&&de(d,u),w&4&&U(e,"pointer-events-none",!k[2])},d(k){k&&h(e),B=!1,fe(R)}}}function Tt(r){let e,t,n,s,l,a,o,i=r[3]&&Fe(r);return{c(){e=T("div"),t=T("div"),n=T("input"),s=H(),i&&i.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var u=M(e);t=D(u,"DIV",{class:!0});var d=M(t);n=D(d,"INPUT",{class:!0,style:!0,type:!0,min:!0,max:!0}),d.forEach(h),s=F(u),i&&i.l(u),u.forEach(h),this.h()},h(){m(n,"class","relative w-full cursor-pointer appearance-none rounded bg-transparent outline-2 outline-offset-2 outline-primary-600 focus-visible:outline svelte-sruga5"),W(n,"--progress",(r[0]-r[7])/(r[6]-r[7])*100+"%"),m(n,"type","range"),m(n,"min",r[7]),m(n,"max",r[6]),m(t,"class","px-2"),m(e,"class",l=r[4]?"px-4 pt-8":"")},m(f,u){y(f,e,u),I(e,t),I(t,n),Ce(n,r[0]),I(e,s),i&&i.m(e,null),a||(o=[A(n,"change",r[10]),A(n,"input",r[10])],a=!0)},p(f,[u]){u&193&&W(n,"--progress",(f[0]-f[7])/(f[6]-f[7])*100+"%"),u&128&&m(n,"min",f[7]),u&64&&m(n,"max",f[6]),u&1&&Ce(n,f[0]),f[3]?i?i.p(f,u):(i=Fe(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),u&16&&l!==(l=f[4]?"px-4 pt-8":"")&&m(e,"class",l)},i:J,o:J,d(f){f&&h(e),i&&i.d(),a=!1,fe(o)}}}function Dt(r,e,t){const n=Ee();let{format:s=w=>w.toString()}=e,{controls:l=!1}=e,{hints:a=!1}=e,{p:o=!1}=e,{value:i=0}=e,{skip:f=10}=e,{max:u=100}=e,{min:d=0}=e,c=!1;function _(){i=st(this.value),t(0,i)}const S=()=>(t(8,c=!0),n("rewind")),B=()=>c?(t(8,c=!1),n("reset")):t(0,i=Math.max(i-f,d)),R=()=>(t(8,c=!0),n("forward")),k=()=>c?(t(8,c=!1),n("reset")):t(0,i=Math.min(i+f,u));return r.$$set=w=>{"format"in w&&t(1,s=w.format),"controls"in w&&t(2,l=w.controls),"hints"in w&&t(3,a=w.hints),"p"in w&&t(4,o=w.p),"value"in w&&t(0,i=w.value),"skip"in w&&t(5,f=w.skip),"max"in w&&t(6,u=w.max),"min"in w&&t(7,d=w.min)},[i,s,l,a,o,f,u,d,c,n,_,S,B,R,k]}class Ct extends te{constructor(e){super(),ne(this,e,Dt,Tt,ee,{format:1,controls:2,hints:3,p:4,value:0,skip:5,max:6,min:7})}}function et(r){const e=r-1;return e*e*e+1}function je(r,{delay:e=0,duration:t=400,easing:n=et,axis:s="y"}={}){const l=getComputedStyle(r),a=+l.opacity,o=s==="y"?"height":"width",i=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],u=f.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),d=parseFloat(l[`padding${u[0]}`]),c=parseFloat(l[`padding${u[1]}`]),_=parseFloat(l[`margin${u[0]}`]),S=parseFloat(l[`margin${u[1]}`]),B=parseFloat(l[`border${u[0]}Width`]),R=parseFloat(l[`border${u[1]}Width`]);return{delay:e,duration:t,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*a};${o}: ${k*i}px;padding-${f[0]}: ${k*d}px;padding-${f[1]}: ${k*c}px;margin-${f[0]}: ${k*_}px;margin-${f[1]}: ${k*S}px;border-${f[0]}-width: ${k*B}px;border-${f[1]}-width: ${k*R}px;`}}function $e(r,{delay:e=0,duration:t=400,easing:n=et,start:s=0,opacity:l=0}={}){const a=getComputedStyle(r),o=+a.opacity,i=a.transform==="none"?"":a.transform,f=1-s,u=o*(1-l);return{delay:e,duration:t,easing:n,css:(d,c)=>`
			transform: ${i} scale(${1-f*c});
			opacity: ${o-u*c}
		`}}function Vt(r){let e,t,n;const s=r[2].default,l=le(s,r,r[1],null);return{c(){e=T("aside"),l&&l.c(),this.h()},l(a){e=D(a,"ASIDE",{class:!0});var o=M(e);l&&l.l(o),o.forEach(h),this.h()},h(){m(e,"class","-z-20 mx-2 mb-2 flex min-h-[1px] w-[calc(100%-1rem)] max-w-xl flex-wrap rounded-lg bg-surface-200 ring-1 ring-highlight backdrop-blur-md will-change-transform svelte-1x44efv")},m(a,o){y(a,e,o),l&&l.m(e,null),r[3](e),n=!0},p(a,[o]){l&&l.p&&(!n||o&2)&&ie(l,s,a,a[1],n?oe(s,a[1],o,null):ae(a[1]),null)},i(a){n||(p(l,a),a&&ve(()=>{n&&(t||(t=se(e,je,{},!0)),t.run(1))}),n=!0)},o(a){g(l,a),a&&(t||(t=se(e,je,{},!1)),t.run(0)),n=!1},d(a){a&&h(e),l&&l.d(a),r[3](null),a&&t&&t.end()}}}const Nt=8;function Lt(r,e,t){let{$$slots:n={},$$scope:s}=e;lt("panel",!0);let l;async function a(){const i=(visualViewport?.height||innerHeight)-innerHeight,f=l?.contains(document.activeElement),u=l?.getAnimations()||[];if(!i||!f)return u.forEach(_=>{_.reverse(),_.addEventListener("finish",()=>_.cancel(),{once:!0})});u.forEach(_=>_.cancel()),await new Promise(_=>requestAnimationFrame(_));const d=l?.getBoundingClientRect().bottom||0,c=i-d+innerHeight-Nt;l?.animate([{transform:"translate3d(0,0,0)"},{transform:`translate3d(0,${c}px,0)`}],{delay:1,duration:150,fill:"forwards",composite:"replace",easing:"ease-in-out"})}it(()=>{if(ft())return visualViewport?.addEventListener("resize",a),()=>visualViewport?.removeEventListener("resize",a)});function o(i){ue[i?"unshift":"push"](()=>{l=i,t(0,l)})}return r.$$set=i=>{"$$scope"in i&&t(1,s=i.$$scope)},[l,s,n,o]}class St extends te{constructor(e){super(),ne(this,e,Lt,Vt,ee,{})}}function zt(r){let e,t,n,s,l,a,o=`${r[3]}ms`,i,f,u;return{c(){e=Ne("svg"),t=Ne("circle"),this.h()},l(d){e=Le(d,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0,role:!0});var c=M(e);t=Le(c,"circle",{class:!0,fill:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-width":!0,"stroke-linecap":!0,cx:!0,cy:!0,r:!0}),M(t).forEach(h),c.forEach(h),this.h()},h(){m(t,"class","animate-[dash-wiggle_var(--duration)_ease-in-out_infinite]"),m(t,"fill","none"),m(t,"stroke",r[5]),m(t,"stroke-dasharray",r[6]),m(t,"stroke-dashoffset",n=r[6]*r[1]),m(t,"stroke-width",r[4]),m(t,"stroke-linecap","round"),m(t,"cx",s=r[0]/2),m(t,"cy",l=r[0]/2),m(t,"r",a=r[0]/2-r[4]/2),W(t,"--back",r[6]*(r[1]-r[2])),W(t,"--forth",r[6]*(r[1]+r[2])),W(t,"--duration",o),m(e,"class","inline-block animate-spin"),m(e,"width",i=r[0]+"px"),m(e,"height",f=r[0]+"px"),m(e,"viewBox",u="0 0 "+r[0]+" "+r[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"role","status")},m(d,c){y(d,e,c),I(e,t)},p(d,[c]){c&32&&m(t,"stroke",d[5]),c&64&&m(t,"stroke-dasharray",d[6]),c&66&&n!==(n=d[6]*d[1])&&m(t,"stroke-dashoffset",n),c&16&&m(t,"stroke-width",d[4]),c&1&&s!==(s=d[0]/2)&&m(t,"cx",s),c&1&&l!==(l=d[0]/2)&&m(t,"cy",l),c&17&&a!==(a=d[0]/2-d[4]/2)&&m(t,"r",a),c&70&&W(t,"--back",d[6]*(d[1]-d[2])),c&70&&W(t,"--forth",d[6]*(d[1]+d[2])),c&8&&o!==(o=`${d[3]}ms`)&&W(t,"--duration",o),c&1&&i!==(i=d[0]+"px")&&m(e,"width",i),c&1&&f!==(f=d[0]+"px")&&m(e,"height",f),c&1&&u!==(u="0 0 "+d[0]+" "+d[0])&&m(e,"viewBox",u)},i:J,o:J,d(d){d&&h(e)}}}function Mt(r,e,t){let n,{size:s=64}=e,{cutoff:l=.3}=e,{wiggle:a=.15}=e,{duration:o=2e3}=e,{thickness:i=Math.sqrt(s)}=e,{color:f="hsl(var(--color-highlight))"}=e;return r.$$set=u=>{"size"in u&&t(0,s=u.size),"cutoff"in u&&t(1,l=u.cutoff),"wiggle"in u&&t(2,a=u.wiggle),"duration"in u&&t(3,o=u.duration),"thickness"in u&&t(4,i=u.thickness),"color"in u&&t(5,f=u.color)},r.$$.update=()=>{r.$$.dirty&17&&t(6,n=Math.PI*(s-i))},[s,l,a,o,i,f,n]}class Pt extends te{constructor(e){super(),ne(this,e,Mt,zt,ee,{size:0,cutoff:1,wiggle:2,duration:3,thickness:4,color:5})}}function At(r){let e=(r[2]?.title||"Not Playing")+"",t;return{c(){t=K(e)},l(n){t=Y(n,e)},m(n,s){y(n,t,s)},p(n,s){s&4&&e!==(e=(n[2]?.title||"Not Playing")+"")&&de(t,e)},d(n){n&&h(t)}}}function Bt(r){let e=(r[2]?.artists.map(qe).join(", ")||" ")+"",t;return{c(){t=K(e)},l(n){t=Y(n,e)},m(n,s){y(n,t,s)},p(n,s){s&4&&e!==(e=(n[2]?.artists.map(qe).join(", ")||" ")+"")&&de(t,e)},d(n){n&&h(t)}}}function Ht(r){let e,t,n,s;return e=new _t({props:{accent:!0,$$slots:{default:[At]},$$scope:{ctx:r}}}),n=new Ie({props:{air:!0,primary:!0,slim:!0,disabled:!r[2],href:r[2]?.artists.length===1?`/explore/artist#${r[2].artists[0].id}`:void 0,$$slots:{default:[Bt]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=H(),C(n.$$.fragment)},l(l){V(e.$$.fragment,l),t=F(l),V(n.$$.fragment,l)},m(l,a){N(e,l,a),y(l,t,a),N(n,l,a),s=!0},p(l,a){const o={};a&516&&(o.$$scope={dirty:a,ctx:l}),e.$set(o);const i={};a&4&&(i.disabled=!l[2]),a&4&&(i.href=l[2]?.artists.length===1?`/explore/artist#${l[2].artists[0].id}`:void 0),a&516&&(i.$$scope={dirty:a,ctx:l}),n.$set(i)},i(l){s||(p(e.$$.fragment,l),p(n.$$.fragment,l),s=!0)},o(l){g(e.$$.fragment,l),g(n.$$.fragment,l),s=!1},d(l){l&&h(t),L(e,l),L(n,l)}}}function Ft(r){let e,t,n=`hue-rotate(${r[2]?.id||0}deg)`,s;return t=new ke({props:{name:"note"}}),{c(){e=T("div"),C(t.$$.fragment),this.h()},l(l){e=D(l,"DIV",{class:!0});var a=M(e);V(t.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"class","flex h-full w-full items-center justify-center bg-gradient-to-r from-rose-400 to-red-400 text-white"),W(e,"filter",n)},m(l,a){y(l,e,a),N(t,e,null),s=!0},p(l,a){a&4&&n!==(n=`hue-rotate(${l[2]?.id||0}deg)`)&&W(e,"filter",n)},i(l){s||(p(t.$$.fragment,l),s=!0)},o(l){g(t.$$.fragment,l),s=!1},d(l){l&&h(e),L(t)}}}function jt(r){let e,t,n;return{c(){e=T("div"),this.h()},l(s){e=D(s,"DIV",{class:!0}),M(e).forEach(h),this.h()},h(){m(e,"class","pause absolute svelte-1jkcbkw")},m(s,l){y(s,e,l),n=!0},i(s){n||(s&&ve(()=>{n&&(t||(t=se(e,$e,{},!0)),t.run(1))}),n=!0)},o(s){s&&(t||(t=se(e,$e,{},!1)),t.run(0)),n=!1},d(s){s&&h(e),s&&t&&t.end()}}}function qt(r){let e,t,n,s;return t=new Pt({props:{color:"hsl(var(--color-content))"}}),{c(){e=T("div"),C(t.$$.fragment),this.h()},l(l){e=D(l,"DIV",{class:!0});var a=M(e);V(t.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"class","absolute")},m(l,a){y(l,e,a),N(t,e,null),s=!0},i(l){s||(p(t.$$.fragment,l),l&&ve(()=>{s&&(n||(n=se(e,$e,{},!0)),n.run(1))}),s=!0)},o(l){g(t.$$.fragment,l),l&&(n||(n=se(e,$e,{},!1)),n.run(0)),s=!1},d(l){l&&h(e),L(t),l&&n&&n.end()}}}function Ot(r){let e,t,n,s,l,a,o,i,f,u,d,c,_,S,B,R,k;e=new Ke({props:{class:"place-items-center gap-1 p-4",$$slots:{default:[Ht]},$$scope:{ctx:r}}}),o=new ct({props:{src:r[2]?.album.arts?.[0],size:324,$$slots:{default:[Ft]},$$scope:{ctx:r}}});const w=[qt,jt],j=[];function v(b,z){return b[3]?0:1}u=v(r),d=j[u]=w[u](r);function P(b){r[5](b)}let q={format:dt,max:r[2]?.duration||0,controls:!0,hints:!0,p:!0};return r[0]!==void 0&&(q.value=r[0]),_=new Ct({props:q}),ue.push(()=>he(_,"value",P)),_.$on("forward",r[6]),_.$on("rewind",r[7]),_.$on("reset",r[8]),{c(){C(e.$$.fragment),t=H(),n=T("div"),s=T("label"),l=T("input"),a=H(),C(o.$$.fragment),i=H(),f=T("div"),d.c(),c=H(),C(_.$$.fragment),this.h()},l(b){V(e.$$.fragment,b),t=F(b),n=D(b,"DIV",{class:!0});var z=M(n);s=D(z,"LABEL",{class:!0});var $=M(s);l=D($,"INPUT",{type:!0,class:!0}),a=F($),V(o.$$.fragment,$),i=F($),f=D($,"DIV",{class:!0});var O=M(f);d.l(O),O.forEach(h),$.forEach(h),z.forEach(h),c=F(b),V(_.$$.fragment,b),this.h()},h(){m(l,"type","checkbox"),m(l,"class","peer absolute inset-0 appearance-none rounded-2xl outline-2 outline-offset-8 outline-primary-600 focus-visible:outline svelte-1jkcbkw"),m(f,"class","absolute -inset-[1px] flex items-center justify-center rounded-2xl bg-surface-200 opacity-0 backdrop-blur transition-[opacity] duration-300 peer-checked:opacity-100 svelte-1jkcbkw"),U(f,"opacity-100",r[3]),m(s,"class","relative block cursor-pointer rounded-2xl shadow-xl"),m(n,"class","px-11")},m(b,z){N(e,b,z),y(b,t,z),y(b,n,z),I(n,s),I(s,l),l.checked=r[1],I(s,a),N(o,s,null),I(s,i),I(s,f),j[u].m(f,null),y(b,c,z),N(_,b,z),B=!0,R||(k=A(l,"change",r[4]),R=!0)},p(b,[z]){const $={};z&516&&($.$$scope={dirty:z,ctx:b}),e.$set($),z&2&&(l.checked=b[1]);const O={};z&4&&(O.src=b[2]?.album.arts?.[0]),z&516&&(O.$$scope={dirty:z,ctx:b}),o.$set(O);let Q=u;u=v(b),u!==Q&&(X(),g(j[Q],1,1,()=>{j[Q]=null}),x(),d=j[u],d||(d=j[u]=w[u](b),d.c()),p(d,1),d.m(f,null)),(!B||z&8)&&U(f,"opacity-100",b[3]);const G={};z&4&&(G.max=b[2]?.duration||0),!S&&z&1&&(S=!0,G.value=b[0],me(()=>S=!1)),_.$set(G)},i(b){B||(p(e.$$.fragment,b),p(o.$$.fragment,b),p(d),p(_.$$.fragment,b),B=!0)},o(b){g(e.$$.fragment,b),g(o.$$.fragment,b),g(d),g(_.$$.fragment,b),B=!1},d(b){b&&(h(t),h(n),h(c)),L(e,b),L(o),j[u].d(),L(_,b),R=!1,k()}}}const qe=r=>r.title;function Rt(r,e,t){let{track:n=void 0}=e,{currentTime:s=0}=e,{loading:l=!1}=e,{paused:a=!0}=e;function o(){a=this.checked,t(1,a)}function i(c){s=c,t(0,s)}function f(c){ce.call(this,r,c)}function u(c){ce.call(this,r,c)}function d(c){ce.call(this,r,c)}return r.$$set=c=>{"track"in c&&t(2,n=c.track),"currentTime"in c&&t(0,s=c.currentTime),"loading"in c&&t(3,l=c.loading),"paused"in c&&t(1,a=c.paused)},[s,a,n,l,o,i,f,u,d]}class Ut extends te{constructor(e){super(),ne(this,e,Rt,Ot,ee,{track:2,currentTime:0,loading:3,paused:1})}}const Wt=r=>({}),Oe=r=>({slot:"before"});function Re(r){let e,t;return e=new Ye({props:{lg:!0,$$slots:{default:[Kt]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048592&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Zt(r){let e;return{c(){e=K("Title")},l(t){e=Y(t,"Title")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Gt(r){let e;return{c(){e=K("Artist")},l(t){e=Y(t,"Artist")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Jt(r){let e;return{c(){e=K("Album")},l(t){e=Y(t,"Album")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Kt(r){let e,t,n,s,l,a,o;return t=new pe({props:{sm:!0,$$slots:{default:[Zt]},$$scope:{ctx:r}}}),s=new pe({props:{sm:!0,$$slots:{default:[Gt]},$$scope:{ctx:r}}}),a=new pe({props:{sm:!0,$$slots:{default:[Jt]},$$scope:{ctx:r}}}),{c(){e=T("div"),C(t.$$.fragment),n=H(),C(s.$$.fragment),l=H(),C(a.$$.fragment),this.h()},l(i){e=D(i,"DIV",{class:!0});var f=M(e);V(t.$$.fragment,f),n=F(f),V(s.$$.fragment,f),l=F(f),V(a.$$.fragment,f),f.forEach(h),this.h()},h(){m(e,"class","sticky top-11 z-10 grid auto-cols-fr grid-flow-col border-b border-b-highlight bg-surface/70 pl-20 pr-10 backdrop-blur-md"),U(e,"pl-24",r[4])},m(i,f){y(i,e,f),N(t,e,null),I(e,n),N(s,e,null),I(e,l),N(a,e,null),o=!0},p(i,f){const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),t.$set(u);const d={};f&1048576&&(d.$$scope={dirty:f,ctx:i}),s.$set(d);const c={};f&1048576&&(c.$$scope={dirty:f,ctx:i}),a.$set(c),(!o||f&16)&&U(e,"pl-24",i[4])},i(i){o||(p(t.$$.fragment,i),p(s.$$.fragment,i),p(a.$$.fragment,i),o=!0)},o(i){g(t.$$.fragment,i),g(s.$$.fragment,i),g(a.$$.fragment,i),o=!1},d(i){i&&h(e),L(t),L(s),L(a)}}}function Ue(r){let e,t=typeof r[22]=="string"&&We();return{c(){e=T("div"),t&&t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=M(e);t&&t.l(s),s.forEach(h),this.h()},h(){m(e,"class","visible ml-4 flex h-14 w-0.5 items-center justify-center bg-highlight-100"),U(e,"opacity-0",Number.isNaN(r[23]))},m(n,s){y(n,e,s),t&&t.m(e,null)},p(n,s){typeof n[22]=="string"?t||(t=We(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&8388608&&U(e,"opacity-0",Number.isNaN(n[23]))},d(n){n&&h(e),t&&t.d()}}}function We(r){let e;return{c(){e=T("div"),this.h()},l(t){e=D(t,"DIV",{class:!0}),M(e).forEach(h),this.h()},h(){m(e,"class","absolute mt-4 h-2 w-2 rounded-full bg-content")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function Yt(r){let e,t;return e=new Te({props:{sm:r[2]}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&4&&(l.sm=n[2]),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Qt(r){let e,t,n,s;const l=[en,xt],a=[];function o(i,f){return i[10].default||i[10].action?0:1}return e=o(r),t=a[e]=l[e](r),{c(){t.c(),n=re()},l(i){t.l(i),n=re()},m(i,f){a[e].m(i,f),y(i,n,f),s=!0},p(i,f){let u=e;e=o(i),e===u?a[e].p(i,f):(X(),g(a[u],1,1,()=>{a[u]=null}),x(),t=a[e],t?t.p(i,f):(t=a[e]=l[e](i),t.c()),p(t,1),t.m(n.parentNode,n))},i(i){s||(p(t),s=!0)},o(i){g(t),s=!1},d(i){i&&h(n),a[e].d(i)}}}function Xt(r){let e,t=r[22]+"",n;return{c(){e=T("h2"),n=K(t),this.h()},l(s){e=D(s,"H2",{draggable:!0,class:!0});var l=M(e);n=Y(l,t),l.forEach(h),this.h()},h(){m(e,"draggable","false"),m(e,"class","relative top-2 flex h-14 items-center indent-4 text-lg [*:has(>div>&)]:pointer-events-none")},m(s,l){y(s,e,l),I(e,n)},p(s,l){l&4194304&&t!==(t=s[22]+"")&&de(n,t)},i:J,o:J,d(s){s&&h(e)}}}function xt(r){let e,t;function n(){return r[17](r[22])}return e=new Te({props:{sm:r[2],track:r[22],selected:be(r[22],r[0])}}),e.$on("click",n),{c(){C(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,l){N(e,s,l),t=!0},p(s,l){r=s;const a={};l&4&&(a.sm=r[2]),l&4194304&&(a.track=r[22]),l&4194305&&(a.selected=be(r[22],r[0])),e.$set(a)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function en(r){let e,t;function n(){return r[15](r[22])}function s(){return r[16](r[22])}return e=new It({props:{$$slots:{after:[rn],before:[nn],default:[tn]},$$scope:{ctx:r}}}),e.$on("before",n),e.$on("after",s),{c(){C(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,a){N(e,l,a),t=!0},p(l,a){r=l;const o={};a&5242885&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function tn(r){let e,t;function n(){return r[13](r[22])}function s(...l){return r[14](r[22],...l)}return e=new Te({props:{sm:r[2],track:r[22],selected:be(r[22],r[0])}}),e.$on("click",n),e.$on("contextmenu",s),{c(){C(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,a){N(e,l,a),t=!0},p(l,a){r=l;const o={};a&4&&(o.sm=r[2]),a&4194304&&(o.track=r[22]),a&4194305&&(o.selected=be(r[22],r[0])),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function nn(r){let e;const t=r[12].action,n=le(t,r,r[20],Oe);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&1048576)&&ie(n,t,s,s[20],e?oe(t,s[20],l,Wt):ae(s[20]),Oe)},i(s){e||(p(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function rn(r){let e,t;return e=new ke({props:{name:"list",slot:"after"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:J,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function sn(r){let e,t,n,s,l,a=r[4]&&Ue(r);const o=[Xt,Qt,Yt],i=[];function f(u,d){return typeof u[22]=="string"?0:u[22]?1:2}return n=f(r),s=i[n]=o[n](r),{c(){e=T("div"),a&&a.c(),t=H(),s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=M(e);a&&a.l(d),t=F(d),s.l(d),d.forEach(h),this.h()},h(){m(e,"class","relative flex [&_hr]:!opacity-100 [*:has(>&):last-of-type_hr]:!opacity-0")},m(u,d){y(u,e,d),a&&a.m(e,null),I(e,t),i[n].m(e,null),l=!0},p(u,d){u[4]?a?a.p(u,d):(a=Ue(u),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let c=n;n=f(u),n===c?i[n].p(u,d):(X(),g(i[c],1,1,()=>{i[c]=null}),x(),s=i[n],s?s.p(u,d):(s=i[n]=o[n](u),s.c()),p(s,1),s.m(e,null))},i(u){l||(p(s),l=!0)},o(u){g(s),l=!1},d(u){u&&h(e),a&&a.d(),i[n].d()}}}function Ze(r){let e,t;return e=new Qe({props:{to:"bottom",$$slots:{default:[fn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048577&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ge(r){let e,t;return e=new St({props:{$$slots:{default:[on]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048576&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ln(r){let e,t;return e=new ke({props:{name:"close"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:J,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function an(r){let e,t,n,s,l;const a=r[12].default,o=le(a,r,r[20],null);return t=new xe({}),s=new Ie({props:{air:!0,square:!0,$$slots:{default:[ln]},$$scope:{ctx:r}}}),s.$on("click",r[8]),{c(){o&&o.c(),e=H(),C(t.$$.fragment),n=H(),C(s.$$.fragment)},l(i){o&&o.l(i),e=F(i),V(t.$$.fragment,i),n=F(i),V(s.$$.fragment,i)},m(i,f){o&&o.m(i,f),y(i,e,f),N(t,i,f),y(i,n,f),N(s,i,f),l=!0},p(i,f){o&&o.p&&(!l||f&1048576)&&ie(o,a,i,i[20],l?oe(a,i[20],f,null):ae(i[20]),null);const u={};f&1048576&&(u.$$scope={dirty:f,ctx:i}),s.$set(u)},i(i){l||(p(o,i),p(t.$$.fragment,i),p(s.$$.fragment,i),l=!0)},o(i){g(o,i),g(t.$$.fragment,i),g(s.$$.fragment,i),l=!1},d(i){i&&(h(e),h(n)),o&&o.d(i),L(t,i),L(s,i)}}}function on(r){let e,t;return e=new Ke({props:{x:!0,$$slots:{default:[an]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&1048576&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function fn(r){let e,t,n=r[0].size&&Ge(r);return{c(){n&&n.c(),e=re()},l(s){n&&n.l(s),e=re()},m(s,l){n&&n.m(s,l),y(s,e,l),t=!0},p(s,l){s[0].size?n?(n.p(s,l),l&1&&p(n,1)):(n=Ge(s),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(X(),g(n,1,1,()=>{n=null}),x())},i(s){t||(p(n),t=!0)},o(s){g(n),t=!1},d(s){s&&h(e),n&&n.d(s)}}}function un(r){let e,t,n,s,l,a,o=!r[2]&&Re(r);n=new mt({props:{key:cn,sortable:"tracks",prerender:tt,fixed:r[3],items:r[5],animate:!0,$$slots:{default:[sn,({item:f,index:u})=>({22:f,23:u}),({item:f,index:u})=>(f?4194304:0)|(u?8388608:0)]},$$scope:{ctx:r}}}),n.$on("edit",r[18]),n.$on("end",r[19]);let i=(r[10].default||r[10].action)&&Ze(r);return{c(){e=T("div"),o&&o.c(),t=H(),C(n.$$.fragment),s=H(),i&&i.c(),l=re(),this.h()},l(f){e=D(f,"DIV",{class:!0});var u=M(e);o&&o.l(u),t=F(u),V(n.$$.fragment,u),u.forEach(h),s=F(f),i&&i.l(f),l=re(),this.h()},h(){m(e,"class",r[1])},m(f,u){y(f,e,u),o&&o.m(e,null),I(e,t),N(n,e,null),y(f,s,u),i&&i.m(f,u),y(f,l,u),a=!0},p(f,[u]){f[2]?o&&(X(),g(o,1,1,()=>{o=null}),x()):o?(o.p(f,u),u&4&&p(o,1)):(o=Re(f),o.c(),p(o,1),o.m(e,t));const d={};u&8&&(d.fixed=f[3]),u&32&&(d.items=f[5]),u&13632533&&(d.$$scope={dirty:u,ctx:f}),n.$set(d),(!a||u&2)&&m(e,"class",f[1]),f[10].default||f[10].action?i?(i.p(f,u),u&1024&&p(i,1)):(i=Ze(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(X(),g(i,1,1,()=>{i=null}),x())},i(f){a||(p(o),p(n.$$.fragment,f),p(i),a=!0)},o(f){g(o),g(n.$$.fragment,f),g(i),a=!1},d(f){f&&(h(e),h(s),h(l)),o&&o.d(),L(n),i&&i.d(f)}}}const tt=10;function be(r,e){return e.size?e.has(r)?!0:"passive":!1}const cn=r=>typeof r=="string"?r:r?.entry||r?.id;function dn(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const a=Je(s),o=Ee();let{class:i=""}=e,{sm:f=!1}=e,{fixed:u=!1}=e,{timeline:d=!1}=e,{selected:c=new Set}=e,{tracks:_=void 0}=e;function S($){if(!$)return Array.from({length:tt});if(!d)return $;const O=[];let Q="";for(const G of $){if(!G||!("date"in G)||typeof G.date!="number")continue;const we=new Date(G.date*1e3),E=ht(we);E!==Q&&(O.push(E),Q=E),O.push(G)}return O}function B($){c.has($)?c.delete($):c.add($),t(0,c)}function R(){c.clear(),t(0,c)}async function k($){if(!o("click",$,{cancelable:!0}))return;const O=_?.indexOf($);!_||!_[0]||O==null||O===-1||(Z.clear(),Z.push(_.slice(O)),await Z.push(_.slice(0,O),"first"),nt())}const w=$=>c.size?B($):k($),j=($,O)=>(O.preventDefault(),B($)),v=$=>o("action",$),P=$=>B($),q=$=>k($);function b($){ce.call(this,r,$)}function z($){ce.call(this,r,$)}return r.$$set=$=>{"class"in $&&t(1,i=$.class),"sm"in $&&t(2,f=$.sm),"fixed"in $&&t(3,u=$.fixed),"timeline"in $&&t(4,d=$.timeline),"selected"in $&&t(0,c=$.selected),"tracks"in $&&t(11,_=$.tracks),"$$scope"in $&&t(20,l=$.$$scope)},r.$$.update=()=>{r.$$.dirty&2048&&t(5,n=S(_)),r.$$.dirty&2048&&(_?.length||R())},[c,i,f,u,d,n,o,B,R,k,a,_,s,w,j,v,P,q,b,z,l]}class _n extends te{constructor(e){super(),ne(this,e,dn,un,ee,{class:1,sm:2,fixed:3,timeline:4,selected:0,tracks:11})}}function mn(r){let e;return{c(){e=K("Playing Next")},l(t){e=Y(t,"Playing Next")},m(t,n){y(t,e,n)},d(t){t&&h(e)}}}function hn(r){let e,t;return e=new ke({props:{name:"trash"}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p:J,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function pn(r){let e,t;return e=new Ie({props:{air:!0,stretch:!0,$$slots:{default:[hn]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&134217728&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function gn(r){let e,t,n,s,l,a,o,i,f,u,d,c,_,S;function B(v){r[18](v)}function R(v){r[19](v)}let k={track:r[0],loading:r[3]<=2&&!!r[6]};r[1]!==void 0&&(k.currentTime=r[1]),r[4]!==void 0&&(k.paused=r[4]),n=new Ut({props:k}),ue.push(()=>he(n,"currentTime",B)),ue.push(()=>he(n,"paused",R)),n.$on("forward",r[20]),n.$on("rewind",r[21]),n.$on("reset",r[22]),o=new pe({props:{indent:!0,sm:!0,$$slots:{default:[mn]},$$scope:{ctx:r}}}),f=new xe({});function w(v){r[23](v)}let j={tracks:r[8],sm:!0,$$slots:{default:[pn]},$$scope:{ctx:r}};return r[7]!==void 0&&(j.selected=r[7]),c=new _n({props:j}),ue.push(()=>he(c,"selected",w)),c.$on("click",r[24]),{c(){e=T("div"),t=T("div"),C(n.$$.fragment),a=H(),C(o.$$.fragment),i=H(),C(f.$$.fragment),u=H(),d=T("div"),C(c.$$.fragment),this.h()},l(v){e=D(v,"DIV",{class:!0});var P=M(e);t=D(P,"DIV",{});var q=M(t);V(n.$$.fragment,q),a=F(q),V(o.$$.fragment,q),i=F(q),V(f.$$.fragment,q),q.forEach(h),u=F(P),d=D(P,"DIV",{class:!0});var b=M(d);V(c.$$.fragment,b),b.forEach(h),P.forEach(h),this.h()},h(){m(d,"class","grow overflow-y-scroll contain-strict"),m(e,"class","flex h-screen flex-col border-l border-highlight")},m(v,P){y(v,e,P),I(e,t),N(n,t,null),I(t,a),N(o,t,null),I(t,i),N(f,t,null),I(e,u),I(e,d),N(c,d,null),S=!0},p(v,P){const q={};P&1&&(q.track=v[0]),P&72&&(q.loading=v[3]<=2&&!!v[6]),!s&&P&2&&(s=!0,q.currentTime=v[1],me(()=>s=!1)),!l&&P&16&&(l=!0,q.paused=v[4],me(()=>l=!1)),n.$set(q);const b={};P&134217728&&(b.$$scope={dirty:P,ctx:v}),o.$set(b);const z={};P&256&&(z.tracks=v[8]),P&134217728&&(z.$$scope={dirty:P,ctx:v}),!_&&P&128&&(_=!0,z.selected=v[7],me(()=>_=!1)),c.$set(z)},i(v){S||(p(n.$$.fragment,v),p(o.$$.fragment,v),p(f.$$.fragment,v),p(c.$$.fragment,v),S=!0)},o(v){g(n.$$.fragment,v),g(o.$$.fragment,v),g(f.$$.fragment,v),g(c.$$.fragment,v),S=!1},d(v){v&&h(e),L(n),L(o),L(f),L(c)}}}function $n(r){let e,t;return e=new Ye({props:{lg:!0,$$slots:{default:[gn]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,s){N(e,n,s),t=!0},p(n,s){const l={};s&134218207&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function bn(r){let e,t,n=!0,s=!1,l,a,o,i,f,u;function d(){cancelAnimationFrame(l),e.paused||(l=ot(d),s=!0),r[15].call(e)}return o=new Qe({props:{to:"right",$$slots:{default:[$n]},$$scope:{ctx:r}}}),{c(){e=T("audio"),a=H(),C(o.$$.fragment),this.h()},l(c){e=D(c,"AUDIO",{src:!0,preload:!0}),M(e).forEach(h),a=F(c),V(o.$$.fragment,c),this.h()},h(){Se(e.src,t=r[6])||m(e,"src",t),m(e,"preload","auto"),r[3]===void 0&&ve(()=>r[14].call(e))},m(c,_){y(c,e,_),isNaN(r[2])||(e.playbackRate=r[2]),y(c,a,_),N(o,c,_),i=!0,f||(u=[A(e,"play",r[13]),A(e,"pause",r[13]),A(e,"loadedmetadata",r[14]),A(e,"loadeddata",r[14]),A(e,"canplay",r[14]),A(e,"canplaythrough",r[14]),A(e,"playing",r[14]),A(e,"waiting",r[14]),A(e,"emptied",r[14]),A(e,"timeupdate",d),A(e,"ratechange",r[16]),A(e,"ended",r[17])],f=!0)},p(c,[_]){(!i||_&64&&!Se(e.src,t=c[6]))&&m(e,"src",t),_&16&&n!==(n=c[4])&&e[n?"pause":"play"](),!s&&_&2&&!isNaN(c[1])&&(e.currentTime=c[1]),s=!1,_&4&&!isNaN(c[2])&&(e.playbackRate=c[2]);const S={};_&134218207&&(S.$$scope={dirty:_,ctx:c}),o.$set(S)},i(c){i||(p(o.$$.fragment,c),i=!0)},o(c){g(o.$$.fragment,c),i=!1},d(c){c&&(h(e),h(a)),L(o,c),f=!1,fe(u)}}}let ye=!1;function nt(){ye=!0}function vn(r,e,t){let n,s,l;ze(r,Z,E=>t(12,s=E)),ze(r,pt,E=>t(8,l=E));const a=ut(async()=>{if(!o)return;const E=f/o.duration;E<1&&Z.sync(E)},3e3);let o,i=1,f=0,u=0,d=!0,c=!1,_="",S=new Set;async function B(E){if(E?.id===o?.id)return;if(t(0,o=E),!o)return t(4,d=!0),t(1,f=0);t(3,u=0);const De=await gt.query(o);De!==_&&(t(6,_=De),ye&&(ye=!1,t(4,d=!0),await at(),t(4,d=!1)))}function R(){Z.purge([...S].map(E=>E.entry).filter(E=>!!E)),S.clear(),t(7,S)}async function k(E){E?.entry&&Z.rearrange(E.entry,o?.entry),n?.repeat===1?(Z.repeat("none"),Z.sync(1),await Z.repeat("single")):await Z.sync(1),nt()}function w(){d=this.paused,t(4,d)}function j(){u=this.readyState,t(3,u)}function v(){f=this.currentTime,t(1,f),t(11,n),t(0,o),t(12,s)}function P(){i=this.playbackRate,t(2,i)}const q=()=>c||(Z.sync(1),t(5,c=!0));function b(E){f=E,t(1,f),t(11,n),t(0,o),t(12,s)}function z(E){d=E,t(4,d)}const $=()=>t(2,i=5),O=()=>t(2,i=-5),Q=()=>t(2,i=1);function G(E){S=E,t(7,S)}const we=E=>(E.preventDefault(),k(E.detail));return r.$$.update=()=>{r.$$.dirty&4096&&t(11,n=s.find(E=>E.local)),r.$$.dirty&2048&&B(n?.track),r.$$.dirty&2051&&n&&o&&!f&&t(1,f=n.progress*o.duration),r.$$.dirty&2&&(a(),t(5,c=!1))},[o,f,i,u,d,c,_,S,l,R,k,n,s,w,j,v,P,q,b,z,$,O,Q,G,we]}class Tn extends te{constructor(e){super(),ne(this,e,vn,bn,ee,{})}}export{Tn as P,xe as S,_n as T,St as a,Xe as i};
