import{S as se,i as le,s as ie,k as T,l as C,n as _,b as I,O as K,h,J as st,F as ue,a as M,m as y,c as q,p as J,M as G,D as k,L as H,g as p,v as re,d as $,f as ne,G as ce,H as de,I as _e,$ as me,P as Xe,a4 as Ve,U as ke,a7 as ze,q as Q,a8 as ee,r as x,a9 as te,u as ge,aa as lt,a1 as Ee,ab as oe,X as it,o as at,w as he,T as $e,y as S,z,A as P,V as be,B,Y as pe,e as fe,ac as Pe,E as Be,ad as ot,t as ft}from"./index.84a1bd3e.js";import{i as ut,S as Ye,B as Te,I as Ie,H as ve,t as ct}from"./Spinner.svelte_svelte_type_style_lang.326f4f77.js";import{m as Ke,q as Le,I as dt,o as _t,n as mt,V as ht,W as Qe,P as xe,u as pt,j as X,T as Ce,v as gt,w as $t}from"./Track.c5c60d81.js";import"./paths.835763f9.js";function bt(n){let e,t;return{c(){e=T("hr"),this.h()},l(r){e=C(r,"HR",{class:!0,"aria-hidden":!0}),this.h()},h(){_(e,"class",t="border-highlight "+(n[0]?"h-full w-0 border-r":"w-full")),_(e,"aria-hidden","true")},m(r,s){I(r,e,s)},p(r,[s]){s&1&&t!==(t="border-highlight "+(r[0]?"h-full w-0 border-r":"w-full"))&&_(e,"class",t)},i:K,o:K,d(r){r&&h(e)}}}function vt(n,e,t){let{vertical:r=st("stack")==="x"}=e;return n.$$set=s=>{"vertical"in s&&t(0,r=s.vertical)},[r]}class et extends se{constructor(e){super(),le(this,e,vt,bt,ie,{vertical:0})}}const kt=n=>({}),Ae=n=>({}),wt=n=>({}),Fe=n=>({});function Me(n){let e,t,r,s;const l=n[6].before,a=ue(l,n,n[5],Fe);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{class:!0,style:!0});var i=y(e);a&&a.l(i),i.forEach(h),this.h()},h(){_(e,"class","flex items-center px-4 text-content-200 transition-colors"),J(e,"scroll-snap-align","none"),G(e,"text-white",n[0][0])},m(o,i){I(o,e,i),a&&a.m(e,null),t=!0,r||(s=[ke(Ke.call(null,e,.5)),H(e,"intersect",n[3](0))],r=!0)},p(o,i){a&&a.p&&(!t||i&32)&&ce(a,l,o,o[5],t?_e(l,o[5],i,wt):de(o[5]),Fe),(!t||i&1)&&G(e,"text-white",o[0][0])},i(o){t||(p(a,o),t=!0)},o(o){$(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),r=!1,me(s)}}}function qe(n){let e,t,r,s;const l=n[6].after,a=ue(l,n,n[5],Ae);return{c(){e=T("div"),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var i=y(e);a&&a.l(i),i.forEach(h),this.h()},h(){_(e,"class","flex items-center px-4 text-content-200 transition-colors"),G(e,"text-white",n[0][1])},m(o,i){I(o,e,i),a&&a.m(e,null),t=!0,r||(s=[ke(Ke.call(null,e,.5)),H(e,"intersect",n[3](1))],r=!0)},p(o,i){a&&a.p&&(!t||i&32)&&ce(a,l,o,o[5],t?_e(l,o[5],i,kt):de(o[5]),Ae),(!t||i&1)&&G(e,"text-white",o[0][1])},i(o){t||(p(a,o),t=!0)},o(o){$(a,o),t=!1},d(o){o&&h(e),a&&a.d(o),r=!1,me(s)}}}function yt(n){let e,t,r,s,l,a,o,i=n[4].before&&Me(n);const f=n[6].default,c=ue(f,n,n[5],null);let d=n[4].after&&qe(n);return{c(){e=T("div"),i&&i.c(),t=M(),r=T("div"),c&&c.c(),s=M(),d&&d.c(),this.h()},l(u){e=C(u,"DIV",{class:!0,style:!0});var m=y(e);i&&i.l(m),t=q(m),r=C(m,"DIV",{class:!0});var E=y(r);c&&c.l(E),E.forEach(h),s=q(m),d&&d.l(m),m.forEach(h),this.h()},h(){_(r,"class","snap-center snap-always"),_(e,"class","grid w-full snap-x snap-mandatory overflow-y-hidden overflow-x-scroll rounded-lg transition-colors duration-300 ease-linear svelte-1f243wm"),J(e,"grid","auto / auto-flow "+(n[4].before?"1fr ":"")+"100%"+(n[4].after?" 1fr":"")),G(e,"bg-primary-600",n[0][0]||n[0][1])},m(u,m){I(u,e,m),i&&i.m(e,null),k(e,t),k(e,r),c&&c.m(r,null),k(e,s),d&&d.m(e,null),l=!0,a||(o=[H(e,"wheel",n[7],{passive:!0}),H(e,"touchend",n[2],{passive:!0})],a=!0)},p(u,[m]){u[4].before?i?(i.p(u,m),m&16&&p(i,1)):(i=Me(u),i.c(),p(i,1),i.m(e,t)):i&&(re(),$(i,1,1,()=>{i=null}),ne()),c&&c.p&&(!l||m&32)&&ce(c,f,u,u[5],l?_e(f,u[5],m,null):de(u[5]),null),u[4].after?d?(d.p(u,m),m&16&&p(d,1)):(d=qe(u),d.c(),p(d,1),d.m(e,null)):d&&(re(),$(d,1,1,()=>{d=null}),ne()),(!l||m&16)&&J(e,"grid","auto / auto-flow "+(u[4].before?"1fr ":"")+"100%"+(u[4].after?" 1fr":"")),(!l||m&1)&&G(e,"bg-primary-600",u[0][0]||u[0][1])},i(u){l||(p(i),p(c,u),p(d),l=!0)},o(u){$(i),$(c,u),$(d),l=!1},d(u){u&&h(e),i&&i.d(),c&&c.d(u),d&&d.d(),a=!1,me(o)}}}function Et(n,e,t){let{$$slots:r={},$$scope:s}=e;const l=Xe(r),a=[!1,!1],o=Ve();let i=0;function f(){a[0]&&o("before"),a[1]&&o("after")}function c(u){return({detail:m})=>{a[u]&&(!u&&i<0||u&&i>0)&&f(),t(0,a[u]=m.isIntersecting,a)}}const d=({deltaX:u})=>t(1,i=u);return n.$$set=u=>{"$$scope"in u&&t(5,s=u.$$scope)},[a,i,f,c,l,s,r,d]}class It extends se{constructor(e){super(),le(this,e,Et,yt,ie,{})}}function He(n){let e,t,r=n[1](n[0])+"",s,l,a,o,i,f,c,d,u,m,E=n[1](n[6]-n[0])+"",j,O,D,V,R,v,L,F,W,b;return{c(){e=T("div"),t=T("button"),s=Q(r),l=M(),a=T("div"),o=ee("svg"),i=ee("path"),f=ee("path"),c=M(),d=T("div"),u=M(),m=T("button"),j=Q(E),O=M(),D=T("div"),V=T("div"),R=M(),v=ee("svg"),L=ee("path"),F=ee("path"),this.h()},l(A){e=C(A,"DIV",{class:!0});var g=y(e);t=C(g,"BUTTON",{class:!0});var N=y(t);s=x(N,r),l=q(N),a=C(N,"DIV",{class:!0});var U=y(a);o=te(U,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var Z=y(o);i=te(Z,"path",{d:!0}),y(i).forEach(h),f=te(Z,"path",{d:!0}),y(f).forEach(h),Z.forEach(h),c=q(U),d=C(U,"DIV",{class:!0}),y(d).forEach(h),U.forEach(h),N.forEach(h),u=q(g),m=C(g,"BUTTON",{class:!0});var w=y(m);j=x(w,E),O=q(w),D=C(w,"DIV",{class:!0});var Y=y(D);V=C(Y,"DIV",{class:!0}),y(V).forEach(h),R=q(Y),v=te(Y,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var ae=y(v);L=te(ae,"path",{d:!0}),y(L).forEach(h),F=te(ae,"path",{d:!0}),y(F).forEach(h),ae.forEach(h),Y.forEach(h),w.forEach(h),g.forEach(h),this.h()},h(){_(i,"d","M0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345L4.92804 0.176684C5.18188 -0.0588945 5.59343 -0.0588946 5.84728 0.176684C6.10112 0.412262 6.10112 0.794209 5.84728 1.02979L1.10966 5.42655C0.855821 5.66213 0.444263 5.66213 0.190422 5.42655Z"),_(f,"d","M0.190422 4.57345C0.444263 4.33787 0.855738 4.33787 1.10958 4.57345L5.84719 8.97021C6.10103 9.20579 6.10103 9.58774 5.84719 9.82332C5.59335 10.0589 5.18179 10.0589 4.92795 9.82332L0.190422 5.42655C-0.0634185 5.19098 -0.0634185 4.80903 0.190422 4.57345Z"),_(o,"width","7"),_(o,"height","10"),_(o,"viewBox","0 0 7 10"),_(o,"fill","hsl(var(--color-content-200)"),_(o,"xmlns","http://www.w3.org/2000/svg"),_(d,"class","h-[1.3px] flex-grow rounded bg-content-200"),_(a,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),_(t,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),_(V,"class","h-[1.3px] flex-grow rounded bg-content-200"),_(L,"d","M6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345L2.07196 0.176684C1.81812 -0.0588945 1.40657 -0.0588946 1.15272 0.176684C0.898884 0.412262 0.898884 0.794209 1.15272 1.02979L5.89034 5.42655C6.14418 5.66213 6.55574 5.66213 6.80958 5.42655Z"),_(F,"d","M6.80958 4.57345C6.55574 4.33787 6.14426 4.33787 5.89042 4.57345L1.15281 8.97021C0.898969 9.20579 0.898969 9.58774 1.15281 9.82332C1.40665 10.0589 1.81821 10.0589 2.07205 9.82332L6.80958 5.42655C7.06342 5.19098 7.06342 4.80903 6.80958 4.57345Z"),_(v,"width","7"),_(v,"height","10"),_(v,"viewBox","0 0 7 10"),_(v,"fill","hsl(var(--color-content-200)"),_(v,"xmlns","http://www.w3.org/2000/svg"),_(D,"class","flex items-center opacity-0 transition-opacity group-focus-visible:opacity-100 group-hover:opacity-100"),_(m,"class","group rounded-lg p-2 text-content-200 outline-2 outline-primary-600 transition-paint focus-visible:bg-highlight focus-visible:outline active:scale-95 hover:bg-highlight"),_(e,"class","flex w-full justify-between text-sm"),G(e,"pointer-events-none",!n[2])},m(A,g){I(A,e,g),k(e,t),k(t,s),k(t,l),k(t,a),k(a,o),k(o,i),k(o,f),k(a,c),k(a,d),k(e,u),k(e,m),k(m,j),k(m,O),k(m,D),k(D,V),k(D,R),k(D,v),k(v,L),k(v,F),W||(b=[ke(Le.call(null,t,{mouse:!0})),H(t,"hold",n[11]),H(t,"click",n[12]),ke(Le.call(null,m,{mouse:!0})),H(m,"hold",n[13]),H(m,"click",n[14])],W=!0)},p(A,g){g&3&&r!==(r=A[1](A[0])+"")&&ge(s,r),g&67&&E!==(E=A[1](A[6]-A[0])+"")&&ge(j,E),g&4&&G(e,"pointer-events-none",!A[2])},d(A){A&&h(e),W=!1,me(b)}}}function Dt(n){let e,t,r,s,l,a,o,i=n[3]&&He(n);return{c(){e=T("div"),t=T("div"),r=T("input"),s=M(),i&&i.c(),this.h()},l(f){e=C(f,"DIV",{class:!0});var c=y(e);t=C(c,"DIV",{class:!0});var d=y(t);r=C(d,"INPUT",{class:!0,style:!0,type:!0,min:!0,max:!0}),d.forEach(h),s=q(c),i&&i.l(c),c.forEach(h),this.h()},h(){_(r,"class","relative w-full cursor-pointer appearance-none rounded bg-transparent outline-2 outline-offset-2 outline-primary-600 focus-visible:outline svelte-sruga5"),J(r,"--progress",(n[0]-n[7])/(n[6]-n[7])*100+"%"),_(r,"type","range"),_(r,"min",n[7]),_(r,"max",n[6]),_(t,"class","px-2"),_(e,"class",l=n[4]?"px-4 pt-8":"")},m(f,c){I(f,e,c),k(e,t),k(t,r),ze(r,n[0]),k(e,s),i&&i.m(e,null),a||(o=[H(r,"change",n[10]),H(r,"input",n[10])],a=!0)},p(f,[c]){c&193&&J(r,"--progress",(f[0]-f[7])/(f[6]-f[7])*100+"%"),c&128&&_(r,"min",f[7]),c&64&&_(r,"max",f[6]),c&1&&ze(r,f[0]),f[3]?i?i.p(f,c):(i=He(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),c&16&&l!==(l=f[4]?"px-4 pt-8":"")&&_(e,"class",l)},i:K,o:K,d(f){f&&h(e),i&&i.d(),a=!1,me(o)}}}function Vt(n,e,t){const r=Ve();let{format:s=V=>V.toString()}=e,{controls:l=!1}=e,{hints:a=!1}=e,{p:o=!1}=e,{value:i=0}=e,{skip:f=10}=e,{max:c=100}=e,{min:d=0}=e,u=!1;function m(){i=lt(this.value),t(0,i)}const E=()=>(t(8,u=!0),r("rewind")),j=()=>u?(t(8,u=!1),r("reset")):t(0,i=Math.max(i-f,d)),O=()=>(t(8,u=!0),r("forward")),D=()=>u?(t(8,u=!1),r("reset")):t(0,i=Math.min(i+f,c));return n.$$set=V=>{"format"in V&&t(1,s=V.format),"controls"in V&&t(2,l=V.controls),"hints"in V&&t(3,a=V.hints),"p"in V&&t(4,o=V.p),"value"in V&&t(0,i=V.value),"skip"in V&&t(5,f=V.skip),"max"in V&&t(6,c=V.max),"min"in V&&t(7,d=V.min)},[i,s,l,a,o,f,c,d,u,r,m,E,j,O,D]}class Tt extends se{constructor(e){super(),le(this,e,Vt,Dt,ie,{format:1,controls:2,hints:3,p:4,value:0,skip:5,max:6,min:7})}}function tt(n){const e=n-1;return e*e*e+1}function je(n,{delay:e=0,duration:t=400,easing:r=tt,axis:s="y"}={}){const l=getComputedStyle(n),a=+l.opacity,o=s==="y"?"height":"width",i=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],c=f.map(D=>`${D[0].toUpperCase()}${D.slice(1)}`),d=parseFloat(l[`padding${c[0]}`]),u=parseFloat(l[`padding${c[1]}`]),m=parseFloat(l[`margin${c[0]}`]),E=parseFloat(l[`margin${c[1]}`]),j=parseFloat(l[`border${c[0]}Width`]),O=parseFloat(l[`border${c[1]}Width`]);return{delay:e,duration:t,easing:r,css:D=>`overflow: hidden;opacity: ${Math.min(D*20,1)*a};${o}: ${D*i}px;padding-${f[0]}: ${D*d}px;padding-${f[1]}: ${D*u}px;margin-${f[0]}: ${D*m}px;margin-${f[1]}: ${D*E}px;border-${f[0]}-width: ${D*j}px;border-${f[1]}-width: ${D*O}px;`}}function we(n,{delay:e=0,duration:t=400,easing:r=tt,start:s=0,opacity:l=0}={}){const a=getComputedStyle(n),o=+a.opacity,i=a.transform==="none"?"":a.transform,f=1-s,c=o*(1-l);return{delay:e,duration:t,easing:r,css:(d,u)=>`
			transform: ${i} scale(${1-f*u});
			opacity: ${o-c*u}
		`}}function Ct(n){let e,t,r;const s=n[2].default,l=ue(s,n,n[1],null);return{c(){e=T("aside"),l&&l.c(),this.h()},l(a){e=C(a,"ASIDE",{class:!0});var o=y(e);l&&l.l(o),o.forEach(h),this.h()},h(){_(e,"class","-z-20 mx-2 mb-2 flex min-h-[1px] w-[calc(100%-1rem)] max-w-xl flex-wrap rounded-lg bg-surface-200 ring-1 ring-highlight backdrop-blur-md will-change-transform svelte-120gl9d")},m(a,o){I(a,e,o),l&&l.m(e,null),n[3](e),r=!0},p(a,[o]){l&&l.p&&(!r||o&2)&&ce(l,s,a,a[1],r?_e(s,a[1],o,null):de(a[1]),null)},i(a){r||(p(l,a),a&&Ee(()=>{r&&(t||(t=oe(e,je,{},!0)),t.run(1))}),r=!0)},o(a){$(l,a),a&&(t||(t=oe(e,je,{},!1)),t.run(0)),r=!1},d(a){a&&h(e),l&&l.d(a),n[3](null),a&&t&&t.end()}}}const Nt=8;function St(n,e,t){let{$$slots:r={},$$scope:s}=e;it("panel",!0);let l;async function a(){const i=((visualViewport==null?void 0:visualViewport.height)||innerHeight)-innerHeight,f=l==null?void 0:l.contains(document.activeElement),c=(l==null?void 0:l.getAnimations())||[];if(!i||!f)return c.forEach(m=>{m.reverse(),m.addEventListener("finish",()=>m.cancel(),{once:!0})});c.forEach(m=>m.cancel()),await new Promise(m=>requestAnimationFrame(m));const d=(l==null?void 0:l.getBoundingClientRect().bottom)||0,u=i-d+innerHeight-Nt;l==null||l.animate([{transform:"translate3d(0,0,0)"},{transform:`translate3d(0,${u}px,0)`}],{delay:1,duration:150,fill:"forwards",composite:"replace",easing:"ease-in-out"})}at(()=>{if(ut())return visualViewport==null||visualViewport.addEventListener("resize",a),()=>visualViewport==null?void 0:visualViewport.removeEventListener("resize",a)});function o(i){he[i?"unshift":"push"](()=>{l=i,t(0,l)})}return n.$$set=i=>{"$$scope"in i&&t(1,s=i.$$scope)},[l,s,r,o]}class zt extends se{constructor(e){super(),le(this,e,St,Ct,ie,{})}}function Pt(n){let e,t,r,s,l,a,o=`${n[3]}ms`,i,f,c;return{c(){e=ee("svg"),t=ee("circle"),this.h()},l(d){e=te(d,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0,role:!0});var u=y(e);t=te(u,"circle",{class:!0,fill:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-width":!0,"stroke-linecap":!0,cx:!0,cy:!0,r:!0}),y(t).forEach(h),u.forEach(h),this.h()},h(){_(t,"class","animate-[dash-wiggle_var(--duration)_ease-in-out_infinite]"),_(t,"fill","none"),_(t,"stroke",n[5]),_(t,"stroke-dasharray",n[6]),_(t,"stroke-dashoffset",r=n[6]*n[1]),_(t,"stroke-width",n[4]),_(t,"stroke-linecap","round"),_(t,"cx",s=n[0]/2),_(t,"cy",l=n[0]/2),_(t,"r",a=n[0]/2-n[4]/2),J(t,"--back",n[6]*(n[1]-n[2])),J(t,"--forth",n[6]*(n[1]+n[2])),J(t,"--duration",o),_(e,"class","inline-block animate-spin"),_(e,"width",i=n[0]+"px"),_(e,"height",f=n[0]+"px"),_(e,"viewBox",c="0 0 "+n[0]+" "+n[0]),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"role","status")},m(d,u){I(d,e,u),k(e,t)},p(d,[u]){u&32&&_(t,"stroke",d[5]),u&64&&_(t,"stroke-dasharray",d[6]),u&66&&r!==(r=d[6]*d[1])&&_(t,"stroke-dashoffset",r),u&16&&_(t,"stroke-width",d[4]),u&1&&s!==(s=d[0]/2)&&_(t,"cx",s),u&1&&l!==(l=d[0]/2)&&_(t,"cy",l),u&17&&a!==(a=d[0]/2-d[4]/2)&&_(t,"r",a),u&70&&J(t,"--back",d[6]*(d[1]-d[2])),u&70&&J(t,"--forth",d[6]*(d[1]+d[2])),u&8&&o!==(o=`${d[3]}ms`)&&J(t,"--duration",o),u&1&&i!==(i=d[0]+"px")&&_(e,"width",i),u&1&&f!==(f=d[0]+"px")&&_(e,"height",f),u&1&&c!==(c="0 0 "+d[0]+" "+d[0])&&_(e,"viewBox",c)},i:K,o:K,d(d){d&&h(e)}}}function Bt(n,e,t){let r,{size:s=64}=e,{cutoff:l=.3}=e,{wiggle:a=.15}=e,{duration:o=2e3}=e,{thickness:i=Math.sqrt(s)}=e,{color:f="hsl(var(--color-highlight))"}=e;return n.$$set=c=>{"size"in c&&t(0,s=c.size),"cutoff"in c&&t(1,l=c.cutoff),"wiggle"in c&&t(2,a=c.wiggle),"duration"in c&&t(3,o=c.duration),"thickness"in c&&t(4,i=c.thickness),"color"in c&&t(5,f=c.color)},n.$$.update=()=>{n.$$.dirty&17&&t(6,r=Math.PI*(s-i))},[s,l,a,o,i,f,r]}class Lt extends se{constructor(e){super(),le(this,e,Bt,Pt,ie,{size:0,cutoff:1,wiggle:2,duration:3,thickness:4,color:5})}}function At(n){var r;let e=(((r=n[2])==null?void 0:r.title)||"Not Playing")+"",t;return{c(){t=Q(e)},l(s){t=x(s,e)},m(s,l){I(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.title)||"Not Playing")+"")&&ge(t,e)},d(s){s&&h(t)}}}function Ft(n){var r;let e=(((r=n[2])==null?void 0:r.artists.map(Oe).join(", "))||" ")+"",t;return{c(){t=Q(e)},l(s){t=x(s,e)},m(s,l){I(s,t,l)},p(s,l){var a;l&4&&e!==(e=(((a=s[2])==null?void 0:a.artists.map(Oe).join(", "))||" ")+"")&&ge(t,e)},d(s){s&&h(t)}}}function Mt(n){var l;let e,t,r,s;return e=new mt({props:{accent:!0,$$slots:{default:[At]},$$scope:{ctx:n}}}),r=new Te({props:{air:!0,primary:!0,slim:!0,disabled:!n[2],href:((l=n[2])==null?void 0:l.artists.length)===1?`/explore/artist#${n[2].artists[0].id}`:void 0,$$slots:{default:[Ft]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment),t=M(),S(r.$$.fragment)},l(a){z(e.$$.fragment,a),t=q(a),z(r.$$.fragment,a)},m(a,o){P(e,a,o),I(a,t,o),P(r,a,o),s=!0},p(a,o){var c;const i={};o&516&&(i.$$scope={dirty:o,ctx:a}),e.$set(i);const f={};o&4&&(f.disabled=!a[2]),o&4&&(f.href=((c=a[2])==null?void 0:c.artists.length)===1?`/explore/artist#${a[2].artists[0].id}`:void 0),o&516&&(f.$$scope={dirty:o,ctx:a}),r.$set(f)},i(a){s||(p(e.$$.fragment,a),p(r.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(r.$$.fragment,a),s=!1},d(a){B(e,a),a&&h(t),B(r,a)}}}function qt(n){var l;let e,t,r=`hue-rotate(${((l=n[2])==null?void 0:l.id)||0}deg)`,s;return t=new Ie({props:{name:"note"}}),{c(){e=T("div"),S(t.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=y(e);z(t.$$.fragment,o),o.forEach(h),this.h()},h(){_(e,"class","flex h-full w-full items-center justify-center bg-gradient-to-r from-rose-400 to-red-400 text-white"),J(e,"filter",r)},m(a,o){I(a,e,o),P(t,e,null),s=!0},p(a,o){var i;o&4&&r!==(r=`hue-rotate(${((i=a[2])==null?void 0:i.id)||0}deg)`)&&J(e,"filter",r)},i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){a&&h(e),B(t)}}}function Ht(n){let e,t,r;return{c(){e=T("div"),this.h()},l(s){e=C(s,"DIV",{class:!0}),y(e).forEach(h),this.h()},h(){_(e,"class","pause absolute svelte-1rg0k1m")},m(s,l){I(s,e,l),r=!0},i(s){r||(Ee(()=>{r&&(t||(t=oe(e,we,{},!0)),t.run(1))}),r=!0)},o(s){t||(t=oe(e,we,{},!1)),t.run(0),r=!1},d(s){s&&h(e),s&&t&&t.end()}}}function jt(n){let e,t,r,s;return t=new Lt({props:{color:"hsl(var(--color-content))"}}),{c(){e=T("div"),S(t.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0});var a=y(e);z(t.$$.fragment,a),a.forEach(h),this.h()},h(){_(e,"class","absolute")},m(l,a){I(l,e,a),P(t,e,null),s=!0},i(l){s||(p(t.$$.fragment,l),Ee(()=>{s&&(r||(r=oe(e,we,{},!0)),r.run(1))}),s=!0)},o(l){$(t.$$.fragment,l),r||(r=oe(e,we,{},!1)),r.run(0),s=!1},d(l){l&&h(e),B(t),l&&r&&r.end()}}}function Ot(n){var W,b,A;let e,t,r,s,l,a,o,i,f,c,d,u,m,E,j,O,D;e=new Ye({props:{p:!0,gap:"sm",center:!0,$$slots:{default:[Mt]},$$scope:{ctx:n}}}),o=new dt({props:{src:(b=(W=n[2])==null?void 0:W.album.arts)==null?void 0:b[0],size:324,$$slots:{default:[qt]},$$scope:{ctx:n}}});const V=[jt,Ht],R=[];function v(g,N){return g[3]?0:1}c=v(n),d=R[c]=V[c](n);function L(g){n[5](g)}let F={format:_t,max:((A=n[2])==null?void 0:A.duration)||0,controls:!0,hints:!0,p:!0};return n[0]!==void 0&&(F.value=n[0]),m=new Tt({props:F}),he.push(()=>$e(m,"value",L)),m.$on("forward",n[6]),m.$on("rewind",n[7]),m.$on("reset",n[8]),{c(){S(e.$$.fragment),t=M(),r=T("div"),s=T("label"),l=T("input"),a=M(),S(o.$$.fragment),i=M(),f=T("div"),d.c(),u=M(),S(m.$$.fragment),this.h()},l(g){z(e.$$.fragment,g),t=q(g),r=C(g,"DIV",{class:!0});var N=y(r);s=C(N,"LABEL",{class:!0});var U=y(s);l=C(U,"INPUT",{type:!0,class:!0}),a=q(U),z(o.$$.fragment,U),i=q(U),f=C(U,"DIV",{class:!0});var Z=y(f);d.l(Z),Z.forEach(h),U.forEach(h),N.forEach(h),u=q(g),z(m.$$.fragment,g),this.h()},h(){_(l,"type","checkbox"),_(l,"class","peer absolute inset-0 appearance-none rounded-2xl outline-2 outline-offset-8 outline-primary-600 focus-visible:outline svelte-1rg0k1m"),_(f,"class","absolute -inset-[1px] flex items-center justify-center rounded-2xl bg-surface-200 opacity-0 backdrop-blur transition-[opacity] duration-300 peer-checked:opacity-100 svelte-1rg0k1m"),G(f,"opacity-100",n[3]),_(s,"class","relative block cursor-pointer rounded-2xl shadow-xl"),_(r,"class","px-11")},m(g,N){P(e,g,N),I(g,t,N),I(g,r,N),k(r,s),k(s,l),l.checked=n[1],k(s,a),P(o,s,null),k(s,i),k(s,f),R[c].m(f,null),I(g,u,N),P(m,g,N),j=!0,O||(D=H(l,"change",n[4]),O=!0)},p(g,[N]){var ae,Ne,Se;const U={};N&516&&(U.$$scope={dirty:N,ctx:g}),e.$set(U),N&2&&(l.checked=g[1]);const Z={};N&4&&(Z.src=(Ne=(ae=g[2])==null?void 0:ae.album.arts)==null?void 0:Ne[0]),N&516&&(Z.$$scope={dirty:N,ctx:g}),o.$set(Z);let w=c;c=v(g),c!==w&&(re(),$(R[w],1,1,()=>{R[w]=null}),ne(),d=R[c],d||(d=R[c]=V[c](g),d.c()),p(d,1),d.m(f,null)),(!j||N&8)&&G(f,"opacity-100",g[3]);const Y={};N&4&&(Y.max=((Se=g[2])==null?void 0:Se.duration)||0),!E&&N&1&&(E=!0,Y.value=g[0],be(()=>E=!1)),m.$set(Y)},i(g){j||(p(e.$$.fragment,g),p(o.$$.fragment,g),p(d),p(m.$$.fragment,g),j=!0)},o(g){$(e.$$.fragment,g),$(o.$$.fragment,g),$(d),$(m.$$.fragment,g),j=!1},d(g){B(e,g),g&&h(t),g&&h(r),B(o),R[c].d(),g&&h(u),B(m,g),O=!1,D()}}}const Oe=n=>n.title;function Rt(n,e,t){let{track:r=void 0}=e,{currentTime:s=0}=e,{loading:l=!1}=e,{paused:a=!0}=e;function o(){a=this.checked,t(1,a)}function i(u){s=u,t(0,s)}function f(u){pe.call(this,n,u)}function c(u){pe.call(this,n,u)}function d(u){pe.call(this,n,u)}return n.$$set=u=>{"track"in u&&t(2,r=u.track),"currentTime"in u&&t(0,s=u.currentTime),"loading"in u&&t(3,l=u.loading),"paused"in u&&t(1,a=u.paused)},[s,a,r,l,o,i,f,c,d]}class Ut extends se{constructor(e){super(),le(this,e,Rt,Ot,ie,{track:2,currentTime:0,loading:3,paused:1})}}const Wt=n=>({}),Re=n=>({slot:"before"});function Ue(n){let e,t;return e=new Qe({props:{lg:!0,$$slots:{default:[Xt]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&524296&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Zt(n){let e;return{c(){e=Q("Title")},l(t){e=x(t,"Title")},m(t,r){I(t,e,r)},d(t){t&&h(e)}}}function Gt(n){let e;return{c(){e=Q("Artist")},l(t){e=x(t,"Artist")},m(t,r){I(t,e,r)},d(t){t&&h(e)}}}function Jt(n){let e;return{c(){e=Q("Album")},l(t){e=x(t,"Album")},m(t,r){I(t,e,r)},d(t){t&&h(e)}}}function Xt(n){let e,t,r,s,l,a,o;return t=new ve({props:{sm:!0,$$slots:{default:[Zt]},$$scope:{ctx:n}}}),s=new ve({props:{sm:!0,$$slots:{default:[Gt]},$$scope:{ctx:n}}}),a=new ve({props:{sm:!0,$$slots:{default:[Jt]},$$scope:{ctx:n}}}),{c(){e=T("div"),S(t.$$.fragment),r=M(),S(s.$$.fragment),l=M(),S(a.$$.fragment),this.h()},l(i){e=C(i,"DIV",{class:!0});var f=y(e);z(t.$$.fragment,f),r=q(f),z(s.$$.fragment,f),l=q(f),z(a.$$.fragment,f),f.forEach(h),this.h()},h(){_(e,"class","sticky top-11 z-10 grid auto-cols-fr grid-flow-col border-b border-b-highlight bg-surface/70 pl-20 pr-10 backdrop-blur-md"),G(e,"pl-24",n[3])},m(i,f){I(i,e,f),P(t,e,null),k(e,r),P(s,e,null),k(e,l),P(a,e,null),o=!0},p(i,f){const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),t.$set(c);const d={};f&524288&&(d.$$scope={dirty:f,ctx:i}),s.$set(d);const u={};f&524288&&(u.$$scope={dirty:f,ctx:i}),a.$set(u),(!o||f&8)&&G(e,"pl-24",i[3])},i(i){o||(p(t.$$.fragment,i),p(s.$$.fragment,i),p(a.$$.fragment,i),o=!0)},o(i){$(t.$$.fragment,i),$(s.$$.fragment,i),$(a.$$.fragment,i),o=!1},d(i){i&&h(e),B(t),B(s),B(a)}}}function We(n){let e,t=typeof n[21]=="string"&&Ze();return{c(){e=T("div"),t&&t.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var s=y(e);t&&t.l(s),s.forEach(h),this.h()},h(){_(e,"class","visible ml-4 flex h-14 w-0.5 items-center justify-center bg-highlight-100"),G(e,"opacity-0",Number.isNaN(n[22]))},m(r,s){I(r,e,s),t&&t.m(e,null)},p(r,s){typeof r[21]=="string"?t||(t=Ze(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&4194304&&G(e,"opacity-0",Number.isNaN(r[22]))},d(r){r&&h(e),t&&t.d()}}}function Ze(n){let e;return{c(){e=T("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),y(e).forEach(h),this.h()},h(){_(e,"class","absolute mt-4 h-2 w-2 rounded-full bg-content")},m(t,r){I(t,e,r)},d(t){t&&h(e)}}}function Yt(n){let e,t;return e=new Ce({props:{sm:n[1]}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&2&&(l.sm=r[1]),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Kt(n){let e,t,r,s;const l=[er,xt],a=[];function o(i,f){return i[9].default||i[9].action?0:1}return e=o(n),t=a[e]=l[e](n),{c(){t.c(),r=fe()},l(i){t.l(i),r=fe()},m(i,f){a[e].m(i,f),I(i,r,f),s=!0},p(i,f){let c=e;e=o(i),e===c?a[e].p(i,f):(re(),$(a[c],1,1,()=>{a[c]=null}),ne(),t=a[e],t?t.p(i,f):(t=a[e]=l[e](i),t.c()),p(t,1),t.m(r.parentNode,r))},i(i){s||(p(t),s=!0)},o(i){$(t),s=!1},d(i){a[e].d(i),i&&h(r)}}}function Qt(n){let e,t=n[21]+"",r;return{c(){e=T("h2"),r=Q(t),this.h()},l(s){e=C(s,"H2",{draggable:!0,class:!0});var l=y(e);r=x(l,t),l.forEach(h),this.h()},h(){_(e,"draggable","false"),_(e,"class","relative top-2 flex h-14 items-center indent-4 text-lg [*:has(>div>&)]:pointer-events-none")},m(s,l){I(s,e,l),k(e,r)},p(s,l){l&2097152&&t!==(t=s[21]+"")&&ge(r,t)},i:K,o:K,d(s){s&&h(e)}}}function xt(n){let e,t;function r(){return n[16](n[21])}return e=new Ce({props:{sm:n[1],track:n[21],selected:ye(n[21],n[0])}}),e.$on("click",r),{c(){S(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){P(e,s,l),t=!0},p(s,l){n=s;const a={};l&2&&(a.sm=n[1]),l&2097152&&(a.track=n[21]),l&2097153&&(a.selected=ye(n[21],n[0])),e.$set(a)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){$(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function er(n){let e,t;function r(){return n[14](n[21])}function s(){return n[15](n[21])}return e=new It({props:{$$slots:{after:[nr],before:[rr],default:[tr]},$$scope:{ctx:n}}}),e.$on("before",r),e.$on("after",s),{c(){S(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,a){P(e,l,a),t=!0},p(l,a){n=l;const o={};a&2621443&&(o.$$scope={dirty:a,ctx:n}),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function tr(n){let e,t;function r(){return n[12](n[21])}function s(...l){return n[13](n[21],...l)}return e=new Ce({props:{sm:n[1],track:n[21],selected:ye(n[21],n[0])}}),e.$on("click",r),e.$on("contextmenu",s),{c(){S(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,a){P(e,l,a),t=!0},p(l,a){n=l;const o={};a&2&&(o.sm=n[1]),a&2097152&&(o.track=n[21]),a&2097153&&(o.selected=ye(n[21],n[0])),e.$set(o)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function rr(n){let e;const t=n[11].action,r=ue(t,n,n[19],Re);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,l){r&&r.m(s,l),e=!0},p(s,l){r&&r.p&&(!e||l&524288)&&ce(r,t,s,s[19],e?_e(t,s[19],l,Wt):de(s[19]),Re)},i(s){e||(p(r,s),e=!0)},o(s){$(r,s),e=!1},d(s){r&&r.d(s)}}}function nr(n){let e,t;return e=new Ie({props:{name:"list",slot:"after"}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p:K,i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function sr(n){let e,t,r,s,l,a=n[3]&&We(n);const o=[Qt,Kt,Yt],i=[];function f(c,d){return typeof c[21]=="string"?0:c[21]?1:2}return r=f(n),s=i[r]=o[r](n),{c(){e=T("div"),a&&a.c(),t=M(),s.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=y(e);a&&a.l(d),t=q(d),s.l(d),d.forEach(h),this.h()},h(){_(e,"class","relative flex [&_hr]:!opacity-100 [*:has(>&):last-of-type_hr]:!opacity-0")},m(c,d){I(c,e,d),a&&a.m(e,null),k(e,t),i[r].m(e,null),l=!0},p(c,d){c[3]?a?a.p(c,d):(a=We(c),a.c(),a.m(e,t)):a&&(a.d(1),a=null);let u=r;r=f(c),r===u?i[r].p(c,d):(re(),$(i[u],1,1,()=>{i[u]=null}),ne(),s=i[r],s?s.p(c,d):(s=i[r]=o[r](c),s.c()),p(s,1),s.m(e,null))},i(c){l||(p(s),l=!0)},o(c){$(s),l=!1},d(c){c&&h(e),a&&a.d(),i[r].d()}}}function Ge(n){let e,t;return e=new xe({props:{to:"bottom",$$slots:{default:[or]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&524289&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Je(n){let e,t;return e=new zt({props:{$$slots:{default:[ar]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&524288&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function lr(n){let e,t;return e=new Ie({props:{name:"close"}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p:K,i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function ir(n){let e,t,r,s,l;const a=n[11].default,o=ue(a,n,n[19],null);return t=new et({}),s=new Te({props:{air:!0,square:!0,$$slots:{default:[lr]},$$scope:{ctx:n}}}),s.$on("click",n[7]),{c(){o&&o.c(),e=M(),S(t.$$.fragment),r=M(),S(s.$$.fragment)},l(i){o&&o.l(i),e=q(i),z(t.$$.fragment,i),r=q(i),z(s.$$.fragment,i)},m(i,f){o&&o.m(i,f),I(i,e,f),P(t,i,f),I(i,r,f),P(s,i,f),l=!0},p(i,f){o&&o.p&&(!l||f&524288)&&ce(o,a,i,i[19],l?_e(a,i[19],f,null):de(i[19]),null);const c={};f&524288&&(c.$$scope={dirty:f,ctx:i}),s.$set(c)},i(i){l||(p(o,i),p(t.$$.fragment,i),p(s.$$.fragment,i),l=!0)},o(i){$(o,i),$(t.$$.fragment,i),$(s.$$.fragment,i),l=!1},d(i){o&&o.d(i),i&&h(e),B(t,i),i&&h(r),B(s,i)}}}function ar(n){let e,t;return e=new Ye({props:{x:!0,grow:!0,$$slots:{default:[ir]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&524288&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function or(n){let e,t,r=n[0].size&&Je(n);return{c(){r&&r.c(),e=fe()},l(s){r&&r.l(s),e=fe()},m(s,l){r&&r.m(s,l),I(s,e,l),t=!0},p(s,l){s[0].size?r?(r.p(s,l),l&1&&p(r,1)):(r=Je(s),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(re(),$(r,1,1,()=>{r=null}),ne())},i(s){t||(p(r),t=!0)},o(s){$(r),t=!1},d(s){r&&r.d(s),s&&h(e)}}}function fr(n){let e,t,r,s,l,a,o=!n[1]&&Ue(n);r=new ht({props:{key:ur,sortable:"tracks",prerender:rt,fixed:n[2],items:n[4],animate:!0,$$slots:{default:[sr,({item:f,index:c})=>({21:f,22:c}),({item:f,index:c})=>(f?2097152:0)|(c?4194304:0)]},$$scope:{ctx:n}}}),r.$on("edit",n[17]),r.$on("end",n[18]);let i=(n[9].default||n[9].action)&&Ge(n);return{c(){e=T("div"),o&&o.c(),t=M(),S(r.$$.fragment),s=M(),i&&i.c(),l=fe()},l(f){e=C(f,"DIV",{});var c=y(e);o&&o.l(c),t=q(c),z(r.$$.fragment,c),c.forEach(h),s=q(f),i&&i.l(f),l=fe()},m(f,c){I(f,e,c),o&&o.m(e,null),k(e,t),P(r,e,null),I(f,s,c),i&&i.m(f,c),I(f,l,c),a=!0},p(f,[c]){f[1]?o&&(re(),$(o,1,1,()=>{o=null}),ne()):o?(o.p(f,c),c&2&&p(o,1)):(o=Ue(f),o.c(),p(o,1),o.m(e,t));const d={};c&4&&(d.fixed=f[2]),c&16&&(d.items=f[4]),c&6816267&&(d.$$scope={dirty:c,ctx:f}),r.$set(d),f[9].default||f[9].action?i?(i.p(f,c),c&512&&p(i,1)):(i=Ge(f),i.c(),p(i,1),i.m(l.parentNode,l)):i&&(re(),$(i,1,1,()=>{i=null}),ne())},i(f){a||(p(o),p(r.$$.fragment,f),p(i),a=!0)},o(f){$(o),$(r.$$.fragment,f),$(i),a=!1},d(f){f&&h(e),o&&o.d(),B(r),f&&h(s),i&&i.d(f),f&&h(l)}}}const rt=10;function ye(n,e){return e.size?e.has(n)?!0:"passive":!1}const ur=n=>typeof n=="string"?n:(n==null?void 0:n.entry)||(n==null?void 0:n.id);function cr(n,e,t){let r,{$$slots:s={},$$scope:l}=e;const a=Xe(s),o=Ve();let{sm:i=!1}=e,{fixed:f=!1}=e,{timeline:c=!1}=e,{selected:d=new Set}=e,{tracks:u=void 0}=e;function m(b){if(!b)return Array.from({length:rt});if(!c)return b;const A=[];let g="";for(const N of b){if(!N||!("date"in N)||typeof N.date!="number")continue;const U=new Date(N.date*1e3),Z=pt(U);Z!==g&&(A.push(Z),g=Z),A.push(N)}return A}function E(b){d.has(b)?d.delete(b):d.add(b),t(0,d)}function j(){d.clear(),t(0,d)}async function O(b){if(!o("click",b,{cancelable:!0}))return;const A=u==null?void 0:u.indexOf(b);!u||!u[0]||A==null||A===-1||(X.clear(),X.push(u.slice(A)),await X.push(u.slice(0,A),"first"),nt())}const D=b=>d.size?E(b):O(b),V=(b,A)=>(A.preventDefault(),E(b)),R=b=>o("action",b),v=b=>E(b),L=b=>O(b);function F(b){pe.call(this,n,b)}function W(b){pe.call(this,n,b)}return n.$$set=b=>{"sm"in b&&t(1,i=b.sm),"fixed"in b&&t(2,f=b.fixed),"timeline"in b&&t(3,c=b.timeline),"selected"in b&&t(0,d=b.selected),"tracks"in b&&t(10,u=b.tracks),"$$scope"in b&&t(19,l=b.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&t(4,r=m(u)),n.$$.dirty&1024&&(u!=null&&u.length||j())},[d,i,f,c,r,o,E,j,O,a,u,s,D,V,R,v,L,F,W,l]}class dr extends se{constructor(e){super(),le(this,e,cr,fr,ie,{sm:1,fixed:2,timeline:3,selected:0,tracks:10})}}function _r(n){let e;return{c(){e=Q("Playing Next")},l(t){e=x(t,"Playing Next")},m(t,r){I(t,e,r)},d(t){t&&h(e)}}}function mr(n){let e,t;return e=new Ie({props:{name:"trash"}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p:K,i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function hr(n){let e,t;return e=new Te({props:{air:!0,stretch:!0,$$slots:{default:[mr]},$$scope:{ctx:n}}}),e.$on("click",n[9]),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&134217728&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function pr(n){let e,t,r,s,l,a,o,i,f,c,d,u,m,E;function j(v){n[18](v)}function O(v){n[19](v)}let D={track:n[0],loading:n[3]<=2&&!!n[6]};n[1]!==void 0&&(D.currentTime=n[1]),n[4]!==void 0&&(D.paused=n[4]),r=new Ut({props:D}),he.push(()=>$e(r,"currentTime",j)),he.push(()=>$e(r,"paused",O)),r.$on("forward",n[20]),r.$on("rewind",n[21]),r.$on("reset",n[22]),o=new ve({props:{indent:!0,sm:!0,$$slots:{default:[_r]},$$scope:{ctx:n}}}),f=new et({});function V(v){n[23](v)}let R={tracks:n[8],sm:!0,$$slots:{default:[hr]},$$scope:{ctx:n}};return n[7]!==void 0&&(R.selected=n[7]),u=new dr({props:R}),he.push(()=>$e(u,"selected",V)),u.$on("click",n[24]),{c(){e=T("div"),t=T("div"),S(r.$$.fragment),a=M(),S(o.$$.fragment),i=M(),S(f.$$.fragment),c=M(),d=T("div"),S(u.$$.fragment),this.h()},l(v){e=C(v,"DIV",{class:!0});var L=y(e);t=C(L,"DIV",{});var F=y(t);z(r.$$.fragment,F),a=q(F),z(o.$$.fragment,F),i=q(F),z(f.$$.fragment,F),F.forEach(h),c=q(L),d=C(L,"DIV",{class:!0});var W=y(d);z(u.$$.fragment,W),W.forEach(h),L.forEach(h),this.h()},h(){_(d,"class","grow overflow-y-scroll contain-strict"),_(e,"class","flex h-screen flex-col border-l border-highlight")},m(v,L){I(v,e,L),k(e,t),P(r,t,null),k(t,a),P(o,t,null),k(t,i),P(f,t,null),k(e,c),k(e,d),P(u,d,null),E=!0},p(v,L){const F={};L&1&&(F.track=v[0]),L&72&&(F.loading=v[3]<=2&&!!v[6]),!s&&L&2&&(s=!0,F.currentTime=v[1],be(()=>s=!1)),!l&&L&16&&(l=!0,F.paused=v[4],be(()=>l=!1)),r.$set(F);const W={};L&134217728&&(W.$$scope={dirty:L,ctx:v}),o.$set(W);const b={};L&256&&(b.tracks=v[8]),L&134217728&&(b.$$scope={dirty:L,ctx:v}),!m&&L&128&&(m=!0,b.selected=v[7],be(()=>m=!1)),u.$set(b)},i(v){E||(p(r.$$.fragment,v),p(o.$$.fragment,v),p(f.$$.fragment,v),p(u.$$.fragment,v),E=!0)},o(v){$(r.$$.fragment,v),$(o.$$.fragment,v),$(f.$$.fragment,v),$(u.$$.fragment,v),E=!1},d(v){v&&h(e),B(r),B(o),B(f),B(u)}}}function gr(n){let e,t;return e=new Qe({props:{lg:!0,$$slots:{default:[pr]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,s){P(e,r,s),t=!0},p(r,s){const l={};s&134218207&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function $r(n){let e,t,r=!0,s=!1,l,a,o,i,f,c;function d(){cancelAnimationFrame(l),e.paused||(l=ot(d),s=!0),n[15].call(e)}return o=new xe({props:{to:"right",$$slots:{default:[gr]},$$scope:{ctx:n}}}),{c(){e=T("audio"),a=M(),S(o.$$.fragment),this.h()},l(u){e=C(u,"AUDIO",{src:!0,preload:!0}),y(e).forEach(h),a=q(u),z(o.$$.fragment,u),this.h()},h(){Pe(e.src,t=n[6])||_(e,"src",t),_(e,"preload","auto"),n[3]===void 0&&Ee(()=>n[14].call(e))},m(u,m){I(u,e,m),isNaN(n[2])||(e.playbackRate=n[2]),I(u,a,m),P(o,u,m),i=!0,f||(c=[H(e,"play",n[13]),H(e,"pause",n[13]),H(e,"loadedmetadata",n[14]),H(e,"loadeddata",n[14]),H(e,"canplay",n[14]),H(e,"canplaythrough",n[14]),H(e,"playing",n[14]),H(e,"waiting",n[14]),H(e,"emptied",n[14]),H(e,"timeupdate",d),H(e,"ratechange",n[16]),H(e,"ended",n[17])],f=!0)},p(u,[m]){(!i||m&64&&!Pe(e.src,t=u[6]))&&_(e,"src",t),m&16&&r!==(r=u[4])&&e[r?"pause":"play"](),!s&&m&2&&!isNaN(u[1])&&(e.currentTime=u[1]),s=!1,m&4&&!isNaN(u[2])&&(e.playbackRate=u[2]);const E={};m&134218207&&(E.$$scope={dirty:m,ctx:u}),o.$set(E)},i(u){i||(p(o.$$.fragment,u),i=!0)},o(u){$(o.$$.fragment,u),i=!1},d(u){u&&h(e),u&&h(a),B(o,u),f=!1,me(c)}}}let De=!1;function nt(){De=!0}function br(n,e,t){let r,s,l;Be(n,X,w=>t(12,s=w)),Be(n,gt,w=>t(8,l=w));const a=ct(async()=>{if(!o)return;const w=f/o.duration;w<1&&X.sync(w)},3e3);let o,i=1,f=0,c=0,d=!0,u=!1,m="",E=new Set;async function j(w){if((w==null?void 0:w.id)===(o==null?void 0:o.id))return;if(t(0,o=w),!o)return t(4,d=!0),t(1,f=0);t(3,c=0);const Y=await $t.query(o);Y!==m&&(t(6,m=Y),De&&(De=!1,t(4,d=!0),await ft(),t(4,d=!1)))}function O(){X.purge([...E].map(w=>w.entry).filter(w=>!!w)),E.clear(),t(7,E)}async function D(w){w!=null&&w.entry&&X.rearrange(w.entry,o==null?void 0:o.entry),(r==null?void 0:r.repeat)===1?(X.repeat("none"),X.sync(1),await X.repeat("single")):await X.sync(1),nt()}function V(){d=this.paused,t(4,d)}function R(){c=this.readyState,t(3,c)}function v(){f=this.currentTime,t(1,f),t(11,r),t(0,o),t(12,s)}function L(){i=this.playbackRate,t(2,i)}const F=()=>u||(X.sync(1),t(5,u=!0));function W(w){f=w,t(1,f),t(11,r),t(0,o),t(12,s)}function b(w){d=w,t(4,d)}const A=()=>t(2,i=5),g=()=>t(2,i=-5),N=()=>t(2,i=1);function U(w){E=w,t(7,E)}const Z=w=>(w.preventDefault(),D(w.detail));return n.$$.update=()=>{n.$$.dirty&4096&&t(11,r=s.find(w=>w.local)),n.$$.dirty&2048&&j(r==null?void 0:r.track),n.$$.dirty&2051&&r&&o&&!f&&t(1,f=r.progress*o.duration),n.$$.dirty&2&&(a(),t(5,u=!1))},[o,f,i,c,d,u,m,E,l,O,D,r,s,V,R,v,L,F,W,b,A,g,N,U,Z]}class Er extends se{constructor(e){super(),le(this,e,br,$r,ie,{})}}export{Er as P,et as S,dr as T,zt as a};
