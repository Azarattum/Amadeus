import{s as Z,k as x,v as ee,a as T,g as v,i as p,w as te,f as g,x as h,y as M,z as O,A as P,B as Q,t as N,d as j,j as A,C as q}from"./scheduler.CPjqGZYx.js";import{S as le,i as ne,c as d,a as k,m as b,t as u,b as m,d as w,f as se,g as H,e as I}from"./index.7wDAvZi8.js";import{S as B,H as re,I as L}from"./Spinner.svelte_svelte_type_style_lang.Dr-EyWnV.js";import{S as fe}from"./Spacer.C_Bcl1YX.js";import"./entry.g64l517q.js";import{c as ae,h as ie,i as y,j as E}from"./Track.DZwNsFsU.js";import{m as oe,T as ue,A as ce}from"./util.V_E31BMI.js";import{T as $e}from"./Player.pjEhlk56.js";const me=f=>({}),F=f=>({slot:"action"});function G(f){let t,s;return t=new ce({props:{href:f[6],round:f[2]==="artist",of:f[3]}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),s=!0},p(e,l){const n={};l&64&&(n.href=e[6]),l&4&&(n.round=e[2]==="artist"),l&8&&(n.of=e[3]),t.$set(n)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){m(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function _e(f){var e;let t=((e=f[3])==null?void 0:e.title)+"",s;return{c(){s=N(t)},l(l){s=j(l,t)},m(l,n){p(l,s,n)},p(l,n){var r;n&8&&t!==(t=((r=l[3])==null?void 0:r.title)+"")&&A(s,t)},d(l){l&&g(s)}}}function pe(f){let t,s;return t=new y({props:{secondary:!0,loading:!f[3],indent:f[2]==="playlist",$$slots:{default:[de]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),s=!0},p(e,l){const n={};l&8&&(n.loading=!e[3]),l&4&&(n.indent=e[2]==="playlist"),l&32804&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){m(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function ge(f){let t,s,e,l,n,r;t=new y({props:{secondary:!0,indent:f[2]==="playlist",$$slots:{default:[ke]},$$scope:{ctx:f}}}),e=new y({props:{secondary:!0,indent:f[2]==="playlist",$$slots:{default:[be]},$$scope:{ctx:f}}});let a="remote"in f[3]&&f[3].remote&&K(f);return{c(){d(t.$$.fragment),s=T(),d(e.$$.fragment),l=T(),a&&a.c(),n=q()},l(i){k(t.$$.fragment,i),s=v(i),k(e.$$.fragment,i),l=v(i),a&&a.l(i),n=q()},m(i,o){b(t,i,o),p(i,s,o),b(e,i,o),p(i,l,o),a&&a.m(i,o),p(i,n,o),r=!0},p(i,o){const $={};o&4&&($.indent=i[2]==="playlist"),o&32776&&($.$$scope={dirty:o,ctx:i}),t.$set($);const S={};o&4&&(S.indent=i[2]==="playlist"),o&32776&&(S.$$scope={dirty:o,ctx:i}),e.$set(S),"remote"in i[3]&&i[3].remote?a?(a.p(i,o),o&8&&u(a,1)):(a=K(i),a.c(),u(a,1),a.m(n.parentNode,n)):a&&(H(),m(a,1,1,()=>{a=null}),I())},i(i){r||(u(t.$$.fragment,i),u(e.$$.fragment,i),u(a),r=!0)},o(i){m(t.$$.fragment,i),m(e.$$.fragment,i),m(a),r=!1},d(i){i&&(g(s),g(l),g(n)),w(t,i),w(e,i),a&&a.d(i)}}}function J(f){let t,s;return t=new L({props:{name:"globe",sm:!0}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),s=!0},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){m(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function de(f){let t,s,e,l=f[2]==="artist"&&J();return{c(){l&&l.c(),t=T(),s=N(f[5])},l(n){l&&l.l(n),t=v(n),s=j(n,f[5])},m(n,r){l&&l.m(n,r),p(n,t,r),p(n,s,r),e=!0},p(n,r){n[2]==="artist"?l?r&4&&u(l,1):(l=J(),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(H(),m(l,1,1,()=>{l=null}),I()),(!e||r&32)&&A(s,n[5])},i(n){e||(u(l),e=!0)},o(n){m(l),e=!1},d(n){n&&(g(t),g(s)),l&&l.d(n)}}}function ke(f){let t,s,e=f[3].collection.size+"",l,n;return t=new L({props:{name:"note",sm:!0}}),{c(){d(t.$$.fragment),s=T(),l=N(e)},l(r){k(t.$$.fragment,r),s=v(r),l=j(r,e)},m(r,a){b(t,r,a),p(r,s,a),p(r,l,a),n=!0},p(r,a){(!n||a&8)&&e!==(e=r[3].collection.size+"")&&A(l,e)},i(r){n||(u(t.$$.fragment,r),n=!0)},o(r){m(t.$$.fragment,r),n=!1},d(r){r&&(g(s),g(l)),w(t,r)}}}function be(f){let t,s,e=E(f[3].collection.duration)+"",l,n;return t=new L({props:{name:"clock",sm:!0}}),{c(){d(t.$$.fragment),s=T(),l=N(e)},l(r){k(t.$$.fragment,r),s=v(r),l=j(r,e)},m(r,a){b(t,r,a),p(r,s,a),p(r,l,a),n=!0},p(r,a){(!n||a&8)&&e!==(e=E(r[3].collection.duration)+"")&&A(l,e)},i(r){n||(u(t.$$.fragment,r),n=!0)},o(r){m(t.$$.fragment,r),n=!1},d(r){r&&(g(s),g(l)),w(t,r)}}}function K(f){let t,s,e,l;return t=new fe({}),e=new y({props:{secondary:!0,$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment),s=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),s=v(n),k(e.$$.fragment,n)},m(n,r){b(t,n,r),p(n,s,r),b(e,n,r),l=!0},p(n,r){const a={};r&32776&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){n&&g(s),w(t,n),w(e,n)}}}function we(f){let t,s,e=f[3].remote+"",l,n;return t=new L({props:{name:"share",sm:!0}}),{c(){d(t.$$.fragment),s=T(),l=N(e)},l(r){k(t.$$.fragment,r),s=v(r),l=j(r,e)},m(r,a){b(t,r,a),p(r,s,a),p(r,l,a),n=!0},p(r,a){(!n||a&8)&&e!==(e=r[3].remote+"")&&A(l,e)},i(r){n||(u(t.$$.fragment,r),n=!0)},o(r){m(t.$$.fragment,r),n=!1},d(r){r&&(g(s),g(l)),w(t,r)}}}function Se(f){let t,s,e,l;const n=[ge,pe],r=[];function a(i,o){var $;return($=i[3])!=null&&$.collection?0:1}return t=a(f),s=r[t]=n[t](f),{c(){s.c(),e=q()},l(i){s.l(i),e=q()},m(i,o){r[t].m(i,o),p(i,e,o),l=!0},p(i,o){let $=t;t=a(i),t===$?r[t].p(i,o):(H(),m(r[$],1,1,()=>{r[$]=null}),I(),s=r[t],s?s.p(i,o):(s=r[t]=n[t](i),s.c()),u(s,1),s.m(e.parentNode,e))},i(i){l||(u(s),l=!0)},o(i){m(s),l=!1},d(i){i&&g(e),r[t].d(i)}}}function Te(f){let t,s,e,l;return t=new re({props:{xl:f[2]==="playlist",indent:f[2]==="playlist",loading:!f[3],$$slots:{default:[_e]},$$scope:{ctx:f}}}),e=new B({props:{x:!0,class:"gap-4",$$slots:{default:[Se]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment),s=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),s=v(n),k(e.$$.fragment,n)},m(n,r){b(t,n,r),p(n,s,r),b(e,n,r),l=!0},p(n,r){const a={};r&4&&(a.xl=n[2]==="playlist"),r&4&&(a.indent=n[2]==="playlist"),r&8&&(a.loading=!n[3]),r&32776&&(a.$$scope={dirty:r,ctx:n}),t.$set(a);const i={};r&32812&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){n&&g(s),w(t,n),w(e,n)}}}function ve(f){let t,s,e,l=f[2]!=="playlist"&&G(f);return s=new B({props:{class:"gap-2",$$slots:{default:[Te]},$$scope:{ctx:f}}}),{c(){l&&l.c(),t=T(),d(s.$$.fragment)},l(n){l&&l.l(n),t=v(n),k(s.$$.fragment,n)},m(n,r){l&&l.m(n,r),p(n,t,r),b(s,n,r),e=!0},p(n,r){n[2]!=="playlist"?l?(l.p(n,r),r&4&&u(l,1)):(l=G(n),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(H(),m(l,1,1,()=>{l=null}),I());const a={};r&32812&&(a.$$scope={dirty:r,ctx:n}),s.$set(a)},i(n){e||(u(l),u(s.$$.fragment,n),e=!0)},o(n){m(l),m(s.$$.fragment,n),e=!1},d(n){n&&g(t),l&&l.d(n),w(s,n)}}}function ze(f){let t,s;return t=new B({props:{x:!0,class:`place-items-center gap-4 ${f[2]!=="playlist"?"p-4":""}`,$$slots:{default:[ve]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),s=!0},p(e,l){const n={};l&4&&(n.class=`place-items-center gap-4 ${e[2]!=="playlist"?"p-4":""}`),l&32876&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){m(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function Ce(f){let t;const s=f[9].default,e=M(s,f,f[15],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&O(e,s,l,l[15],t?Q(s,l[15],n,null):P(l[15]),null)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function Ne(f){let t;const s=f[9].action,e=M(s,f,f[15],F);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&O(e,s,l,l[15],t?Q(s,l[15],n,me):P(l[15]),F)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function je(f){var i;let t,s,e,l,n;t=new ue({props:{title:((i=f[3])==null?void 0:i.title)||"",$$slots:{default:[ze]},$$scope:{ctx:f}}});function r(o){f[10](o)}let a={fixed:f[1]||(f[2]==="playlist"?!!f[4]:!0),tracks:f[7],$$slots:{action:[Ne],default:[Ce]},$$scope:{ctx:f}};return f[0]!==void 0&&(a.selected=f[0]),e=new $e({props:a}),ee.push(()=>se(e,"selected",r)),e.$on("edit",f[11]),e.$on("click",f[12]),e.$on("action",f[13]),e.$on("end",f[14]),{c(){d(t.$$.fragment),s=T(),d(e.$$.fragment)},l(o){k(t.$$.fragment,o),s=v(o),k(e.$$.fragment,o)},m(o,$){b(t,o,$),p(o,s,$),b(e,o,$),n=!0},p(o,$){var z;const S={};$&8&&(S.title=((z=o[3])==null?void 0:z.title)||""),$&32876&&(S.$$scope={dirty:$,ctx:o}),t.$set(S);const _={};$&22&&(_.fixed=o[1]||(o[2]==="playlist"?!!o[4]:!0)),$&128&&(_.tracks=o[7]),$&32768&&(_.$$scope={dirty:$,ctx:o}),!l&&$&1&&(l=!0,_.selected=o[0],te(()=>l=!1)),e.$set(_)},i(o){n||(u(t.$$.fragment,o),u(e.$$.fragment,o),n=!0)},o(o){m(t.$$.fragment,o),m(e.$$.fragment,o),n=!1},d(o){o&&g(s),w(t,o),w(e,o)}}}function Ae(f){let t,s;return t=new B({props:{class:f[2]==="playlist"?"gap-4":"",$$slots:{default:[je]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),s=!0},p(e,[l]){const n={};l&4&&(n.class=e[2]==="playlist"?"gap-4":""),l&33023&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){m(t.$$.fragment,e),s=!1},d(e){w(t,e)}}}function he(f,t,s){let e,l,n,r;x(f,ae,c=>s(4,r=c));let{$$slots:a={},$$scope:i}=t,{fixed:o=!1}=t,{style:$}=t,{selected:S=new Set}=t,{of:_=void 0}=t,{tracks:z=void 0}=t;const R=c=>[...new Set(c)];function U(c){S=c,s(0,S)}function V(c){h.call(this,f,c)}function W(c){h.call(this,f,c)}function X(c){h.call(this,f,c)}function Y(c){h.call(this,f,c)}return f.$$set=c=>{"fixed"in c&&s(1,o=c.fixed),"style"in c&&s(2,$=c.style),"selected"in c&&s(0,S=c.selected),"of"in c&&s(3,_=c.of),"tracks"in c&&s(8,z=c.tracks),"$$scope"in c&&s(15,i=c.$$scope)},f.$$.update=()=>{var c,D;f.$$.dirty&280&&s(7,e=(D=z||((c=_==null?void 0:_.collection)==null?void 0:c.tracks))==null?void 0:D.filter(oe(r))),f.$$.dirty&12&&s(6,l=_!=null&&_.collection&&$!=="playlist"?`/explore/${$}#${_==null?void 0:_.id}`:void 0),f.$$.dirty&8&&s(5,n=_?R("artists"in _?_.artists.map(C=>C.title):"sources"in _?_==null?void 0:_.sources.map(C=>ie(C.split("/")[0])).filter(C=>!!C):[]).join(", "):"Loading")},[S,o,$,_,r,n,l,e,z,a,U,V,W,X,Y,i]}class Fe extends le{constructor(t){super(),ne(this,t,he,Ae,Z,{fixed:1,style:2,selected:0,of:3,tracks:8})}}export{Fe as C};
