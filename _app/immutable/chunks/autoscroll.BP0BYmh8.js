import{p as M}from"./Spinner.svelte_svelte_type_style_lang.XcT6HK_N.js";function E(l,{trigger:u="auto",axis:c="both",enabled:a=!1,threshold:o=64}={}){let n;const i={x:0,y:0},m=()=>f(!0),p=()=>f(!1);function y({x:t,y:e}){if(!a)return;let r=0,s=0;if(t<n.left||t>n.right||e<n.top||e>n.bottom)return;c!=="x"&&(e-n.top<o?s=-(n.top-e+o):e>n.bottom-o&&(s=e-n.bottom+o)),c!=="y"&&(t-n.left<o?r=-(n.left-t+o):t>n.right-o&&(r=t-n.right+o)),s/=o,r/=o;const v=!i.x&&!i.y,w=r||s;i.x=b(r),i.y=b(s),v&&w&&d()}function b(t){if(!t)return 0;let e=Math.abs(t);return e<1?e=(Math.cos(Math.PI*(e+1))+1)/2:e=Math.log(e)/3+1,e*Math.sign(t)}function d(){let t=Date.now();const e=()=>{if(!a||!i.x&&!i.y)return;const r=Date.now(),s=r-t;t=r,l.scrollBy(i.x*s,i.y*s),requestAnimationFrame(e)};requestAnimationFrame(e)}let g=()=>{};function f(t=a){a=t||u==="always",a?(l.style.scrollBehavior="auto",n=l.getBoundingClientRect(),g=M.subscribe(y)):(l.style.scrollBehavior="",i.x=0,i.y=0,g())}return u==="auto"&&(addEventListener("dragstart",m),addEventListener("dragend",p)),f(),{update(t){t.enabled!=null&&f(t.enabled)},destroy(){removeEventListener("dragstart",m),removeEventListener("dragend",p),u="none",f(!1)}}}export{E as a};
