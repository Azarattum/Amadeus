import{s as Z,v as x,p as ee,a as T,c as v,i as p,K as te,d as g,M as A,w as J,x as O,y as P,z as Q,l as q,m as C,n as y,e as H}from"./scheduler.c5d52407.js";import{S as le,i as ne,b as d,d as k,m as b,a as u,t as m,e as w,f as re,g as h,c as j}from"./index.0fc8bad8.js";import{S as K,H as se,I as L}from"./Spinner.svelte_svelte_type_style_lang.44f1e953.js";import{S as fe}from"./Spacer.057e2ac6.js";import"./paths.a52d509b.js";import{s as ae,c as ie,q as I,r as B}from"./Track.e3d02d5e.js";import{m as oe,T as ue,A as ce}from"./util.f1750cb8.js";import{T as $e}from"./Player.8accf692.js";const me=f=>({}),D=f=>({slot:"action"});function E(f){let t,r;return t=new ce({props:{href:f[6],round:f[2]==="artist",of:f[3]}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),r=!0},p(e,l){const n={};l&64&&(n.href=e[6]),l&4&&(n.round=e[2]==="artist"),l&8&&(n.of=e[3]),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function _e(f){var e;let t=((e=f[3])==null?void 0:e.title)+"",r;return{c(){r=q(t)},l(l){r=C(l,t)},m(l,n){p(l,r,n)},p(l,n){var s;n&8&&t!==(t=((s=l[3])==null?void 0:s.title)+"")&&y(r,t)},d(l){l&&g(r)}}}function pe(f){let t,r;return t=new I({props:{secondary:!0,loading:!f[3],indent:f[2]==="playlist",$$slots:{default:[de]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),r=!0},p(e,l){const n={};l&8&&(n.loading=!e[3]),l&4&&(n.indent=e[2]==="playlist"),l&32804&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function ge(f){let t,r,e,l,n,s;t=new I({props:{secondary:!0,indent:f[2]==="playlist",$$slots:{default:[ke]},$$scope:{ctx:f}}}),e=new I({props:{secondary:!0,indent:f[2]==="playlist",$$slots:{default:[be]},$$scope:{ctx:f}}});let a="remote"in f[3]&&f[3].remote&&G(f);return{c(){d(t.$$.fragment),r=T(),d(e.$$.fragment),l=T(),a&&a.c(),n=H()},l(i){k(t.$$.fragment,i),r=v(i),k(e.$$.fragment,i),l=v(i),a&&a.l(i),n=H()},m(i,o){b(t,i,o),p(i,r,o),b(e,i,o),p(i,l,o),a&&a.m(i,o),p(i,n,o),s=!0},p(i,o){const $={};o&4&&($.indent=i[2]==="playlist"),o&32776&&($.$$scope={dirty:o,ctx:i}),t.$set($);const S={};o&4&&(S.indent=i[2]==="playlist"),o&32776&&(S.$$scope={dirty:o,ctx:i}),e.$set(S),"remote"in i[3]&&i[3].remote?a?(a.p(i,o),o&8&&u(a,1)):(a=G(i),a.c(),u(a,1),a.m(n.parentNode,n)):a&&(h(),m(a,1,1,()=>{a=null}),j())},i(i){s||(u(t.$$.fragment,i),u(e.$$.fragment,i),u(a),s=!0)},o(i){m(t.$$.fragment,i),m(e.$$.fragment,i),m(a),s=!1},d(i){i&&(g(r),g(l),g(n)),w(t,i),w(e,i),a&&a.d(i)}}}function F(f){let t,r;return t=new L({props:{name:"globe",sm:!0}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),r=!0},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function de(f){let t,r,e,l=f[2]==="artist"&&F();return{c(){l&&l.c(),t=T(),r=q(f[5])},l(n){l&&l.l(n),t=v(n),r=C(n,f[5])},m(n,s){l&&l.m(n,s),p(n,t,s),p(n,r,s),e=!0},p(n,s){n[2]==="artist"?l?s&4&&u(l,1):(l=F(),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(h(),m(l,1,1,()=>{l=null}),j()),(!e||s&32)&&y(r,n[5])},i(n){e||(u(l),e=!0)},o(n){m(l),e=!1},d(n){n&&(g(t),g(r)),l&&l.d(n)}}}function ke(f){let t,r,e=f[3].collection.size+"",l,n;return t=new L({props:{name:"note",sm:!0}}),{c(){d(t.$$.fragment),r=T(),l=q(e)},l(s){k(t.$$.fragment,s),r=v(s),l=C(s,e)},m(s,a){b(t,s,a),p(s,r,a),p(s,l,a),n=!0},p(s,a){(!n||a&8)&&e!==(e=s[3].collection.size+"")&&y(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){s&&(g(r),g(l)),w(t,s)}}}function be(f){let t,r,e=B(f[3].collection.duration)+"",l,n;return t=new L({props:{name:"clock",sm:!0}}),{c(){d(t.$$.fragment),r=T(),l=q(e)},l(s){k(t.$$.fragment,s),r=v(s),l=C(s,e)},m(s,a){b(t,s,a),p(s,r,a),p(s,l,a),n=!0},p(s,a){(!n||a&8)&&e!==(e=B(s[3].collection.duration)+"")&&y(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){s&&(g(r),g(l)),w(t,s)}}}function G(f){let t,r,e,l;return t=new fe({}),e=new I({props:{secondary:!0,$$slots:{default:[we]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment),r=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),r=v(n),k(e.$$.fragment,n)},m(n,s){b(t,n,s),p(n,r,s),b(e,n,s),l=!0},p(n,s){const a={};s&32776&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){n&&g(r),w(t,n),w(e,n)}}}function we(f){let t,r,e=f[3].remote+"",l,n;return t=new L({props:{name:"share",sm:!0}}),{c(){d(t.$$.fragment),r=T(),l=q(e)},l(s){k(t.$$.fragment,s),r=v(s),l=C(s,e)},m(s,a){b(t,s,a),p(s,r,a),p(s,l,a),n=!0},p(s,a){(!n||a&8)&&e!==(e=s[3].remote+"")&&y(l,e)},i(s){n||(u(t.$$.fragment,s),n=!0)},o(s){m(t.$$.fragment,s),n=!1},d(s){s&&(g(r),g(l)),w(t,s)}}}function Se(f){let t,r,e,l;const n=[ge,pe],s=[];function a(i,o){var $;return($=i[3])!=null&&$.collection?0:1}return t=a(f),r=s[t]=n[t](f),{c(){r.c(),e=H()},l(i){r.l(i),e=H()},m(i,o){s[t].m(i,o),p(i,e,o),l=!0},p(i,o){let $=t;t=a(i),t===$?s[t].p(i,o):(h(),m(s[$],1,1,()=>{s[$]=null}),j(),r=s[t],r?r.p(i,o):(r=s[t]=n[t](i),r.c()),u(r,1),r.m(e.parentNode,e))},i(i){l||(u(r),l=!0)},o(i){m(r),l=!1},d(i){i&&g(e),s[t].d(i)}}}function Te(f){let t,r,e,l;return t=new se({props:{xl:f[2]==="playlist",indent:f[2]==="playlist",loading:!f[3],$$slots:{default:[_e]},$$scope:{ctx:f}}}),e=new K({props:{x:!0,gap:"lg",$$slots:{default:[Se]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment),r=T(),d(e.$$.fragment)},l(n){k(t.$$.fragment,n),r=v(n),k(e.$$.fragment,n)},m(n,s){b(t,n,s),p(n,r,s),b(e,n,s),l=!0},p(n,s){const a={};s&4&&(a.xl=n[2]==="playlist"),s&4&&(a.indent=n[2]==="playlist"),s&8&&(a.loading=!n[3]),s&32776&&(a.$$scope={dirty:s,ctx:n}),t.$set(a);const i={};s&32812&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){l||(u(t.$$.fragment,n),u(e.$$.fragment,n),l=!0)},o(n){m(t.$$.fragment,n),m(e.$$.fragment,n),l=!1},d(n){n&&g(r),w(t,n),w(e,n)}}}function ve(f){let t,r,e,l=f[2]!=="playlist"&&E(f);return r=new K({props:{gap:!0,$$slots:{default:[Te]},$$scope:{ctx:f}}}),{c(){l&&l.c(),t=T(),d(r.$$.fragment)},l(n){l&&l.l(n),t=v(n),k(r.$$.fragment,n)},m(n,s){l&&l.m(n,s),p(n,t,s),b(r,n,s),e=!0},p(n,s){n[2]!=="playlist"?l?(l.p(n,s),s&4&&u(l,1)):(l=E(n),l.c(),u(l,1),l.m(t.parentNode,t)):l&&(h(),m(l,1,1,()=>{l=null}),j());const a={};s&32812&&(a.$$scope={dirty:s,ctx:n}),r.$set(a)},i(n){e||(u(l),u(r.$$.fragment,n),e=!0)},o(n){m(l),m(r.$$.fragment,n),e=!1},d(n){n&&g(t),l&&l.d(n),w(r,n)}}}function ze(f){let t,r;return t=new K({props:{gap:"lg",x:!0,center:!0,p:f[2]!=="playlist",$$slots:{default:[ve]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),r=!0},p(e,l){const n={};l&4&&(n.p=e[2]!=="playlist"),l&32876&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Ne(f){let t;const r=f[9].default,e=J(r,f,f[15],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&O(e,r,l,l[15],t?Q(r,l[15],n,null):P(l[15]),null)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function qe(f){let t;const r=f[9].action,e=J(r,f,f[15],D);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,n){e&&e.m(l,n),t=!0},p(l,n){e&&e.p&&(!t||n&32768)&&O(e,r,l,l[15],t?Q(r,l[15],n,me):P(l[15]),D)},i(l){t||(u(e,l),t=!0)},o(l){m(e,l),t=!1},d(l){e&&e.d(l)}}}function Ce(f){var i;let t,r,e,l,n;t=new ue({props:{title:((i=f[3])==null?void 0:i.title)||"",$$slots:{default:[ze]},$$scope:{ctx:f}}});function s(o){f[10](o)}let a={fixed:f[1]||(f[2]==="playlist"?!!f[4]:!0),tracks:f[7],$$slots:{action:[qe],default:[Ne]},$$scope:{ctx:f}};return f[0]!==void 0&&(a.selected=f[0]),e=new $e({props:a}),ee.push(()=>re(e,"selected",s)),e.$on("edit",f[11]),e.$on("click",f[12]),e.$on("action",f[13]),e.$on("end",f[14]),{c(){d(t.$$.fragment),r=T(),d(e.$$.fragment)},l(o){k(t.$$.fragment,o),r=v(o),k(e.$$.fragment,o)},m(o,$){b(t,o,$),p(o,r,$),b(e,o,$),n=!0},p(o,$){var z;const S={};$&8&&(S.title=((z=o[3])==null?void 0:z.title)||""),$&32876&&(S.$$scope={dirty:$,ctx:o}),t.$set(S);const _={};$&22&&(_.fixed=o[1]||(o[2]==="playlist"?!!o[4]:!0)),$&128&&(_.tracks=o[7]),$&32768&&(_.$$scope={dirty:$,ctx:o}),!l&&$&1&&(l=!0,_.selected=o[0],te(()=>l=!1)),e.$set(_)},i(o){n||(u(t.$$.fragment,o),u(e.$$.fragment,o),n=!0)},o(o){m(t.$$.fragment,o),m(e.$$.fragment,o),n=!1},d(o){o&&g(r),w(t,o),w(e,o)}}}function ye(f){let t,r;return t=new K({props:{gap:f[2]==="playlist"?"lg":void 0,grow:!0,$$slots:{default:[Ce]},$$scope:{ctx:f}}}),{c(){d(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,l){b(t,e,l),r=!0},p(e,[l]){const n={};l&4&&(n.gap=e[2]==="playlist"?"lg":void 0),l&33023&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){w(t,e)}}}function Ae(f,t,r){let e,l,n,s;x(f,ae,c=>r(4,s=c));let{$$slots:a={},$$scope:i}=t,{fixed:o=!1}=t,{style:$}=t,{selected:S=new Set}=t,{of:_=void 0}=t,{tracks:z=void 0}=t;const R=c=>[...new Set(c)];function U(c){S=c,r(0,S)}function V(c){A.call(this,f,c)}function W(c){A.call(this,f,c)}function X(c){A.call(this,f,c)}function Y(c){A.call(this,f,c)}return f.$$set=c=>{"fixed"in c&&r(1,o=c.fixed),"style"in c&&r(2,$=c.style),"selected"in c&&r(0,S=c.selected),"of"in c&&r(3,_=c.of),"tracks"in c&&r(8,z=c.tracks),"$$scope"in c&&r(15,i=c.$$scope)},f.$$.update=()=>{var c,M;f.$$.dirty&280&&r(7,e=(M=z||((c=_==null?void 0:_.collection)==null?void 0:c.tracks))==null?void 0:M.filter(oe(s))),f.$$.dirty&12&&r(6,l=_!=null&&_.collection&&$!=="playlist"?`/explore/${$}#${_==null?void 0:_.id}`:void 0),f.$$.dirty&8&&r(5,n=_?R("artists"in _?_.artists.map(N=>N.title):"sources"in _?_==null?void 0:_.sources.map(N=>ie(N.split("/")[0])).filter(N=>!!N):[]).join(", "):"Loading")},[S,o,$,_,s,n,l,e,z,a,U,V,W,X,Y,i]}class De extends le{constructor(t){super(),ne(this,t,Ae,ye,Z,{fixed:1,style:2,selected:0,of:3,tracks:8})}}export{De as C};
