import{s as B,p as I,a as q,c as v,r as z,d as y,i as E,K as F,v as h,F as G,G as C}from"../chunks/scheduler.yhBzS9E6.js";import{S as K,i as P,f as j,b as p,d as m,m as $,a as d,t as _,e as g}from"../chunks/index.f7836kWu.js";import{B as D,I as S}from"../chunks/Spinner.svelte_svelte_type_style_lang.ZpKk4DBT.js";import"../chunks/paths.8KMvHmCx.js";import{p as H}from"../chunks/stores.b9ptQKef.js";import{a as w,l as k,p as J}from"../chunks/Track.2zQb30Cv.js";import{C as L}from"../chunks/Collection.X84H6oAj.js";function M(a){let t,n;return t=new S({props:{name:"trash"}}),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,o){$(t,e,o),n=!0},p:C,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function N(a){let t,n;return t=new D({props:{air:!0,stretch:!0,$$slots:{default:[M]},$$scope:{ctx:a}}}),t.$on("click",a[3]),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,o){$(t,e,o),n=!0},p(e,o){const l={};o&256&&(l.$$scope={dirty:o,ctx:e}),t.$set(l)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function O(a){let t,n;return t=new S({props:{name:"last",slot:"action"}}),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,o){$(t,e,o),n=!0},p:C,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function Q(a){let t,n,e,o,l;function f(r){a[6](r)}let c={of:a[0],style:"playlist",$$slots:{action:[O],default:[N]},$$scope:{ctx:a}};return a[1]!==void 0&&(c.selected=a[1]),t=new L({props:c}),I.push(()=>j(t,"selected",f)),t.$on("edit",a[2]),document.title=o=(a[0]?`${a[0].title} - `:"")+"Amadeus",{c(){p(t.$$.fragment),e=q()},l(r){m(t.$$.fragment,r),e=v(r),z("svelte-pttznx",document.head).forEach(y)},m(r,i){$(t,r,i),E(r,e,i),l=!0},p(r,[i]){const u={};i&1&&(u.of=r[0]),i&256&&(u.$$scope={dirty:i,ctx:r}),!n&&i&2&&(n=!0,u.selected=r[1],F(()=>n=!1)),t.$set(u),(!l||i&1)&&o!==(o=(r[0]?`${r[0].title} - `:"")+"Amadeus")&&(document.title=o)},i(r){l||(d(t.$$.fragment,r),l=!0)},o(r){_(t.$$.fragment,r),l=!1},d(r){r&&y(e),g(t,r)}}}function R(a,t,n){let e,o,l,f;h(a,w,s=>n(7,o=s)),h(a,H,s=>n(4,l=s)),h(a,J,s=>n(5,f=s));let c=new Set;function r({detail:{action:s,after:A,item:b}}){b.entry&&s==="rearrange"&&k.rearrange(b.entry,A?.entry)}function i(){k.purge([...c].map(s=>s.entry).filter(s=>!!s)),c.clear(),n(1,c)}function u(s){c=s,n(1,c)}return a.$$.update=()=>{a.$$.dirty&48&&n(0,e=f.find(s=>s.id===+l.url.hash.slice(1))),a.$$.dirty&1&&G(w,o=e?[e.title,"disk"]:null,o)},[e,c,r,i,l,f,u]}class x extends K{constructor(t){super(),P(this,t,R,Q,B,{})}}export{x as component};
