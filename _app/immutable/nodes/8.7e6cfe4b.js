import{P as le,Q as oe,R as O,S as ce,s as W,p as R,w as F,f as A,a as M,g as V,h as D,c as N,d,j as w,E as C,i as S,u as z,J as K,C as ie,K as ue,x as X,y as Z,z as x,T as fe,A as _e,o as me,G as g,e as Q,r as ee,k as I,U as pe,V as he,I as $e,L as de,l as te,m as se,v as P,D as ge}from"../chunks/scheduler.c5d52407.js";import{g as ve,t as v,c as be,a as b,S as q,i as G,f as ke,b as L,d as E,m as T,e as y}from"../chunks/index.0fc8bad8.js";import{n as we,e as U,p as j,s as Ce,g as Le,t as Ee}from"../chunks/Track.045956c1.js";import{S as ne}from"../chunks/Spinner.svelte_svelte_type_style_lang.a6e64879.js";import{a as Te}from"../chunks/autoscroll.9b720227.js";import"../chunks/paths.36287d71.js";import{T as ye}from"../chunks/util.76effc52.js";import{O as ae}from"../chunks/Overview.56b2dd2f.js";import{T as Se}from"../chunks/Player.d27cf9c5.js";function Ie(s,e){const n=e.token={};function t(a,r,i,o){if(e.token!==n)return;e.resolved=o;let f=e.ctx;i!==void 0&&(f=f.slice(),f[i]=o);const c=a&&(e.current=a)(f);let p=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(ve(),v(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),be())}):e.block.d(1),c.c(),b(c,1),c.m(e.mount(),e.anchor),p=!0),e.block=c,e.blocks&&(e.blocks[r]=c),p&&ce()}if(le(s)){const a=oe();if(s.then(r=>{O(a),t(e.then,1,e.value,r),O(null)},r=>{if(O(a),t(e.catch,2,e.error,r),O(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function ze(s,e,n){const t=e.slice(),{resolved:a}=s;s.current===s.then&&(t[s.value]=a),s.current===s.catch&&(t[s.error]=a),s.block.p(t,n)}function Ae(s){let e;return{c(){e=A("div"),this.h()},l(n){e=V(n,"DIV",{class:!0}),D(e).forEach(d),this.h()},h(){w(e,"class","py-11")},m(n,t){S(n,e,t)},p:g,d(n){n&&d(e)}}}function Ve(s){let e,n,t,a,r,i,o,f;function c(l){s[6](l)}let p={title:s[0],$$slots:{default:[Ae]},$$scope:{ctx:s}};s[3]!==void 0&&(p.stuck=s[3]),n=new ye({props:p}),R.push(()=>ke(n,"stuck",c));const u=s[5].default,m=F(u,s,s[8],null);return{c(){e=A("section"),L(n.$$.fragment),a=M(),m&&m.c(),this.h()},l(l){e=V(l,"SECTION",{id:!0,class:!0});var _=D(e);E(n.$$.fragment,_),a=N(_),m&&m.l(_),_.forEach(d),this.h()},h(){w(e,"id",r=s[0].toLowerCase()),w(e,"class","relative z-10 h-full w-full snap-start snap-always overflow-x-hidden overflow-y-scroll"),C(e,"[&~nav_div_a]:pointer-events-none",s[2]&&s[3]),C(e,"[&~nav_div_a]:-translate-y-full",s[2]&&s[3]),C(e,"[&~nav_div]:opacity-0",s[2]&&s[3]),C(e,"target",s[2])},m(l,_){S(l,e,_),T(n,e,null),z(e,a),m&&m.m(e,null),s[7](e),i=!0,o||(f=[K(we.call(null,e,[0,.5,.999])),ie(e,"intersect",s[4]),K(Te.call(null,e))],o=!0)},p(l,[_]){const h={};_&1&&(h.title=l[0]),_&256&&(h.$$scope={dirty:_,ctx:l}),!t&&_&8&&(t=!0,h.stuck=l[3],ue(()=>t=!1)),n.$set(h),m&&m.p&&(!i||_&256)&&X(m,u,l,l[8],i?x(u,l[8],_,null):Z(l[8]),null),(!i||_&1&&r!==(r=l[0].toLowerCase()))&&w(e,"id",r),(!i||_&12)&&C(e,"[&~nav_div_a]:pointer-events-none",l[2]&&l[3]),(!i||_&12)&&C(e,"[&~nav_div_a]:-translate-y-full",l[2]&&l[3]),(!i||_&12)&&C(e,"[&~nav_div]:opacity-0",l[2]&&l[3]),(!i||_&4)&&C(e,"target",l[2])},i(l){i||(b(n.$$.fragment,l),b(m,l),i=!0)},o(l){v(n.$$.fragment,l),v(m,l),i=!1},d(l){l&&d(e),y(n),m&&m.d(l),s[7](null),o=!1,fe(f)}}}function Me(s,e,n){let{$$slots:t={},$$scope:a}=e,{name:r}=e;const i=_e("tabs");i.push(r);let o,f=!1,c=!1;function p({detail:l}){if(i.length<=1)return n(2,f=!0);n(2,f=l.intersectionRatio>.5),l.intersectionRatio>=.999&&location.replace(`#${r.toLowerCase()}`)}me(()=>{location.hash===`#${r.toLowerCase()}`&&o.scrollIntoView()});function u(l){c=l,n(3,c)}function m(l){R[l?"unshift":"push"](()=>{o=l,n(1,o)})}return s.$$set=l=>{"name"in l&&n(0,r=l.name),"$$scope"in l&&n(8,a=l.$$scope)},[r,o,f,c,p,t,u,m,a]}class H extends q{constructor(e){super(),G(this,e,Me,Ve,W,{name:0})}}function Y(s,e,n){const t=s.slice();return t[14]=e[n],t[15]=e,t[16]=n,t}function B(s){let e,n,t=s[14]+"",a,r,i=s[16];const o=()=>s[10](e,i),f=()=>s[10](null,i);return{c(){e=A("div"),n=A("a"),a=te(t),r=M(),this.h()},l(c){e=V(c,"DIV",{class:!0,"aria-label":!0});var p=D(e);n=V(p,"A",{href:!0,class:!0});var u=D(n);a=se(u,t),u.forEach(d),r=N(p),p.forEach(d),this.h()},h(){w(n,"href","#"+s[14].toLowerCase()),w(n,"class","block transform-gpu touch-manipulation select-none transition-composite duration-300 will-change-transform focus-visible:underline focus-visible:outline-none hover:text-content-100 svelte-i7fcb6"),w(e,"class","h-11 origin-top-left overflow-hidden pl-4 text-center text-2xl font-normal text-content-200 underline-offset-4 transition-opacity duration-300 ease-in svelte-i7fcb6"),w(e,"aria-label",s[14]),I(e,"transform",s[4][s[16]])},m(c,p){S(c,e,p),z(e,n),z(n,a),z(e,r),o()},p(c,p){s=c,i!==s[16]&&(f(),i=s[16],o()),p&16&&I(e,"transform",s[4][s[16]])},d(c){c&&d(e),f()}}}function De(s){return{c:g,l:g,m:g,p:g,d:g}}function Ne(s){let e,n=s[13]+"",t;return{c(){e=A("style"),t=te(n),this.h()},l(a){e=V(a,"STYLE",{class:!0});var r=D(e);t=se(r,n),r.forEach(d),this.h()},h(){w(e,"class","svelte-i7fcb6")},m(a,r){S(a,e,r),z(e,t)},p:g,d(a){a&&d(e)}}}function Oe(s){return{c:g,l:g,m:g,p:g,d:g}}function Pe(s){let e,n,t,a,r,i,o;const f=s[9].default,c=F(f,s,s[8],null);let p=U(s[5]),u=[];for(let l=0;l<p.length;l+=1)u[l]=B(Y(s,p,l));let m={ctx:s,current:null,token:null,hasCatch:!1,pending:Oe,then:Ne,catch:De,value:13};return Ie(s[6](),m),{c(){e=A("main"),c&&c.c(),n=M(),t=A("nav");for(let l=0;l<u.length;l+=1)u[l].c();r=M(),i=Q(),m.block.c(),this.h()},l(l){e=V(l,"MAIN",{class:!0,style:!0});var _=D(e);c&&c.l(_),n=N(_),t=V(_,"NAV",{class:!0,style:!0});var h=D(t);for(let k=0;k<u.length;k+=1)u[k].l(h);h.forEach(d),_.forEach(d),r=N(l);const $=ee("svelte-173t04m",document.head);i=Q(),m.block.l($),$.forEach(d),this.h()},h(){w(t,"class","pointer-events-none absolute z-10 mt-11 flex origin-top-left transition-opacity contain-layout svelte-i7fcb6"),I(t,"transform-style","preserve-3d"),I(t,"transform",s[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),w(e,"class","grid h-full max-h-[100dvh] snap-x snap-mandatory overflow-y-hidden overflow-x-scroll svelte-i7fcb6"),I(e,"grid","auto / auto-flow 100%"),I(e,"perspective","1px"),I(e,"perspective-origin","top left"),pe(()=>s[12].call(e)),C(e,"scroll-smooth",s[2])},m(l,_){S(l,e,_),c&&c.m(e,null),z(e,n),z(e,t);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(t,null);s[11](e),a=he(e,s[12].bind(e)),S(l,r,_),z(document.head,i),m.block.m(document.head,m.anchor=null),m.mount=()=>i.parentNode,m.anchor=i,o=!0},p(l,[_]){if(s=l,c&&c.p&&(!o||_&256)&&X(c,f,s,s[8],o?x(f,s[8],_,null):Z(s[8]),null),_&49){p=U(s[5]);let h;for(h=0;h<p.length;h+=1){const $=Y(s,p,h);u[h]?u[h].p($,_):(u[h]=B($),u[h].c(),u[h].m(t,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=p.length}_&16&&I(t,"transform",s[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),(!o||_&4)&&C(e,"scroll-smooth",s[2]),ze(m,s,_)},i(l){o||(b(c,l),o=!0)},o(l){v(c,l),o=!1},d(l){l&&(d(e),d(r)),c&&c.d(l),$e(u,l),s[11](null),a(),d(i),m.block.d(),m.token=null,m=null}}}function Re(s,e,n){let t,a,r,{$$slots:i={},$$scope:o}=e;const f=[],c=[];de("tabs",c);let p,u=0;function m(){return c.map($=>`:where(#${$.toLowerCase()}).target~nav>div{color:hsl(var(--color-content-200));pointer-events:auto;font-weight:normal;}:where(#${$.toLowerCase()}:target~nav)>div[aria-label='${$}'],#${$.toLowerCase()}.target~nav>div[aria-label='${$}']{color:hsl(var(--color-content));pointer-events:none;font-weight:bold;}`).join("")}function l($,k){R[$?"unshift":"push"](()=>{f[k]=$,n(0,f)})}function _($){R[$?"unshift":"push"](()=>{p=$,n(3,p)})}function h(){u=this.clientWidth,n(1,u)}return s.$$set=$=>{"$$scope"in $&&n(8,o=$.$$scope)},s.$$.update=()=>{var $;s.$$.dirty&1&&n(7,t=f.map(k=>k.offsetLeft)),s.$$.dirty&131&&n(2,a=t.slice(-1)[0]+(($=f.slice(-1)[0])==null?void 0:$.clientWidth)>=u),s.$$.dirty&134&&n(4,r=t.map((k,re)=>{if(!a)return"";const J=u*re/k||1;return`
      translate3d(${-k}px,-2.75rem,${-J+1}px)
      scale(${J})
      translate3d(${k}px,2.75rem,0)
    `}))},[f,u,a,p,r,c,m,t,o,i,l,_,h]}class je extends q{constructor(e){super(),G(this,e,Re,Pe,W,{})}}function He(s){let e,n;return e=new ae({props:{style:"playlist",filter:s[0],of:s[1],expandable:!0,editable:!0}}),e.$on("rearrange",s[4]),e.$on("create",s[5]),{c(){L(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){T(e,t,a),n=!0},p(t,a){const r={};a&1&&(r.filter=t[0]),a&2&&(r.of=t[1]),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function We(s){let e,n;return e=new ne({props:{grow:!0,p:!0,$$slots:{default:[He]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){T(e,t,a),n=!0},p(t,a){const r={};a&67&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function qe(s){let e,n;return e=new ae({props:{style:"artist",of:s[2],filter:s[0]}}),{c(){L(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){T(e,t,a),n=!0},p(t,a){const r={};a&4&&(r.of=t[2]),a&1&&(r.filter=t[0]),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ge(s){let e,n;return e=new ne({props:{grow:!0,p:!0,$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){T(e,t,a),n=!0},p(t,a){const r={};a&69&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Je(s){let e,n="";return{c(){e=A("div"),e.innerHTML=n},l(t){e=V(t,"DIV",{"data-svelte-h":!0}),ge(e)!=="svelte-17lvuvg"&&(e.innerHTML=n)},m(t,a){S(t,e,a)},p:g,d(t){t&&d(e)}}}function Ke(s){let e,n;return e=new Se({props:{tracks:s[3],timeline:!0,fixed:!0,$$slots:{default:[Je]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,a){T(e,t,a),n=!0},p(t,a){const r={};a&8&&(r.tracks=t[3]),a&64&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Qe(s){let e,n,t,a,r,i;return e=new H({props:{name:"Playlists",$$slots:{default:[We]},$$scope:{ctx:s}}}),t=new H({props:{name:"Artists",$$slots:{default:[Ge]},$$scope:{ctx:s}}}),r=new H({props:{name:"Timeline",$$slots:{default:[Ke]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment),n=M(),L(t.$$.fragment),a=M(),L(r.$$.fragment)},l(o){E(e.$$.fragment,o),n=N(o),E(t.$$.fragment,o),a=N(o),E(r.$$.fragment,o)},m(o,f){T(e,o,f),S(o,n,f),T(t,o,f),S(o,a,f),T(r,o,f),i=!0},p(o,f){const c={};f&67&&(c.$$scope={dirty:f,ctx:o}),e.$set(c);const p={};f&69&&(p.$$scope={dirty:f,ctx:o}),t.$set(p);const u={};f&72&&(u.$$scope={dirty:f,ctx:o}),r.$set(u)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),b(r.$$.fragment,o),i=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),v(r.$$.fragment,o),i=!1},d(o){o&&(d(n),d(a)),y(e,o),y(t,o),y(r,o)}}}function Ue(s){let e,n,t;return e=new je({props:{$$slots:{default:[Qe]},$$scope:{ctx:s}}}),{c(){L(e.$$.fragment),n=M(),this.h()},l(a){E(e.$$.fragment,a),n=N(a),ee("svelte-vup3nb",document.head).forEach(d),this.h()},h(){document.title="Library - Amadeus"},m(a,r){T(e,a,r),S(a,n,r),t=!0},p(a,[r]){const i={};r&79&&(i.$$scope={dirty:r,ctx:a}),e.$set(i)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){a&&d(n),y(e,a)}}}function Ye(s,e,n){let t,a,r,i;return P(s,Ce,c=>n(0,t=c)),P(s,j,c=>n(1,a=c)),P(s,Le,c=>n(2,r=c)),P(s,Ee,c=>n(3,i=c)),[t,a,r,i,({detail:c})=>j.rearrange(c.id,c.after),()=>j.create({title:Math.random().toString(36).slice(2)})]}class at extends q{constructor(e){super(),G(this,e,Ye,Ue,W,{})}}export{at as component};
