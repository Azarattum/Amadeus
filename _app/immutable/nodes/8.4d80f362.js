import{S as W,i as j,s as B,w as q,T as ae,F as U,k as A,y as E,a as M,l as V,m as D,z as L,c as N,h as d,n as k,M as C,b as I,A as y,D as z,U as G,L as re,V as le,G as X,H as Y,I as K,g as v,d as b,B as T,$ as oe,J as ie,o as fe,O as g,a0 as ce,e as H,C as Z,p as S,a1 as ue,a2 as me,a3 as _e,Q as pe,X as $e,q as x,r as ee,E as O}from"../chunks/index.84a1bd3e.js";import{m as he,p as P,s as de,f as ge,t as ve}from"../chunks/Track.c22c5dae.js";import{S as te}from"../chunks/Spinner.svelte_svelte_type_style_lang.4d5655d2.js";import{a as be}from"../chunks/autoscroll.f9336893.js";import"../chunks/paths.b27f9a22.js";import{T as we}from"../chunks/util.bbe77a4e.js";import{O as ne}from"../chunks/Overview.305a042e.js";import{T as ke}from"../chunks/Player.4ea8494f.js";function Ce(n){let e;return{c(){e=A("div"),this.h()},l(s){e=V(s,"DIV",{class:!0}),D(e).forEach(d),this.h()},h(){k(e,"class","py-11")},m(s,t){I(s,e,t)},p:g,d(s){s&&d(e)}}}function Ee(n){let e,s,t,a,l,f,o,m;function i(r){n[6](r)}let $={title:n[0],$$slots:{default:[Ce]},$$scope:{ctx:n}};n[3]!==void 0&&($.stuck=n[3]),s=new we({props:$}),q.push(()=>ae(s,"stuck",i));const u=n[5].default,_=U(u,n,n[8],null);return{c(){e=A("section"),E(s.$$.fragment),a=M(),_&&_.c(),this.h()},l(r){e=V(r,"SECTION",{id:!0,class:!0});var c=D(e);L(s.$$.fragment,c),a=N(c),_&&_.l(c),c.forEach(d),this.h()},h(){k(e,"id",l=n[0].toLowerCase()),k(e,"class","relative z-10 h-full w-full snap-start snap-always overflow-x-hidden overflow-y-scroll"),C(e,"[&~nav_div_a]:pointer-events-none",n[2]&&n[3]),C(e,"[&~nav_div_a]:-translate-y-full",n[2]&&n[3]),C(e,"[&~nav_div]:opacity-0",n[2]&&n[3]),C(e,"target",n[2])},m(r,c){I(r,e,c),y(s,e,null),z(e,a),_&&_.m(e,null),n[7](e),f=!0,o||(m=[G(he.call(null,e,[0,.5,.999])),re(e,"intersect",n[4]),G(be.call(null,e))],o=!0)},p(r,[c]){const p={};c&1&&(p.title=r[0]),c&256&&(p.$$scope={dirty:c,ctx:r}),!t&&c&8&&(t=!0,p.stuck=r[3],le(()=>t=!1)),s.$set(p),_&&_.p&&(!f||c&256)&&X(_,u,r,r[8],f?K(u,r[8],c,null):Y(r[8]),null),(!f||c&1&&l!==(l=r[0].toLowerCase()))&&k(e,"id",l),(!f||c&12)&&C(e,"[&~nav_div_a]:pointer-events-none",r[2]&&r[3]),(!f||c&12)&&C(e,"[&~nav_div_a]:-translate-y-full",r[2]&&r[3]),(!f||c&12)&&C(e,"[&~nav_div]:opacity-0",r[2]&&r[3]),(!f||c&4)&&C(e,"target",r[2])},i(r){f||(v(s.$$.fragment,r),v(_,r),f=!0)},o(r){b(s.$$.fragment,r),b(_,r),f=!1},d(r){r&&d(e),T(s),_&&_.d(r),n[7](null),o=!1,oe(m)}}}function Le(n,e,s){let{$$slots:t={},$$scope:a}=e,{name:l}=e;const f=ie("tabs");f.push(l);let o,m=!1,i=!1;function $({detail:r}){if(f.length<=1)return s(2,m=!0);s(2,m=r.intersectionRatio>.5),r.intersectionRatio>=.999&&location.replace(`#${l.toLowerCase()}`)}fe(()=>{location.hash===`#${l.toLowerCase()}`&&o.scrollIntoView()});function u(r){i=r,s(3,i)}function _(r){q[r?"unshift":"push"](()=>{o=r,s(1,o)})}return n.$$set=r=>{"name"in r&&s(0,l=r.name),"$$scope"in r&&s(8,a=r.$$scope)},[l,o,m,i,$,t,u,_,a]}class R extends W{constructor(e){super(),j(this,e,Le,Ee,B,{name:0})}}function J(n,e,s){const t=n.slice();return t[14]=e[s],t[15]=e,t[16]=s,t}function Q(n){let e,s,t=n[14]+"",a,l,f=n[16];const o=()=>n[10](e,f),m=()=>n[10](null,f);return{c(){e=A("div"),s=A("a"),a=x(t),l=M(),this.h()},l(i){e=V(i,"DIV",{class:!0,"aria-label":!0});var $=D(e);s=V($,"A",{href:!0,class:!0});var u=D(s);a=ee(u,t),u.forEach(d),l=N($),$.forEach(d),this.h()},h(){k(s,"href","#"+n[14].toLowerCase()),k(s,"class","block transform-gpu touch-manipulation select-none transition-composite duration-300 will-change-transform focus-visible:underline focus-visible:outline-none hover:text-content-100 svelte-i7fcb6"),k(e,"class","h-11 origin-top-left overflow-hidden pl-4 text-center text-2xl font-normal text-content-200 underline-offset-4 transition-opacity duration-300 ease-in svelte-i7fcb6"),k(e,"aria-label",n[14]),S(e,"transform",n[4][n[16]])},m(i,$){I(i,e,$),z(e,s),z(s,a),z(e,l),o()},p(i,$){n=i,f!==n[16]&&(m(),f=n[16],o()),$&16&&S(e,"transform",n[4][n[16]])},d(i){i&&d(e),m()}}}function ye(n){return{c:g,l:g,m:g,p:g,d:g}}function Te(n){let e,s=n[13]+"",t;return{c(){e=A("style"),t=x(s),this.h()},l(a){e=V(a,"STYLE",{class:!0});var l=D(e);t=ee(l,s),l.forEach(d),this.h()},h(){k(e,"class","svelte-i7fcb6")},m(a,l){I(a,e,l),z(e,t)},p:g,d(a){a&&d(e)}}}function Ie(n){return{c:g,l:g,m:g,p:g,d:g}}function Se(n){let e,s,t,a,l,f,o;const m=n[9].default,i=U(m,n,n[8],null);let $=n[5],u=[];for(let r=0;r<$.length;r+=1)u[r]=Q(J(n,$,r));let _={ctx:n,current:null,token:null,hasCatch:!1,pending:Ie,then:Te,catch:ye,value:13};return ce(n[6](),_),{c(){e=A("main"),i&&i.c(),s=M(),t=A("nav");for(let r=0;r<u.length;r+=1)u[r].c();l=M(),f=H(),_.block.c(),this.h()},l(r){e=V(r,"MAIN",{class:!0,style:!0});var c=D(e);i&&i.l(c),s=N(c),t=V(c,"NAV",{class:!0,style:!0});var p=D(t);for(let w=0;w<u.length;w+=1)u[w].l(p);p.forEach(d),c.forEach(d),l=N(r);const h=Z("svelte-173t04m",document.head);f=H(),_.block.l(h),h.forEach(d),this.h()},h(){k(t,"class","pointer-events-none absolute z-10 mt-11 flex origin-top-left transition-opacity contain-layout svelte-i7fcb6"),S(t,"transform-style","preserve-3d"),S(t,"transform",n[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),k(e,"class","grid h-full max-h-[100dvh] snap-x snap-mandatory overflow-y-hidden overflow-x-scroll svelte-i7fcb6"),S(e,"grid","auto / auto-flow 100%"),S(e,"perspective","1px"),S(e,"perspective-origin","top left"),ue(()=>n[12].call(e)),C(e,"scroll-smooth",n[2])},m(r,c){I(r,e,c),i&&i.m(e,null),z(e,s),z(e,t);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);n[11](e),a=me(e,n[12].bind(e)),I(r,l,c),z(document.head,f),_.block.m(document.head,_.anchor=null),_.mount=()=>f.parentNode,_.anchor=f,o=!0},p(r,[c]){if(n=r,i&&i.p&&(!o||c&256)&&X(i,m,n,n[8],o?K(m,n[8],c,null):Y(n[8]),null),c&49){$=n[5];let p;for(p=0;p<$.length;p+=1){const h=J(n,$,p);u[p]?u[p].p(h,c):(u[p]=Q(h),u[p].c(),u[p].m(t,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=$.length}c&16&&S(t,"transform",n[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),(!o||c&4)&&C(e,"scroll-smooth",n[2]),_e(_,n,c)},i(r){o||(v(i,r),o=!0)},o(r){b(i,r),o=!1},d(r){r&&d(e),i&&i.d(r),pe(u,r),n[11](null),a(),r&&d(l),d(f),_.block.d(),_.token=null,_=null}}}function ze(n,e,s){let t,a,l,{$$slots:f={},$$scope:o}=e;const m=[],i=[];$e("tabs",i);let $,u=0;function _(){return i.map(h=>`:where(#${h.toLowerCase()}).target~nav>div{color:hsl(var(--color-content-200));pointer-events:auto;font-weight:normal;}:where(#${h.toLowerCase()}:target~nav)>div[aria-label='${h}'],#${h.toLowerCase()}.target~nav>div[aria-label='${h}']{color:hsl(var(--color-content));pointer-events:none;font-weight:bold;}`).join("")}function r(h,w){q[h?"unshift":"push"](()=>{m[w]=h,s(0,m)})}function c(h){q[h?"unshift":"push"](()=>{$=h,s(3,$)})}function p(){u=this.clientWidth,s(1,u)}return n.$$set=h=>{"$$scope"in h&&s(8,o=h.$$scope)},n.$$.update=()=>{var h;n.$$.dirty&1&&s(7,t=m.map(w=>w.offsetLeft)),n.$$.dirty&131&&s(2,a=t.slice(-1)[0]+((h=m.slice(-1)[0])==null?void 0:h.clientWidth)>=u),n.$$.dirty&134&&s(4,l=t.map((w,se)=>{if(!a)return"";const F=u*se/w||1;return`
      translate3d(${-w}px,-2.75rem,${-F+1}px)
      scale(${F})
      translate3d(${w}px,2.75rem,0)
    `}))},[m,u,a,$,l,i,_,t,o,f,r,c,p]}class Ae extends W{constructor(e){super(),j(this,e,ze,Se,B,{})}}function Ve(n){let e,s;return e=new ne({props:{style:"playlist",filter:n[0],of:n[1],expandable:!0,editable:!0}}),e.$on("rearrange",n[4]),e.$on("create",n[5]),{c(){E(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){y(e,t,a),s=!0},p(t,a){const l={};a&1&&(l.filter=t[0]),a&2&&(l.of=t[1]),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function De(n){let e,s;return e=new te({props:{grow:!0,p:!0,$$slots:{default:[Ve]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){y(e,t,a),s=!0},p(t,a){const l={};a&67&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Me(n){let e,s;return e=new ne({props:{style:"artist",of:n[2],filter:n[0]}}),{c(){E(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){y(e,t,a),s=!0},p(t,a){const l={};a&4&&(l.of=t[2]),a&1&&(l.filter=t[0]),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Ne(n){let e,s;return e=new te({props:{grow:!0,p:!0,$$slots:{default:[Me]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){y(e,t,a),s=!0},p(t,a){const l={};a&69&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Oe(n){let e;return{c(){e=A("div")},l(s){e=V(s,"DIV",{});var t=D(e);t.forEach(d)},m(s,t){I(s,e,t)},p:g,d(s){s&&d(e)}}}function qe(n){let e,s;return e=new ke({props:{tracks:n[3],timeline:!0,fixed:!0,$$slots:{default:[Oe]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){y(e,t,a),s=!0},p(t,a){const l={};a&8&&(l.tracks=t[3]),a&64&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Pe(n){let e,s,t,a,l,f;return e=new R({props:{name:"Playlists",$$slots:{default:[De]},$$scope:{ctx:n}}}),t=new R({props:{name:"Artists",$$slots:{default:[Ne]},$$scope:{ctx:n}}}),l=new R({props:{name:"Timeline",$$slots:{default:[qe]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment),s=M(),E(t.$$.fragment),a=M(),E(l.$$.fragment)},l(o){L(e.$$.fragment,o),s=N(o),L(t.$$.fragment,o),a=N(o),L(l.$$.fragment,o)},m(o,m){y(e,o,m),I(o,s,m),y(t,o,m),I(o,a,m),y(l,o,m),f=!0},p(o,m){const i={};m&67&&(i.$$scope={dirty:m,ctx:o}),e.$set(i);const $={};m&69&&($.$$scope={dirty:m,ctx:o}),t.$set($);const u={};m&72&&(u.$$scope={dirty:m,ctx:o}),l.$set(u)},i(o){f||(v(e.$$.fragment,o),v(t.$$.fragment,o),v(l.$$.fragment,o),f=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(l.$$.fragment,o),f=!1},d(o){T(e,o),o&&d(s),T(t,o),o&&d(a),T(l,o)}}}function Re(n){let e,s,t;return e=new Ae({props:{$$slots:{default:[Pe]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment),s=M(),this.h()},l(a){L(e.$$.fragment,a),s=N(a),Z("svelte-vup3nb",document.head).forEach(d),this.h()},h(){document.title="Library - Amadeus"},m(a,l){y(e,a,l),I(a,s,l),t=!0},p(a,[l]){const f={};l&79&&(f.$$scope={dirty:l,ctx:a}),e.$set(f)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){T(e,a),a&&d(s)}}}function We(n,e,s){let t,a,l,f;return O(n,de,i=>s(0,t=i)),O(n,P,i=>s(1,a=i)),O(n,ge,i=>s(2,l=i)),O(n,ve,i=>s(3,f=i)),[t,a,l,f,({detail:i})=>P.rearrange(i.id,i.after),()=>P.create({title:Math.random().toString(36).slice(2)})]}class Xe extends W{constructor(e){super(),j(this,e,We,Re,B,{})}}export{Xe as component};
