import{s as B,p as I,a as q,c as v,r as z,d as w,i as E,K as F,v as b,F as G,G as S}from"../chunks/scheduler.8f775f3a.js";import{S as K,i as P,f as j,b as p,d as m,m as $,a as d,t as _,e as g}from"../chunks/index.3432bd78.js";import{B as D,I as A}from"../chunks/Spinner.svelte_svelte_type_style_lang.23bdde97.js";import"../chunks/paths.b199e526.js";import{p as H}from"../chunks/stores.b178a123.js";import{a as k,l as C,p as J}from"../chunks/Track.1c0e7761.js";import{C as L}from"../chunks/Collection.6c50a7c9.js";function M(o){let t,n;return t=new A({props:{name:"trash"}}),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p:S,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function N(o){let t,n;return t=new D({props:{air:!0,stretch:!0,$$slots:{default:[M]},$$scope:{ctx:o}}}),t.$on("click",o[3]),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p(e,a){const l={};a&256&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function O(o){let t,n;return t=new A({props:{name:"last",slot:"action"}}),{c(){p(t.$$.fragment)},l(e){m(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p:S,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function Q(o){let t,n,e,a,l;function f(r){o[6](r)}let c={of:o[0],style:"playlist",$$slots:{action:[O],default:[N]},$$scope:{ctx:o}};return o[1]!==void 0&&(c.selected=o[1]),t=new L({props:c}),I.push(()=>j(t,"selected",f)),t.$on("edit",o[2]),document.title=a=(o[0]?`${o[0].title} - `:"")+"Amadeus",{c(){p(t.$$.fragment),e=q()},l(r){m(t.$$.fragment,r),e=v(r),z("svelte-pttznx",document.head).forEach(w)},m(r,i){$(t,r,i),E(r,e,i),l=!0},p(r,[i]){const u={};i&1&&(u.of=r[0]),i&256&&(u.$$scope={dirty:i,ctx:r}),!n&&i&2&&(n=!0,u.selected=r[1],F(()=>n=!1)),t.$set(u),(!l||i&1)&&a!==(a=(r[0]?`${r[0].title} - `:"")+"Amadeus")&&(document.title=a)},i(r){l||(d(t.$$.fragment,r),l=!0)},o(r){_(t.$$.fragment,r),l=!1},d(r){r&&w(e),g(t,r)}}}function R(o,t,n){let e,a,l,f;b(o,k,s=>n(7,a=s)),b(o,H,s=>n(4,l=s)),b(o,J,s=>n(5,f=s));let c=new Set;function r({detail:{action:s,after:h,item:y}}){y.entry&&s==="rearrange"&&C.rearrange(y.entry,h==null?void 0:h.entry)}function i(){C.purge([...c].map(s=>s.entry).filter(s=>!!s)),c.clear(),n(1,c)}function u(s){c=s,n(1,c)}return o.$$.update=()=>{o.$$.dirty&48&&n(0,e=f.find(s=>s.id===+l.url.hash.slice(1))),o.$$.dirty&1&&G(k,a=e?[e.title,"disk"]:null,a)},[e,c,r,i,l,f,u]}class x extends K{constructor(t){super(),P(this,t,R,Q,B,{})}}export{x as component};
