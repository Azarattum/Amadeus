import{s as F,w as me,f as V,a as S,l as z,g as j,h as H,c as I,d,r as fe,m as T,j as N,k as W,i as w,u as q,x as pe,y as _e,z as ge,v as C,A as de,L as he,M as oe,e as X,I as be,G as K,n as ve,p as Z,K as x,F as ke}from"../chunks/scheduler.8f775f3a.js";import{S as M,i as R,a as _,t as g,b as h,d as b,m as v,e as k,g as P,c as B,f as ee}from"../chunks/index.3432bd78.js";import{u as we,S as ue,H as G,B as O,I as U,d as ye}from"../chunks/Spinner.svelte_svelte_type_style_lang.24c9e146.js";import{h as Q,e as te,p as Ee,l as Se,P as Ie,b as ze,d as Y,t as Te,f as Ae,g as qe,s as J,W as De}from"../chunks/Track.ebb2f0bf.js";import{w as Ve}from"../chunks/paths.efb1cef9.js";import{n as je,p as He}from"../chunks/stores.20c8bb4c.js";import{I as Le}from"../chunks/Input.e2885cd3.js";import{S as Ne,T as ie,a as Ce}from"../chunks/Player.ad1ead1b.js";import{T as Oe}from"../chunks/util.382538a3.js";import{m as Pe}from"../chunks/stream.d6a8f9f9.js";import{O as $e}from"../chunks/Overview.33f93d5c.js";import{S as Be}from"../chunks/Spacer.717899da.js";function Ge(a){let e,r,t,l=`calc((100% - ${.5*(a[1]-1)+.25}rem) / ${a[1]})`,f="calc(100% - 0.25rem)",o,s=`repeat(${a[1]}, minmax(0, 1fr))`,n,$,c,u;const m=a[9].default,i=me(m,a,a[8],null);return{c(){e=V("div"),i&&i.c(),r=S(),t=V("div"),n=S(),$=V("style"),c=z(a[5]),this.h()},l(p){e=j(p,"DIV",{id:!0,class:!0});var y=H(e);i&&i.l(y),r=I(y),t=j(y,"DIV",{class:!0}),H(t).forEach(d),y.forEach(d),n=I(p);const D=fe("svelte-1hzlque",document.head);$=j(D,"STYLE",{});var L=H($);c=T(L,a[5]),L.forEach(d),D.forEach(d),this.h()},h(){N(t,"class","pointer-events-none absolute left-0.5 top-0.5 -z-10 rounded-md bg-primary-600 transition-transform"),W(t,"width",l),W(t,"height",f),N(e,"id",a[2]),N(e,"class",o="relative z-10 grid min-w-max touch-manipulation justify-around justify-items-center gap-2 rounded-lg p-0.5 outline-2 outline-offset-2 outline-primary-600 [&:has(input:focus-visible)]:outline "+(a[0]?"w-full":"w-max")+" "+(a[4]?"":"bg-highlight")),W(e,"grid-template-columns",s)},m(p,y){w(p,e,y),i&&i.m(e,null),q(e,r),q(e,t),w(p,n,y),q(document.head,$),q($,c),u=!0},p(p,[y]){i&&i.p&&(!u||y&256)&&pe(i,m,p,p[8],u?ge(m,p[8],y,null):_e(p[8]),null),y&2&&l!==(l=`calc((100% - ${.5*(p[1]-1)+.25}rem) / ${p[1]})`)&&W(t,"width",l),(!u||y&1&&o!==(o="relative z-10 grid min-w-max touch-manipulation justify-around justify-items-center gap-2 rounded-lg p-0.5 outline-2 outline-offset-2 outline-primary-600 [&:has(input:focus-visible)]:outline "+(p[0]?"w-full":"w-max")+" "+(p[4]?"":"bg-highlight")))&&N(e,"class",o),y&2&&s!==(s=`repeat(${p[1]}, minmax(0, 1fr))`)&&W(e,"grid-template-columns",s)},i(p){u||(_(i,p),u=!0)},o(p){g(i,p),u=!1},d(p){p&&(d(e),d(n)),i&&i.d(p),d($)}}}function We(a,e,r){let t,{$$slots:l={},$$scope:f}=e,{stretch:o=!1}=e,{size:s}=e,{value:n=0}=e;const $=we(),c=Ve(n);C(a,c,i=>r(7,t=i));const u=!!de("panel");he("group",{id:$,size:s,value:c,i:0});const m=Array.from({length:s}).map((i,p)=>`#${$} :has([name="${$}"]:checked):nth-last-of-type(${p+1})~div:last-child{transform:translateX(calc(${(s-p-1)*100}% + ${(s-p-1)*8}px));}`).join("");return a.$$set=i=>{"stretch"in i&&r(0,o=i.stretch),"size"in i&&r(1,s=i.size),"value"in i&&r(6,n=i.value),"$$scope"in i&&r(8,f=i.$$scope)},a.$$.update=()=>{a.$$.dirty&128&&r(6,n=t),a.$$.dirty&64&&c.set(n)},[o,s,$,c,u,m,n,t,f,l]}class Fe extends M{constructor(e){super(),R(this,e,We,Ge,F,{stretch:0,size:1,value:6})}}function re(a){let e,r,t,l,f;return r=new G({props:{sm:!0,$$slots:{default:[Ke]},$$scope:{ctx:a}}}),l=new $e({props:{style:a[0],of:a[1]}}),{c(){e=V("div"),h(r.$$.fragment),t=S(),h(l.$$.fragment)},l(o){e=j(o,"DIV",{});var s=H(e);b(r.$$.fragment,s),t=I(s),b(l.$$.fragment,s),s.forEach(d)},m(o,s){w(o,e,s),v(r,e,null),q(e,t),v(l,e,null),f=!0},p(o,s){const n={};s&16&&(n.$$scope={dirty:s,ctx:o}),r.$set(n);const $={};s&1&&($.style=o[0]),s&2&&($.of=o[1]),l.$set($)},i(o){f||(_(r.$$.fragment,o),_(l.$$.fragment,o),f=!0)},o(o){g(r.$$.fragment,o),g(l.$$.fragment,o),f=!1},d(o){o&&d(e),k(r),k(l)}}}function Ke(a){let e;return{c(){e=z("Library")},l(r){e=T(r,"Library")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function Me(a){let e;return{c(){e=z("Search")},l(r){e=T(r,"Search")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function Re(a){let e,r,t,l,f,o,s=a[1].length&&re(a);return t=new G({props:{sm:!0,$$slots:{default:[Me]},$$scope:{ctx:a}}}),f=new $e({props:{style:a[0],of:a[2],href:"/explore"}}),f.$on("end",a[3]),{c(){s&&s.c(),e=S(),r=V("div"),h(t.$$.fragment),l=S(),h(f.$$.fragment)},l(n){s&&s.l(n),e=I(n),r=j(n,"DIV",{});var $=H(r);b(t.$$.fragment,$),l=I($),b(f.$$.fragment,$),$.forEach(d)},m(n,$){s&&s.m(n,$),w(n,e,$),w(n,r,$),v(t,r,null),q(r,l),v(f,r,null),o=!0},p(n,$){n[1].length?s?(s.p(n,$),$&2&&_(s,1)):(s=re(n),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(P(),g(s,1,1,()=>{s=null}),B());const c={};$&16&&(c.$$scope={dirty:$,ctx:n}),t.$set(c);const u={};$&1&&(u.style=n[0]),$&4&&(u.of=n[2]),f.$set(u)},i(n){o||(_(s),_(t.$$.fragment,n),_(f.$$.fragment,n),o=!0)},o(n){g(s),g(t.$$.fragment,n),g(f.$$.fragment,n),o=!1},d(n){n&&(d(e),d(r)),s&&s.d(n),k(t),k(f)}}}function Ue(a){let e,r;return e=new ue({props:{class:"gap-4 p-4",$$slots:{default:[Re]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,[l]){const f={};l&23&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Xe(a,e,r){let{style:t}=e,{local:l}=e,{remote:f}=e;function o(s){oe.call(this,a,s)}return a.$$set=s=>{"style"in s&&r(0,t=s.style),"local"in s&&r(1,l=s.local),"remote"in s&&r(2,f=s.remote)},[t,l,f,o]}class ce extends M{constructor(e){super(),R(this,e,Xe,Ue,F,{style:0,local:1,remote:2})}}function ne(a,e,r){const t=a.slice();return t[3]=e[r],t}function se(a){let e,r,t,l,f,o;r=new ue({props:{x:!0,class:"place-items-baseline",$$slots:{default:[Qe]},$$scope:{ctx:a}}}),l=new Ne({});let s=te(a[1].slice(0,6)),n=[];for(let c=0;c<s.length;c+=1)n[c]=le(ne(a,s,c));const $=c=>g(n[c],1,1,()=>{n[c]=null});return{c(){e=V("div"),h(r.$$.fragment),t=S(),h(l.$$.fragment),f=S();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=j(c,"DIV",{class:!0});var u=H(e);b(r.$$.fragment,u),t=I(u),b(l.$$.fragment,u),f=I(u);for(let m=0;m<n.length;m+=1)n[m].l(u);u.forEach(d),this.h()},h(){N(e,"class","m-auto max-w-xl p-8 [&>*:first-child]:opacity-50")},m(c,u){w(c,e,u),v(r,e,null),q(e,t),v(l,e,null),q(e,f);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,null);o=!0},p(c,u){const m={};if(u&64&&(m.$$scope={dirty:u,ctx:c}),r.$set(m),u&3){s=te(c[1].slice(0,6));let i;for(i=0;i<s.length;i+=1){const p=ne(c,s,i);n[i]?(n[i].p(p,u),_(n[i],1)):(n[i]=le(p),n[i].c(),_(n[i],1),n[i].m(e,null))}for(P(),i=s.length;i<n.length;i+=1)$(i);B()}},i(c){if(!o){_(r.$$.fragment,c),_(l.$$.fragment,c);for(let u=0;u<s.length;u+=1)_(n[u]);o=!0}},o(c){g(r.$$.fragment,c),g(l.$$.fragment,c),n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)g(n[u]);o=!1},d(c){c&&d(e),k(r),k(l),be(n,c)}}}function Ye(a){let e;return{c(){e=z("History")},l(r){e=T(r,"History")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function Je(a){let e,r;return e=new U({props:{name:"trash"}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p:K,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Qe(a){let e,r,t,l,f,o;return e=new G({props:{center:!0,sm:!0,$$slots:{default:[Ye]},$$scope:{ctx:a}}}),t=new Be({}),f=new O({props:{air:!0,$$slots:{default:[Je]},$$scope:{ctx:a}}}),f.$on("click",a[2]),{c(){h(e.$$.fragment),r=S(),h(t.$$.fragment),l=S(),h(f.$$.fragment)},l(s){b(e.$$.fragment,s),r=I(s),b(t.$$.fragment,s),l=I(s),b(f.$$.fragment,s)},m(s,n){v(e,s,n),w(s,r,n),v(t,s,n),w(s,l,n),v(f,s,n),o=!0},p(s,n){const $={};n&64&&($.$$scope={dirty:n,ctx:s}),e.$set($);const c={};n&64&&(c.$$scope={dirty:n,ctx:s}),f.$set(c)},i(s){o||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(f.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),g(f.$$.fragment,s),o=!1},d(s){s&&(d(r),d(l)),k(e,s),k(t,s),k(f,s)}}}function Ze(a){let e=a[3].query+"",r;return{c(){r=z(e)},l(t){r=T(t,e)},m(t,l){w(t,r,l)},p(t,l){l&2&&e!==(e=t[3].query+"")&&ve(r,e)},d(t){t&&d(r)}}}function le(a){let e,r;return e=new O({props:{air:!0,stretch:!0,href:"#"+a[0]+"/"+a[3].query,$$slots:{default:[Ze]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&3&&(f.href="#"+t[0]+"/"+t[3].query),l&66&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function xe(a){let e,r,t=a[1].length&&se(a);return{c(){t&&t.c(),e=X()},l(l){t&&t.l(l),e=X()},m(l,f){t&&t.m(l,f),w(l,e,f),r=!0},p(l,[f]){l[1].length?t?(t.p(l,f),f&2&&_(t,1)):(t=se(l),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(P(),g(t,1,1,()=>{t=null}),B())},i(l){r||(_(t),r=!0)},o(l){g(t),r=!1},d(l){l&&d(e),t&&t.d(l)}}}function et(a,e,r){let t;C(a,Q,o=>r(1,t=o));let{type:l="tracks"}=e;const f=()=>Q.clear();return a.$$set=o=>{"type"in o&&r(0,l=o.type)},[l,t,f]}class tt extends M{constructor(e){super(),R(this,e,et,xe,F,{type:0})}}function ae(a){let e,r,t,l,f;return r=new G({props:{sm:!0,indent:!0,$$slots:{default:[rt]},$$scope:{ctx:a}}}),l=new ie({props:{fixed:!0,tracks:a[0],$$slots:{action:[nt]},$$scope:{ctx:a}}}),{c(){e=V("div"),h(r.$$.fragment),t=S(),h(l.$$.fragment),this.h()},l(o){e=j(o,"DIV",{class:!0});var s=H(e);b(r.$$.fragment,s),t=I(s),b(l.$$.fragment,s),s.forEach(d),this.h()},h(){N(e,"class","pt-4")},m(o,s){w(o,e,s),v(r,e,null),q(e,t),v(l,e,null),f=!0},p(o,s){const n={};s&512&&(n.$$scope={dirty:s,ctx:o}),r.$set(n);const $={};s&1&&($.tracks=o[0]),s&512&&($.$$scope={dirty:s,ctx:o}),l.$set($)},i(o){f||(_(r.$$.fragment,o),_(l.$$.fragment,o),f=!0)},o(o){g(r.$$.fragment,o),g(l.$$.fragment,o),f=!1},d(o){o&&d(e),k(r),k(l)}}}function rt(a){let e;return{c(){e=z("Library")},l(r){e=T(r,"Library")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function nt(a){let e,r;return e=new U({props:{name:"last",slot:"action"}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p:K,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function st(a){let e;return{c(){e=z("Search")},l(r){e=T(r,"Search")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function lt(a){let e,r;return e=new U({props:{name:"save"}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p:K,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function at(a){let e,r;return e=new O({props:{air:!0,stretch:!0,$$slots:{default:[lt]},$$scope:{ctx:a}}}),e.$on("click",a[4]),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&512&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function ft(a){let e,r;return e=new U({props:{name:"save",slot:"action"}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p:K,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function ot(a){let e,r,t,l,f,o,s,n=a[0].length&&ae(a);t=new G({props:{sm:!0,indent:!0,$$slots:{default:[st]},$$scope:{ctx:a}}});function $(u){a[5](u)}let c={fixed:!0,tracks:a[1],$$slots:{action:[ft],default:[at]},$$scope:{ctx:a}};return a[2]!==void 0&&(c.selected=a[2]),f=new ie({props:c}),Z.push(()=>ee(f,"selected",$)),f.$on("end",a[6]),f.$on("action",a[7]),{c(){n&&n.c(),e=S(),r=V("div"),h(t.$$.fragment),l=S(),h(f.$$.fragment),this.h()},l(u){n&&n.l(u),e=I(u),r=j(u,"DIV",{class:!0});var m=H(r);b(t.$$.fragment,m),l=I(m),b(f.$$.fragment,m),m.forEach(d),this.h()},h(){N(r,"class","pt-4")},m(u,m){n&&n.m(u,m),w(u,e,m),w(u,r,m),v(t,r,null),q(r,l),v(f,r,null),s=!0},p(u,[m]){u[0].length?n?(n.p(u,m),m&1&&_(n,1)):(n=ae(u),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(P(),g(n,1,1,()=>{n=null}),B());const i={};m&512&&(i.$$scope={dirty:m,ctx:u}),t.$set(i);const p={};m&2&&(p.tracks=u[1]),m&516&&(p.$$scope={dirty:m,ctx:u}),!o&&m&4&&(o=!0,p.selected=u[2],x(()=>o=!1)),f.$set(p)},i(u){s||(_(n),_(t.$$.fragment,u),_(f.$$.fragment,u),s=!0)},o(u){g(n),g(t.$$.fragment,u),g(f.$$.fragment,u),s=!1},d(u){u&&(d(e),d(r)),n&&n.d(u),k(t),k(f)}}}function ut(a,e,r){let t;C(a,Ee,m=>r(8,t=m));let{local:l}=e,{remote:f}=e,o=new Set;function s(m){Se.push([...m],t[0].id),m==o&&(o.clear(),r(2,o))}const n=()=>s(o);function $(m){o=m,r(2,o)}function c(m){oe.call(this,a,m)}const u=({detail:m})=>s([m]);return a.$$set=m=>{"local"in m&&r(0,l=m.local),"remote"in m&&r(1,f=m.remote)},[l,f,o,s,n,$,c,u]}class it extends M{constructor(e){super(),R(this,e,ut,ot,F,{local:0,remote:1})}}function $t(a){let e;return{c(){e=z("Explore")},l(r){e=T(r,"Explore")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function ct(a){let e,r;return e=new G({props:{xl:!0,indent:!0,$$slots:{default:[$t]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&32768&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function mt(a){let e,r;return e=new tt({props:{type:a[6][a[0]]}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&1&&(f.type=t[6][t[0]]),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function pt(a){let e,r,t,l;const f=[dt,gt,_t],o=[];function s(n,$){return n[5].type==="tracks"?0:n[5].type==="artists"?1:n[5].type==="albums"?2:-1}return~(e=s(a))&&(r=o[e]=f[e](a)),{c(){r&&r.c(),t=X()},l(n){r&&r.l(n),t=X()},m(n,$){~e&&o[e].m(n,$),w(n,t,$),l=!0},p(n,$){let c=e;e=s(n),e===c?~e&&o[e].p(n,$):(r&&(P(),g(o[c],1,1,()=>{o[c]=null}),B()),~e?(r=o[e],r?r.p(n,$):(r=o[e]=f[e](n),r.c()),_(r,1),r.m(t.parentNode,t)):r=null)},i(n){l||(_(r),l=!0)},o(n){g(r),l=!1},d(n){n&&d(t),~e&&o[e].d(n)}}}function _t(a){let e,r;return e=new ce({props:{style:"album",remote:a[5].data,local:a[3]}}),e.$on("end",a[7].next),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&32&&(f.remote=t[5].data),l&8&&(f.local=t[3]),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function gt(a){let e,r;return e=new ce({props:{style:"artist",remote:a[5].data,local:a[4]}}),e.$on("end",a[7].next),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&32&&(f.remote=t[5].data),l&16&&(f.local=t[4]),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function dt(a){let e,r;return e=new it({props:{remote:a[5].data,local:a[2]}}),e.$on("end",a[7].next),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&32&&(f.remote=t[5].data),l&4&&(f.local=t[2]),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function ht(a){let e,r;return e=new U({props:{name:"search"}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p:K,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function bt(a){let e,r,t;function l(o){a[10](o)}let f={stretch:!0,resettable:!0,placeholder:"Search",$$slots:{default:[ht]},$$scope:{ctx:a}};return a[1]!==void 0&&(f.value=a[1]),e=new Le({props:f}),Z.push(()=>ee(e,"value",l)),{c(){h(e.$$.fragment)},l(o){b(e.$$.fragment,o)},m(o,s){v(e,o,s),t=!0},p(o,s){const n={};s&32768&&(n.$$scope={dirty:s,ctx:o}),!r&&s&2&&(r=!0,n.value=o[1],x(()=>r=!1)),e.$set(n)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){k(e,o)}}}function vt(a){let e;return{c(){e=z("Tracks")},l(r){e=T(r,"Tracks")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function kt(a){let e;return{c(){e=z("Artists")},l(r){e=T(r,"Artists")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function wt(a){let e;return{c(){e=z("Albums")},l(r){e=T(r,"Albums")},m(r,t){w(r,e,t)},d(r){r&&d(e)}}}function yt(a){let e,r,t,l,f,o;return e=new O({props:{id:"tracks",$$slots:{default:[vt]},$$scope:{ctx:a}}}),t=new O({props:{id:"artists",$$slots:{default:[kt]},$$scope:{ctx:a}}}),f=new O({props:{id:"albums",$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),r=S(),h(t.$$.fragment),l=S(),h(f.$$.fragment)},l(s){b(e.$$.fragment,s),r=I(s),b(t.$$.fragment,s),l=I(s),b(f.$$.fragment,s)},m(s,n){v(e,s,n),w(s,r,n),v(t,s,n),w(s,l,n),v(f,s,n),o=!0},p(s,n){const $={};n&32768&&($.$$scope={dirty:n,ctx:s}),e.$set($);const c={};n&32768&&(c.$$scope={dirty:n,ctx:s}),t.$set(c);const u={};n&32768&&(u.$$scope={dirty:n,ctx:s}),f.$set(u)},i(s){o||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(f.$$.fragment,s),o=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),g(f.$$.fragment,s),o=!1},d(s){s&&(d(r),d(l)),k(e,s),k(t,s),k(f,s)}}}function Et(a){let e,r,t,l,f;e=new De({props:{not:!0,sm:!0,$$slots:{default:[bt]},$$scope:{ctx:a}}});function o(n){a[11](n)}let s={size:3,stretch:!0,$$slots:{default:[yt]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.value=a[0]),t=new Fe({props:s}),Z.push(()=>ee(t,"value",o)),{c(){h(e.$$.fragment),r=S(),h(t.$$.fragment)},l(n){b(e.$$.fragment,n),r=I(n),b(t.$$.fragment,n)},m(n,$){v(e,n,$),w(n,r,$),v(t,n,$),f=!0},p(n,$){const c={};$&32770&&(c.$$scope={dirty:$,ctx:n}),e.$set(c);const u={};$&32768&&(u.$$scope={dirty:$,ctx:n}),!l&&$&1&&(l=!0,u.value=n[0],x(()=>l=!1)),t.$set(u)},i(n){f||(_(e.$$.fragment,n),_(t.$$.fragment,n),f=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),f=!1},d(n){n&&d(r),k(e,n),k(t,n)}}}function St(a){let e,r;return e=new Ce({props:{$$slots:{default:[Et]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,l){v(e,t,l),r=!0},p(t,l){const f={};l&32771&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function It(a){let e,r,t,l,f,o,s,n,$;e=new Oe({props:{title:"Explore",$$slots:{default:[ct]},$$scope:{ctx:a}}});const c=[pt,mt],u=[];function m(i,p){return i[1]?0:1}return t=m(a),l=u[t]=c[t](a),o=new Ie({props:{to:"bottom",$$slots:{default:[St]},$$scope:{ctx:a}}}),document.title=n=(a[1]||"Explore")+" - Amadeus",{c(){h(e.$$.fragment),r=S(),l.c(),f=S(),h(o.$$.fragment),s=S()},l(i){b(e.$$.fragment,i),r=I(i),l.l(i),f=I(i),b(o.$$.fragment,i),s=I(i),fe("svelte-17zny61",document.head).forEach(d)},m(i,p){v(e,i,p),w(i,r,p),u[t].m(i,p),w(i,f,p),v(o,i,p),w(i,s,p),$=!0},p(i,[p]){const y={};p&32768&&(y.$$scope={dirty:p,ctx:i}),e.$set(y);let D=t;t=m(i),t===D?u[t].p(i,p):(P(),g(u[D],1,1,()=>{u[D]=null}),B(),l=u[t],l?l.p(i,p):(l=u[t]=c[t](i),l.c()),_(l,1),l.m(f.parentNode,f));const L={};p&32771&&(L.$$scope={dirty:p,ctx:i}),o.$set(L),(!$||p&2)&&n!==(n=(i[1]||"Explore")+" - Amadeus")&&(document.title=n)},i(i){$||(_(e.$$.fragment,i),_(l),_(o.$$.fragment,i),$=!0)},o(i){g(e.$$.fragment,i),g(l),g(o.$$.fragment,i),$=!1},d(i){i&&(d(r),d(f),d(s)),k(e,i),u[t].d(i),k(o,i)}}}function zt(a,e,r){let t,l,f,o;C(a,J,E=>r(1,t=E)),C(a,je,E=>r(8,l=E)),C(a,He,E=>r(9,f=E));let s=0;const n=["tracks","artists","albums"],$=ye(E=>Q.log(E),2e3),c=~~(globalThis.innerHeight/56*2),u=Pe({tracks:Y.tracks,artists:Y.artists,albums:Y.albums},ze.next,n[s]);C(a,u,E=>r(5,o=E));let m=[],i=[],p=[];function y(E){const A=decodeURIComponent(E).split("/");A.length<2||(r(0,s=n.indexOf(A[0])),~s||r(0,s=0),t!==A[1]&&ke(J,t=A[1],t))}function D(E){t=E,J.set(t)}function L(E){s=E,r(0,s)}return a.$$.update=()=>{var E;a.$$.dirty&512&&y(f.url.hash.slice(1)),a.$$.dirty&259&&(l||(E=globalThis.history)==null||E.replaceState(null,"",`#${n[s]}/${t}`)),a.$$.dirty&1&&u.choose(n[s]),a.$$.dirty&2&&u.update(t?{query:t,page:c}:null),a.$$.dirty&2&&Te.search(t).then(A=>r(2,m=A)),a.$$.dirty&2&&Ae.search(t).then(A=>r(3,i=A)),a.$$.dirty&2&&qe.search(t).then(A=>r(4,p=A)),a.$$.dirty&2&&$(t)},[s,t,m,i,p,o,n,u,l,f,D,L]}class Bt extends M{constructor(e){super(),R(this,e,zt,It,F,{})}}export{Bt as component};
