import{s as C,a as j,c as w,r as y,d as c,i as A,v as u,F as I,G as d,N as S}from"../chunks/scheduler.yhBzS9E6.js";import{S as q,i as E,b as f,d as $,m as _,a as g,t as b,e as h}from"../chunks/index.f7836kWu.js";import{C as F}from"../chunks/Collection.skwpo2VZ.js";import{b as G,j as H,a as p}from"../chunks/Track.oiOqwbPY.js";import{I as N}from"../chunks/Spinner.svelte_svelte_type_style_lang.NQN6mtec.js";import"../chunks/paths.G112lh3q.js";import{p as P}from"../chunks/stores.iu7Qu9dF.js";import{s as T}from"../chunks/stream.ZDy3xr7S.js";function x(o){let a,s;return a=new N({props:{name:"last",slot:"action"}}),{c(){f(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,n){_(a,t,n),s=!0},p:d,i(t){s||(g(a.$$.fragment,t),s=!0)},o(t){b(a.$$.fragment,t),s=!1},d(t){h(a,t)}}}function z(o){let a,s,t,n;return a=new F({props:{style:"album",tracks:o[1],of:o[1]?.detail,$$slots:{action:[x]},$$scope:{ctx:o}}}),a.$on("end",o[3]),document.title=t=(o[1]?.detail?`${o[1].detail.title} - `:"")+"Amadeus",{c(){f(a.$$.fragment),s=j()},l(e){$(a.$$.fragment,e),s=w(e),y("svelte-1gxvj9u",document.head).forEach(c)},m(e,r){_(a,e,r),A(e,s,r),n=!0},p(e,[r]){const i={};r&2&&(i.tracks=e[1]),r&2&&(i.of=e[1]?.detail),r&64&&(i.$$scope={dirty:r,ctx:e}),a.$set(i),(!n||r&2)&&t!==(t=(e[1]?.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(g(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){e&&c(s),h(a,e)}}}function B(o,a,s){let t,n,e=d,r=()=>(e(),e=S(t,m=>s(1,n=m)),t),i,l;u(o,p,m=>s(4,i=m)),u(o,P,m=>s(2,l=m)),o.$$.on_destroy.push(()=>e());const k=~~(globalThis.innerHeight/56*2),v=()=>t.next();return o.$$.update=()=>{o.$$.dirty&5&&t.update({id:+l.url.hash.slice(1),page:k}),o.$$.dirty&2&&I(p,i=n?.detail?[n.detail.title,"disk"]:null,i)},r(s(0,t=T(H.album,G.next))),[t,n,l,v]}class U extends q{constructor(a){super(),E(this,a,B,z,C,{})}}export{U as component};
