import{S as y,i as A,s as v,y as _,a as w,z as $,c as E,C as I,h as p,A as g,b as S,g as h,d as b,B as C,E as d,N as j,O as k,Z as q}from"../chunks/index.84a1bd3e.js";import{C as z}from"../chunks/Collection.8822b35c.js";import{a as B,g as H,e as f}from"../chunks/Track.16c4afc0.js";import{I as N}from"../chunks/Spinner.svelte_svelte_type_style_lang.83c449e3.js";import"../chunks/paths.be1c11ce.js";import{p as O}from"../chunks/stores.793de16b.js";import{s as P}from"../chunks/stream.ea144ec9.js";function T(s){let a,o;return a=new N({props:{name:"last",slot:"action"}}),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,n){g(a,t,n),o=!0},p:k,i(t){o||(h(a.$$.fragment,t),o=!0)},o(t){b(a.$$.fragment,t),o=!1},d(t){C(a,t)}}}function Z(s){var l,c;let a,o,t,n;return a=new z({props:{style:"album",tracks:s[1],of:(l=s[1])==null?void 0:l.detail,$$slots:{action:[T]},$$scope:{ctx:s}}}),a.$on("end",s[3]),document.title=t=((c=s[1])!=null&&c.detail?`${s[1].detail.title} - `:"")+"Amadeus",{c(){_(a.$$.fragment),o=w()},l(e){$(a.$$.fragment,e),o=E(e),I("svelte-1gxvj9u",document.head).forEach(p)},m(e,r){g(a,e,r),S(e,o,r),n=!0},p(e,[r]){var u,i;const m={};r&2&&(m.tracks=e[1]),r&2&&(m.of=(u=e[1])==null?void 0:u.detail),r&64&&(m.$$scope={dirty:r,ctx:e}),a.$set(m),(!n||r&2)&&t!==(t=((i=e[1])!=null&&i.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(h(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){C(a,e),e&&p(o)}}}function x(s,a,o){let t,n,l=k,c=()=>(l(),l=q(t,i=>o(1,n=i)),t),e,r;d(s,f,i=>o(4,e=i)),d(s,O,i=>o(2,r=i)),s.$$.on_destroy.push(()=>l());const m=~~(globalThis.innerHeight/56*2.5),u=()=>t.next();return s.$$.update=()=>{s.$$.dirty&5&&t.update({id:+r.url.hash.slice(1),page:m}),s.$$.dirty&2&&j(f,e=n!=null&&n.detail?[n.detail.title,"disk"]:null,e)},c(o(0,t=P(H.album,B.next))),[t,n,r,u]}class Q extends y{constructor(a){super(),A(this,a,x,Z,v,{})}}export{Q as component};
