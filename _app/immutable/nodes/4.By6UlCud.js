import{s as v,a as w,g as y,l as A,f as p,i as I,k as f,m as S,n as _,o as j}from"../chunks/scheduler.CPjqGZYx.js";import{S as q,i as E,c as $,a as g,m as h,t as b,b as k,d as C}from"../chunks/index.7wDAvZi8.js";import{C as H}from"../chunks/Collection.C8uEO0QA.js";import{s as P,e as T,a as d}from"../chunks/Track.DZwNsFsU.js";import{I as x}from"../chunks/Spinner.svelte_svelte_type_style_lang.Dr-EyWnV.js";import"../chunks/entry.g64l517q.js";import{p as z}from"../chunks/stores.DU8u2-Bt.js";import{s as B}from"../chunks/stream.CFaxUjxm.js";function D(o){let a,s;return a=new x({props:{name:"last",slot:"action"}}),{c(){$(a.$$.fragment)},l(t){g(a.$$.fragment,t)},m(t,n){h(a,t,n),s=!0},p:_,i(t){s||(b(a.$$.fragment,t),s=!0)},o(t){k(a.$$.fragment,t),s=!1},d(t){C(a,t)}}}function F(o){var m,c;let a,s,t,n;return a=new H({props:{style:"album",tracks:o[1],of:(m=o[1])==null?void 0:m.detail,$$slots:{action:[D]},$$scope:{ctx:o}}}),a.$on("end",o[3]),document.title=t=((c=o[1])!=null&&c.detail?`${o[1].detail.title} - `:"")+"Amadeus",{c(){$(a.$$.fragment),s=w()},l(e){g(a.$$.fragment,e),s=y(e),A("svelte-1gxvj9u",document.head).forEach(p)},m(e,r){h(a,e,r),I(e,s,r),n=!0},p(e,[r]){var u,i;const l={};r&2&&(l.tracks=e[1]),r&2&&(l.of=(u=e[1])==null?void 0:u.detail),r&64&&(l.$$scope={dirty:r,ctx:e}),a.$set(l),(!n||r&2)&&t!==(t=((i=e[1])!=null&&i.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(b(a.$$.fragment,e),n=!0)},o(e){k(a.$$.fragment,e),n=!1},d(e){e&&p(s),C(a,e)}}}function G(o,a,s){let t,n,m=_,c=()=>(m(),m=j(t,i=>s(1,n=i)),t),e,r;f(o,d,i=>s(4,e=i)),f(o,z,i=>s(2,r=i)),o.$$.on_destroy.push(()=>m());const l=~~(globalThis.innerHeight/56*2),u=()=>t.next();return o.$$.update=()=>{o.$$.dirty&5&&t.update({id:+r.url.hash.slice(1),page:l}),o.$$.dirty&2&&S(d,e=n!=null&&n.detail?[n.detail.title,"disk"]:null,e)},c(s(0,t=B(T.album,P.next))),[t,n,r,u]}class U extends q{constructor(a){super(),E(this,a,G,F,v,{})}}export{U as component};
