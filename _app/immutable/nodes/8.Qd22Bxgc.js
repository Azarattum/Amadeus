import{P as re,Q as le,R as O,S as oe,s as W,p as R,w as F,f as z,a as M,g as A,h as D,c as N,d,j as k,E as w,i as y,u as I,J as K,C as ce,K as ue,x as X,y as Z,z as x,T as ie,A as fe,o as _e,G as g,e as Q,r as ee,k as S,U as me,V as pe,I as he,L as $e,l as te,m as se,v as P,D as de}from"../chunks/scheduler.yhBzS9E6.js";import{g as ge,t as v,c as ve,a as b,S as q,i as G,f as be,b as C,d as L,m as E,e as T}from"../chunks/index.f7836kWu.js";import{e as U,p as j,s as ke,g as we,t as Ce}from"../chunks/Track.gn00RVS1.js";import{S as ne}from"../chunks/Spinner.svelte_svelte_type_style_lang.Fuk1BDPo.js";import{i as Le,T as Ee}from"../chunks/Player.8mTlGfoI.js";import{a as Te}from"../chunks/autoscroll.Qmi5BYA-.js";import"../chunks/paths.a9wi_hIB.js";import{T as ye}from"../chunks/util.58snLSLg.js";import{O as ae}from"../chunks/Overview.nQSTDvKD.js";function Se(s,e){const n=e.token={};function t(a,r,u,o){if(e.token!==n)return;e.resolved=o;let f=e.ctx;u!==void 0&&(f=f.slice(),f[u]=o);const c=a&&(e.current=a)(f);let p=!1;e.block&&(e.blocks?e.blocks.forEach((i,m)=>{m!==r&&i&&(ge(),v(i,1,1,()=>{e.blocks[m]===i&&(e.blocks[m]=null)}),ve())}):e.block.d(1),c.c(),b(c,1),c.m(e.mount(),e.anchor),p=!0),e.block=c,e.blocks&&(e.blocks[r]=c),p&&oe()}if(re(s)){const a=le();if(s.then(r=>{O(a),t(e.then,1,e.value,r),O(null)},r=>{if(O(a),t(e.catch,2,e.error,r),O(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function Ie(s,e,n){const t=e.slice(),{resolved:a}=s;s.current===s.then&&(t[s.value]=a),s.current===s.catch&&(t[s.error]=a),s.block.p(t,n)}function ze(s){let e;return{c(){e=z("div"),this.h()},l(n){e=A(n,"DIV",{class:!0}),D(e).forEach(d),this.h()},h(){k(e,"class","py-11")},m(n,t){y(n,e,t)},p:g,d(n){n&&d(e)}}}function Ae(s){let e,n,t,a,r,u,o,f;function c(l){s[6](l)}let p={title:s[0],$$slots:{default:[ze]},$$scope:{ctx:s}};s[3]!==void 0&&(p.stuck=s[3]),n=new ye({props:p}),R.push(()=>be(n,"stuck",c));const i=s[5].default,m=F(i,s,s[8],null);return{c(){e=z("section"),C(n.$$.fragment),a=M(),m&&m.c(),this.h()},l(l){e=A(l,"SECTION",{id:!0,class:!0});var _=D(e);L(n.$$.fragment,_),a=N(_),m&&m.l(_),_.forEach(d),this.h()},h(){k(e,"id",r=s[0].toLowerCase()),k(e,"class","relative z-10 h-full w-full snap-start snap-always overflow-x-hidden overflow-y-scroll"),w(e,"[&~nav_div_a]:pointer-events-none",s[2]&&s[3]),w(e,"[&~nav_div_a]:-translate-y-full",s[2]&&s[3]),w(e,"[&~nav_div]:opacity-0",s[2]&&s[3]),w(e,"target",s[2])},m(l,_){y(l,e,_),E(n,e,null),I(e,a),m&&m.m(e,null),s[7](e),u=!0,o||(f=[K(Le.call(null,e,[0,.5,.999])),ce(e,"intersect",s[4]),K(Te.call(null,e))],o=!0)},p(l,[_]){const h={};_&1&&(h.title=l[0]),_&256&&(h.$$scope={dirty:_,ctx:l}),!t&&_&8&&(t=!0,h.stuck=l[3],ue(()=>t=!1)),n.$set(h),m&&m.p&&(!u||_&256)&&X(m,i,l,l[8],u?x(i,l[8],_,null):Z(l[8]),null),(!u||_&1&&r!==(r=l[0].toLowerCase()))&&k(e,"id",r),(!u||_&12)&&w(e,"[&~nav_div_a]:pointer-events-none",l[2]&&l[3]),(!u||_&12)&&w(e,"[&~nav_div_a]:-translate-y-full",l[2]&&l[3]),(!u||_&12)&&w(e,"[&~nav_div]:opacity-0",l[2]&&l[3]),(!u||_&4)&&w(e,"target",l[2])},i(l){u||(b(n.$$.fragment,l),b(m,l),u=!0)},o(l){v(n.$$.fragment,l),v(m,l),u=!1},d(l){l&&d(e),T(n),m&&m.d(l),s[7](null),o=!1,ie(f)}}}function Ve(s,e,n){let{$$slots:t={},$$scope:a}=e,{name:r}=e;const u=fe("tabs");u.push(r);let o,f=!1,c=!1;function p({detail:l}){if(u.length<=1)return n(2,f=!0);n(2,f=l.intersectionRatio>.5),l.intersectionRatio>=.999&&location.replace(`#${r.toLowerCase()}`)}_e(()=>{location.hash===`#${r.toLowerCase()}`&&o.scrollIntoView()});function i(l){c=l,n(3,c)}function m(l){R[l?"unshift":"push"](()=>{o=l,n(1,o)})}return s.$$set=l=>{"name"in l&&n(0,r=l.name),"$$scope"in l&&n(8,a=l.$$scope)},[r,o,f,c,p,t,i,m,a]}class H extends q{constructor(e){super(),G(this,e,Ve,Ae,W,{name:0})}}function Y(s,e,n){const t=s.slice();return t[14]=e[n],t[15]=e,t[16]=n,t}function B(s){let e,n,t=s[14]+"",a,r,u=s[16];const o=()=>s[10](e,u),f=()=>s[10](null,u);return{c(){e=z("div"),n=z("a"),a=te(t),r=M(),this.h()},l(c){e=A(c,"DIV",{class:!0,"aria-label":!0});var p=D(e);n=A(p,"A",{href:!0,class:!0});var i=D(n);a=se(i,t),i.forEach(d),r=N(p),p.forEach(d),this.h()},h(){k(n,"href","#"+s[14].toLowerCase()),k(n,"class","block transform-gpu touch-manipulation select-none transition-composite duration-300 will-change-transform focus-visible:underline focus-visible:outline-none hover:text-content-100 svelte-1ucfubu"),k(e,"class","h-11 origin-top-left overflow-hidden pl-4 text-center text-2xl font-normal text-content-200 underline-offset-4 transition-opacity duration-300 ease-in svelte-1ucfubu"),k(e,"aria-label",s[14]),S(e,"transform",s[4][s[16]])},m(c,p){y(c,e,p),I(e,n),I(n,a),I(e,r),o()},p(c,p){s=c,u!==s[16]&&(f(),u=s[16],o()),p&16&&S(e,"transform",s[4][s[16]])},d(c){c&&d(e),f()}}}function Me(s){return{c:g,l:g,m:g,p:g,d:g}}function De(s){let e,n=s[13]+"",t;return{c(){e=z("style"),t=te(n),this.h()},l(a){e=A(a,"STYLE",{class:!0});var r=D(e);t=se(r,n),r.forEach(d),this.h()},h(){k(e,"class","svelte-1ucfubu")},m(a,r){y(a,e,r),I(e,t)},p:g,d(a){a&&d(e)}}}function Ne(s){return{c:g,l:g,m:g,p:g,d:g}}function Oe(s){let e,n,t,a,r,u,o;const f=s[9].default,c=F(f,s,s[8],null);let p=U(s[5]),i=[];for(let l=0;l<p.length;l+=1)i[l]=B(Y(s,p,l));let m={ctx:s,current:null,token:null,hasCatch:!1,pending:Ne,then:De,catch:Me,value:13};return Se(s[6](),m),{c(){e=z("main"),c&&c.c(),n=M(),t=z("nav");for(let l=0;l<i.length;l+=1)i[l].c();r=M(),u=Q(),m.block.c(),this.h()},l(l){e=A(l,"MAIN",{class:!0,style:!0});var _=D(e);c&&c.l(_),n=N(_),t=A(_,"NAV",{class:!0,style:!0});var h=D(t);for(let V=0;V<i.length;V+=1)i[V].l(h);h.forEach(d),_.forEach(d),r=N(l);const $=ee("svelte-173t04m",document.head);u=Q(),m.block.l($),$.forEach(d),this.h()},h(){k(t,"class","pointer-events-none absolute z-10 mt-11 flex origin-top-left transition-opacity contain-layout svelte-1ucfubu"),S(t,"transform-style","preserve-3d"),S(t,"transform",s[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),k(e,"class","grid h-full max-h-[100dvh] snap-x snap-mandatory overflow-y-hidden overflow-x-scroll svelte-1ucfubu"),S(e,"grid","auto / auto-flow 100%"),S(e,"perspective","1px"),S(e,"perspective-origin","top left"),me(()=>s[12].call(e)),w(e,"scroll-smooth",s[2])},m(l,_){y(l,e,_),c&&c.m(e,null),I(e,n),I(e,t);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(t,null);s[11](e),a=pe(e,s[12].bind(e)),y(l,r,_),I(document.head,u),m.block.m(document.head,m.anchor=null),m.mount=()=>u.parentNode,m.anchor=u,o=!0},p(l,[_]){if(s=l,c&&c.p&&(!o||_&256)&&X(c,f,s,s[8],o?x(f,s[8],_,null):Z(s[8]),null),_&49){p=U(s[5]);let h;for(h=0;h<p.length;h+=1){const $=Y(s,p,h);i[h]?i[h].p($,_):(i[h]=B($),i[h].c(),i[h].m(t,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=p.length}_&16&&S(t,"transform",s[4][0]?"":"translate3d(0,-2.75rem,-99999px) scale(100000) translate3d(0,2.75rem,0)"),(!o||_&4)&&w(e,"scroll-smooth",s[2]),Ie(m,s,_)},i(l){o||(b(c,l),o=!0)},o(l){v(c,l),o=!1},d(l){l&&(d(e),d(r)),c&&c.d(l),he(i,l),s[11](null),a(),d(u),m.block.d(),m.token=null,m=null}}}function Pe(s,e,n){let t,a,r,{$$slots:u={},$$scope:o}=e;const f=[],c=[];$e("tabs",c);let p,i=0;function m(){return c.map($=>`:where(#${$.toLowerCase()}).target~nav>div{color:hsl(var(--color-content-200));pointer-events:auto;font-weight:normal;}:where(#${$.toLowerCase()}:target~nav)>div[aria-label='${$}'],#${$.toLowerCase()}.target~nav>div[aria-label='${$}']{color:hsl(var(--color-content));pointer-events:none;font-weight:bold;}`).join("")}function l($,V){R[$?"unshift":"push"](()=>{f[V]=$,n(0,f)})}function _($){R[$?"unshift":"push"](()=>{p=$,n(3,p)})}function h(){i=this.clientWidth,n(1,i)}return s.$$set=$=>{"$$scope"in $&&n(8,o=$.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&n(7,t=f.map($=>$.offsetLeft)),s.$$.dirty&131&&n(2,a=t.slice(-1)[0]+f.slice(-1)[0]?.clientWidth>=i),s.$$.dirty&134&&n(4,r=t.map(($,V)=>{if(!a)return"";const J=i*V/$||1;return`
      translate3d(${-$}px,-2.75rem,${-J+1}px)
      scale(${J})
      translate3d(${$}px,2.75rem,0)
    `}))},[f,i,a,p,r,c,m,t,o,u,l,_,h]}class Re extends q{constructor(e){super(),G(this,e,Pe,Oe,W,{})}}function je(s){let e,n;return e=new ae({props:{style:"playlist",filter:s[0],of:s[1],expandable:!0,editable:!0}}),e.$on("rearrange",s[4]),e.$on("create",s[5]),{c(){C(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){E(e,t,a),n=!0},p(t,a){const r={};a&1&&(r.filter=t[0]),a&2&&(r.of=t[1]),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function He(s){let e,n;return e=new ne({props:{class:"p-4",$$slots:{default:[je]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){E(e,t,a),n=!0},p(t,a){const r={};a&67&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function We(s){let e,n;return e=new ae({props:{style:"artist",of:s[2],filter:s[0]}}),{c(){C(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){E(e,t,a),n=!0},p(t,a){const r={};a&4&&(r.of=t[2]),a&1&&(r.filter=t[0]),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function qe(s){let e,n;return e=new ne({props:{class:"p-4",$$slots:{default:[We]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){E(e,t,a),n=!0},p(t,a){const r={};a&69&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ge(s){let e,n="";return{c(){e=z("div"),e.innerHTML=n},l(t){e=A(t,"DIV",{"data-svelte-h":!0}),de(e)!=="svelte-17lvuvg"&&(e.innerHTML=n)},m(t,a){y(t,e,a)},p:g,d(t){t&&d(e)}}}function Je(s){let e,n;return e=new Ee({props:{tracks:s[3],timeline:!0,fixed:!0,class:"pt-4",$$slots:{default:[Ge]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,a){E(e,t,a),n=!0},p(t,a){const r={};a&8&&(r.tracks=t[3]),a&64&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ke(s){let e,n,t,a,r,u;return e=new H({props:{name:"Playlists",$$slots:{default:[He]},$$scope:{ctx:s}}}),t=new H({props:{name:"Artists",$$slots:{default:[qe]},$$scope:{ctx:s}}}),r=new H({props:{name:"Timeline",$$slots:{default:[Je]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment),n=M(),C(t.$$.fragment),a=M(),C(r.$$.fragment)},l(o){L(e.$$.fragment,o),n=N(o),L(t.$$.fragment,o),a=N(o),L(r.$$.fragment,o)},m(o,f){E(e,o,f),y(o,n,f),E(t,o,f),y(o,a,f),E(r,o,f),u=!0},p(o,f){const c={};f&67&&(c.$$scope={dirty:f,ctx:o}),e.$set(c);const p={};f&69&&(p.$$scope={dirty:f,ctx:o}),t.$set(p);const i={};f&72&&(i.$$scope={dirty:f,ctx:o}),r.$set(i)},i(o){u||(b(e.$$.fragment,o),b(t.$$.fragment,o),b(r.$$.fragment,o),u=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),v(r.$$.fragment,o),u=!1},d(o){o&&(d(n),d(a)),T(e,o),T(t,o),T(r,o)}}}function Qe(s){let e,n,t;return e=new Re({props:{$$slots:{default:[Ke]},$$scope:{ctx:s}}}),{c(){C(e.$$.fragment),n=M(),this.h()},l(a){L(e.$$.fragment,a),n=N(a),ee("svelte-vup3nb",document.head).forEach(d),this.h()},h(){document.title="Library - Amadeus"},m(a,r){E(e,a,r),y(a,n,r),t=!0},p(a,[r]){const u={};r&79&&(u.$$scope={dirty:r,ctx:a}),e.$set(u)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){a&&d(n),T(e,a)}}}function Ue(s,e,n){let t,a,r,u;return P(s,ke,c=>n(0,t=c)),P(s,j,c=>n(1,a=c)),P(s,we,c=>n(2,r=c)),P(s,Ce,c=>n(3,u=c)),[t,a,r,u,({detail:c})=>j.rearrange(c.id,c.after),()=>j.create({title:Math.random().toString(36).slice(2)})]}class nt extends q{constructor(e){super(),G(this,e,Ue,Qe,W,{})}}export{nt as component};
