import{S as A,i as k,s as v,y as _,a as w,z as $,c as E,C as I,h as u,A as g,b as S,g as h,d as b,B as C,E as f,N as j,O as y,Z as q}from"../chunks/index.84a1bd3e.js";import{C as z}from"../chunks/Collection.a568aced.js";import{a as B,g as H,e as d}from"../chunks/Track.6768b023.js";import{I as N}from"../chunks/Spinner.svelte_svelte_type_style_lang.c79e8ea4.js";import"../chunks/paths.4d142c44.js";import{p as O}from"../chunks/stores.43b7c4d3.js";import{s as P}from"../chunks/stream.22c578cd.js";function T(s){let a,o;return a=new N({props:{name:"last",slot:"action"}}),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,n){g(a,t,n),o=!0},p:y,i(t){o||(h(a.$$.fragment,t),o=!0)},o(t){b(a.$$.fragment,t),o=!1},d(t){C(a,t)}}}function Z(s){var l,m;let a,o,t,n;return a=new z({props:{style:"artist",tracks:s[1],of:(l=s[1])==null?void 0:l.detail,$$slots:{action:[T]},$$scope:{ctx:s}}}),a.$on("end",s[3]),document.title=t=((m=s[1])!=null&&m.detail?`${s[1].detail.title} - `:"")+"Amadeus",{c(){_(a.$$.fragment),o=w()},l(e){$(a.$$.fragment,e),o=E(e),I("svelte-1gxvj9u",document.head).forEach(u)},m(e,r){g(a,e,r),S(e,o,r),n=!0},p(e,[r]){var p,i;const c={};r&2&&(c.tracks=e[1]),r&2&&(c.of=(p=e[1])==null?void 0:p.detail),r&64&&(c.$$scope={dirty:r,ctx:e}),a.$set(c),(!n||r&2)&&t!==(t=((i=e[1])!=null&&i.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(h(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){C(a,e),e&&u(o)}}}function x(s,a,o){let t,n,l=y,m=()=>(l(),l=q(t,i=>o(1,n=i)),t),e,r;f(s,d,i=>o(4,e=i)),f(s,O,i=>o(2,r=i)),s.$$.on_destroy.push(()=>l());const c=~~(globalThis.innerHeight/56*2.5),p=()=>t.next();return s.$$.update=()=>{s.$$.dirty&5&&t.update({id:+r.url.hash.slice(1),page:c}),s.$$.dirty&2&&j(d,e=n!=null&&n.detail?[n.detail.title,"person"]:null,e)},m(o(0,t=P(H.artist,B.next))),[t,n,r,p]}class Q extends A{constructor(a){super(),k(this,a,x,Z,v,{})}}export{Q as component};
