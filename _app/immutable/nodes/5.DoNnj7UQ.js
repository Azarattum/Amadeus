import{s as v,a as w,g as y,l as A,f as u,i as I,k as f,m as S,n as _,o as j}from"../chunks/scheduler.DDjrWeav.js";import{S as q,i as E,c as $,a as g,m as h,t as b,b as k,d as C}from"../chunks/index.BWfIHt0K.js";import{C as H}from"../chunks/Collection.Cvy9fJvG.js";import{s as P,e as T,a as d}from"../chunks/Track.CGmzjMME.js";import{I as x}from"../chunks/Spinner.svelte_svelte_type_style_lang.CVtj6b5a.js";import"../chunks/entry.C9Rc-9Zn.js";import{p as z}from"../chunks/stores.iUccoYPF.js";import{s as B}from"../chunks/stream.CJC6lxkV.js";function D(s){let a,o;return a=new x({props:{name:"last",slot:"action"}}),{c(){$(a.$$.fragment)},l(t){g(a.$$.fragment,t)},m(t,n){h(a,t,n),o=!0},p:_,i(t){o||(b(a.$$.fragment,t),o=!0)},o(t){k(a.$$.fragment,t),o=!1},d(t){C(a,t)}}}function F(s){var m,c;let a,o,t,n;return a=new H({props:{style:"artist",tracks:s[1],of:(m=s[1])==null?void 0:m.detail,$$slots:{action:[D]},$$scope:{ctx:s}}}),a.$on("end",s[3]),document.title=t=((c=s[1])!=null&&c.detail?`${s[1].detail.title} - `:"")+"Amadeus",{c(){$(a.$$.fragment),o=w()},l(e){g(a.$$.fragment,e),o=y(e),A("svelte-1gxvj9u",document.head).forEach(u)},m(e,r){h(a,e,r),I(e,o,r),n=!0},p(e,[r]){var p,i;const l={};r&2&&(l.tracks=e[1]),r&2&&(l.of=(p=e[1])==null?void 0:p.detail),r&64&&(l.$$scope={dirty:r,ctx:e}),a.$set(l),(!n||r&2)&&t!==(t=((i=e[1])!=null&&i.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(b(a.$$.fragment,e),n=!0)},o(e){k(a.$$.fragment,e),n=!1},d(e){e&&u(o),C(a,e)}}}function G(s,a,o){let t,n,m=_,c=()=>(m(),m=j(t,i=>o(1,n=i)),t),e,r;f(s,d,i=>o(4,e=i)),f(s,z,i=>o(2,r=i)),s.$$.on_destroy.push(()=>m());const l=~~(globalThis.innerHeight/56*2),p=()=>t.next();return s.$$.update=()=>{s.$$.dirty&5&&t.update({id:+r.url.hash.slice(1),page:l}),s.$$.dirty&2&&S(d,e=n!=null&&n.detail?[n.detail.title,"person"]:null,e)},c(o(0,t=B(T.artist,P.next))),[t,n,r,p]}class U extends q{constructor(a){super(),E(this,a,G,F,v,{})}}export{U as component};
