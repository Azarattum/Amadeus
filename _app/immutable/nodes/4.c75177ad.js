import{s as C,a as j,c as w,r as y,d as p,i as A,v as d,F as I,G as _,N as S}from"../chunks/scheduler.c5d52407.js";import{S as q,i as E,b as $,d as g,m as b,a as h,t as k,e as v}from"../chunks/index.0fc8bad8.js";import{C as F}from"../chunks/Collection.e0f6f15c.js";import{b as G,j as H,a as f}from"../chunks/Track.045956c1.js";import{I as N}from"../chunks/Spinner.svelte_svelte_type_style_lang.a6e64879.js";import"../chunks/paths.36287d71.js";import{p as P}from"../chunks/stores.66837f07.js";import{s as T}from"../chunks/stream.80790bc7.js";function x(o){let a,s;return a=new N({props:{name:"last",slot:"action"}}),{c(){$(a.$$.fragment)},l(t){g(a.$$.fragment,t)},m(t,n){b(a,t,n),s=!0},p:_,i(t){s||(h(a.$$.fragment,t),s=!0)},o(t){k(a.$$.fragment,t),s=!1},d(t){v(a,t)}}}function z(o){var m,c;let a,s,t,n;return a=new F({props:{style:"album",tracks:o[1],of:(m=o[1])==null?void 0:m.detail,$$slots:{action:[x]},$$scope:{ctx:o}}}),a.$on("end",o[3]),document.title=t=((c=o[1])!=null&&c.detail?`${o[1].detail.title} - `:"")+"Amadeus",{c(){$(a.$$.fragment),s=j()},l(e){g(a.$$.fragment,e),s=w(e),y("svelte-1gxvj9u",document.head).forEach(p)},m(e,r){b(a,e,r),A(e,s,r),n=!0},p(e,[r]){var u,i;const l={};r&2&&(l.tracks=e[1]),r&2&&(l.of=(u=e[1])==null?void 0:u.detail),r&64&&(l.$$scope={dirty:r,ctx:e}),a.$set(l),(!n||r&2)&&t!==(t=((i=e[1])!=null&&i.detail?`${e[1].detail.title} - `:"")+"Amadeus")&&(document.title=t)},i(e){n||(h(a.$$.fragment,e),n=!0)},o(e){k(a.$$.fragment,e),n=!1},d(e){e&&p(s),v(a,e)}}}function B(o,a,s){let t,n,m=_,c=()=>(m(),m=S(t,i=>s(1,n=i)),t),e,r;d(o,f,i=>s(4,e=i)),d(o,P,i=>s(2,r=i)),o.$$.on_destroy.push(()=>m());const l=~~(globalThis.innerHeight/56*2),u=()=>t.next();return o.$$.update=()=>{o.$$.dirty&5&&t.update({id:+r.url.hash.slice(1),page:l}),o.$$.dirty&2&&I(f,e=n!=null&&n.detail?[n.detail.title,"disk"]:null,e)},c(s(0,t=T(H.album,G.next))),[t,n,r,u]}class U extends q{constructor(a){super(),E(this,a,B,z,C,{})}}export{U as component};
